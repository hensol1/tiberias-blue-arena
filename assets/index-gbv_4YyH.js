var hw=t=>{throw TypeError(t)};var Xf=(t,e,n)=>e.has(t)||hw("Cannot "+n);var $=(t,e,n)=>(Xf(t,e,"read from private field"),n?n.call(t):e.get(t)),Ae=(t,e,n)=>e.has(t)?hw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Xf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),At=(t,e,n)=>(Xf(t,e,"access private method"),n);var Iu=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return $(t,e,r)}});function BR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function iE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oE={exports:{}},Oh={},aE={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dc=Symbol.for("react.element"),zR=Symbol.for("react.portal"),HR=Symbol.for("react.fragment"),WR=Symbol.for("react.strict_mode"),qR=Symbol.for("react.profiler"),GR=Symbol.for("react.provider"),KR=Symbol.for("react.context"),QR=Symbol.for("react.forward_ref"),YR=Symbol.for("react.suspense"),XR=Symbol.for("react.memo"),JR=Symbol.for("react.lazy"),fw=Symbol.iterator;function ZR(t){return t===null||typeof t!="object"?null:(t=fw&&t[fw]||t["@@iterator"],typeof t=="function"?t:null)}var lE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cE=Object.assign,uE={};function wa(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||lE}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dE(){}dE.prototype=wa.prototype;function zg(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||lE}var Hg=zg.prototype=new dE;Hg.constructor=zg;cE(Hg,wa.prototype);Hg.isPureReactComponent=!0;var pw=Array.isArray,hE=Object.prototype.hasOwnProperty,Wg={current:null},fE={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)hE.call(e,r)&&!fE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dc,type:t,key:i,ref:o,props:s,_owner:Wg.current}}function eP(t,e){return{$$typeof:Dc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Dc}function tP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mw=/\/+/g;function Jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tP(""+t.key):e.toString(36)}function od(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Dc:case zR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jf(o,0):r,pw(s)?(n="",t!=null&&(n=t.replace(mw,"$&/")+"/"),od(s,e,n,"",function(d){return d})):s!=null&&(qg(s)&&(s=eP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",pw(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Jf(i,a);o+=od(i,e,n,l,s)}else if(l=ZR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Jf(i,a++),o+=od(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cu(t,e,n){if(t==null)return t;var r=[],s=0;return od(t,r,"","",function(i){return e.call(n,i,s++)}),r}function nP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},ad={transition:null},rP={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:ad,ReactCurrentOwner:Wg};function mE(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Cu,forEach:function(t,e,n){Cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cu(t,function(){e++}),e},toArray:function(t){return Cu(t,function(e){return e})||[]},only:function(t){if(!qg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=wa;ve.Fragment=HR;ve.Profiler=qR;ve.PureComponent=zg;ve.StrictMode=WR;ve.Suspense=YR;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rP;ve.act=mE;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Wg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hE.call(e,l)&&!fE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Dc,type:t.type,key:s,ref:i,props:r,_owner:o}};ve.createContext=function(t){return t={$$typeof:KR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:GR,_context:t},t.Consumer=t};ve.createElement=pE;ve.createFactory=function(t){var e=pE.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:QR,render:t}};ve.isValidElement=qg;ve.lazy=function(t){return{$$typeof:JR,_payload:{_status:-1,_result:t},_init:nP}};ve.memo=function(t,e){return{$$typeof:XR,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=ad.transition;ad.transition={};try{t()}finally{ad.transition=e}};ve.unstable_act=mE;ve.useCallback=function(t,e){return qt.current.useCallback(t,e)};ve.useContext=function(t){return qt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return qt.current.useEffect(t,e)};ve.useId=function(){return qt.current.useId()};ve.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return qt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ve.useRef=function(t){return qt.current.useRef(t)};ve.useState=function(t){return qt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return qt.current.useTransition()};ve.version="18.3.1";aE.exports=ve;var g=aE.exports;const q=iE(g),gE=BR({__proto__:null,default:q},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP=g,iP=Symbol.for("react.element"),oP=Symbol.for("react.fragment"),aP=Object.prototype.hasOwnProperty,lP=sP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cP={key:!0,ref:!0,__self:!0,__source:!0};function vE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aP.call(e,r)&&!cP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:iP,type:t,key:i,ref:o,props:s,_owner:lP.current}}Oh.Fragment=oP;Oh.jsx=vE;Oh.jsxs=vE;oE.exports=Oh;var c=oE.exports,yE={exports:{}},yn={},wE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var J=L.length;L.push(z);e:for(;0<J;){var G=J-1>>>1,Z=L[G];if(0<s(Z,z))L[G]=z,L[J]=Z,J=G;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],J=L.pop();if(J!==z){L[0]=J;e:for(var G=0,Z=L.length,ne=Z>>>1;G<ne;){var Ce=2*(G+1)-1,ze=L[Ce],me=Ce+1,te=L[me];if(0>s(ze,J))me<Z&&0>s(te,ze)?(L[G]=te,L[me]=J,G=me):(L[G]=ze,L[Ce]=J,G=Ce);else if(me<Z&&0>s(te,J))L[G]=te,L[me]=J,G=me;else break e}}return z}function s(L,z){var J=L.sortIndex-z.sortIndex;return J!==0?J:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,p=null,f=3,x=!1,S=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(L){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=L)r(d),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(d)}}function R(L){if(v=!1,T(L),!S)if(n(l)!==null)S=!0,Y(D);else{var z=n(d);z!==null&&re(R,z.startTime-L)}}function D(L,z){S=!1,v&&(v=!1,E(C),C=-1),x=!0;var J=f;try{for(T(z),p=n(l);p!==null&&(!(p.expirationTime>z)||L&&!j());){var G=p.callback;if(typeof G=="function"){p.callback=null,f=p.priorityLevel;var Z=G(p.expirationTime<=z);z=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(l)&&r(l),T(z)}else r(l);p=n(l)}if(p!==null)var ne=!0;else{var Ce=n(d);Ce!==null&&re(R,Ce.startTime-z),ne=!1}return ne}finally{p=null,f=J,x=!1}}var O=!1,I=null,C=-1,_=5,A=-1;function j(){return!(t.unstable_now()-A<_)}function k(){if(I!==null){var L=t.unstable_now();A=L;var z=!0;try{z=I(!0,L)}finally{z?P():(O=!1,I=null)}}else O=!1}var P;if(typeof w=="function")P=function(){w(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ee=B.port2;B.port1.onmessage=k,P=function(){ee.postMessage(null)}}else P=function(){b(k,0)};function Y(L){I=L,O||(O=!0,P())}function re(L,z){C=b(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Y(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var J=f;f=z;try{return L()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var J=f;f=L;try{return z()}finally{f=J}},t.unstable_scheduleCallback=function(L,z,J){var G=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?G+J:G):J=G,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=J+Z,L={id:h++,callback:z,priorityLevel:L,startTime:J,expirationTime:Z,sortIndex:-1},J>G?(L.sortIndex=J,e(d,L),n(l)===null&&L===n(d)&&(v?(E(C),C=-1):v=!0,re(R,J-G))):(L.sortIndex=Z,e(l,L),S||x||(S=!0,Y(D))),L},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(L){var z=f;return function(){var J=f;f=z;try{return L.apply(this,arguments)}finally{f=J}}}})(xE);wE.exports=xE;var uP=wE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=g,gn=uP;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Yl={};function $i(t,e){ea(t,e),ea(t+"Capture",e)}function ea(t,e){for(Yl[t]=e,t=0;t<e.length;t++)_E.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=Object.prototype.hasOwnProperty,hP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gw={},vw={};function fP(t){return Zp.call(vw,t)?!0:Zp.call(gw,t)?!1:hP.test(t)?vw[t]=!0:(gw[t]=!0,!1)}function pP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mP(t,e,n,r){if(e===null||typeof e>"u"||pP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Gt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Gt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Gt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Gt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Gt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Gt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Gt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Gt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Gt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gg=/[\-:]([a-z])/g;function Kg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gg,Kg);Tt[e]=new Gt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gg,Kg);Tt[e]=new Gt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gg,Kg);Tt[e]=new Gt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Gt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qg(t,e,n,r){var s=Tt.hasOwnProperty(e)?Tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mP(e,n,s,r)&&(n=null),r||s===null?fP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zr=dP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),lo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),em=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),bE=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),nm=Symbol.for("react.suspense_list"),Jg=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),TE=Symbol.for("react.offscreen"),yw=Symbol.iterator;function al(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Zf;function yl(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var ep=!1;function tp(t,e){if(!t||ep)return"";ep=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ep=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yl(t):""}function gP(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=tp(t.type,!1),t;case 11:return t=tp(t.type.render,!1),t;case 1:return t=tp(t.type,!0),t;default:return""}}function rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case co:return"Fragment";case lo:return"Portal";case em:return"Profiler";case Yg:return"StrictMode";case tm:return"Suspense";case nm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bE:return(t.displayName||"Context")+".Consumer";case EE:return(t._context.displayName||"Context")+".Provider";case Xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jg:return e=t.displayName||null,e!==null?e:rm(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return rm(t(e))}catch{}}return null}function vP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(e);case 8:return e===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yP(t){var e=SE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Au(t){t._valueTracker||(t._valueTracker=yP(t))}function IE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sm(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ww(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CE(t,e){e=e.checked,e!=null&&Qg(t,"checked",e,!1)}function im(t,e){CE(t,e);var n=Vs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?om(t,e.type,n):e.hasOwnProperty("defaultValue")&&om(t,e.type,Vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function om(t,e,n){(e!=="number"||Od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wl=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function am(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(wl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vs(n)}}function NE(t,e){var n=Vs(e.value),r=Vs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ew(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ru,RE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ru=Ru||document.createElement("div"),Ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wP=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(t){wP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Al[e]=Al[t]})});function PE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Al.hasOwnProperty(t)&&Al[t]?(""+e).trim():e+"px"}function kE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=PE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xP=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cm(t,e){if(e){if(xP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function um(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dm=null;function Zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hm=null,To=null,So=null;function bw(t){if(t=Lc(t)){if(typeof hm!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Uh(e),hm(t.stateNode,t.type,e))}}function jE(t){To?So?So.push(t):So=[t]:To=t}function DE(){if(To){var t=To,e=So;if(So=To=null,bw(t),e)for(t=0;t<e.length;t++)bw(e[t])}}function OE(t,e){return t(e)}function ME(){}var np=!1;function LE(t,e,n){if(np)return t(e,n);np=!0;try{return OE(t,e,n)}finally{np=!1,(To!==null||So!==null)&&(ME(),DE())}}function Jl(t,e){var n=t.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var fm=!1;if(kr)try{var ll={};Object.defineProperty(ll,"passive",{get:function(){fm=!0}}),window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{fm=!1}function _P(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Rl=!1,Md=null,Ld=!1,pm=null,EP={onError:function(t){Rl=!0,Md=t}};function bP(t,e,n,r,s,i,o,a,l){Rl=!1,Md=null,_P.apply(EP,arguments)}function TP(t,e,n,r,s,i,o,a,l){if(bP.apply(this,arguments),Rl){if(Rl){var d=Md;Rl=!1,Md=null}else throw Error(H(198));Ld||(Ld=!0,pm=d)}}function Bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tw(t){if(Bi(t)!==t)throw Error(H(188))}function SP(t){var e=t.alternate;if(!e){if(e=Bi(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Tw(s),t;if(i===r)return Tw(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function FE(t){return t=SP(t),t!==null?UE(t):null}function UE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UE(t);if(e!==null)return e;t=t.sibling}return null}var $E=gn.unstable_scheduleCallback,Sw=gn.unstable_cancelCallback,IP=gn.unstable_shouldYield,CP=gn.unstable_requestPaint,tt=gn.unstable_now,NP=gn.unstable_getCurrentPriorityLevel,ev=gn.unstable_ImmediatePriority,BE=gn.unstable_UserBlockingPriority,Vd=gn.unstable_NormalPriority,AP=gn.unstable_LowPriority,zE=gn.unstable_IdlePriority,Mh=null,lr=null;function RP(t){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Mh,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:jP,PP=Math.log,kP=Math.LN2;function jP(t){return t>>>=0,t===0?32:31-(PP(t)/kP|0)|0}var Pu=64,ku=4194304;function xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=xl(a):(i&=o,i!==0&&(r=xl(i)))}else o=n&~s,o!==0?r=xl(o):i!==0&&(r=xl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$n(e),s=1<<n,r|=t[n],e&=~s;return r}function DP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$n(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=DP(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function mm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HE(){var t=Pu;return Pu<<=1,!(Pu&4194240)&&(Pu=64),t}function rp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$n(e),t[e]=n}function MP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$n(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function tv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$n(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ke=0;function WE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qE,nv,GE,KE,QE,gm=!1,ju=[],Es=null,bs=null,Ts=null,Zl=new Map,ec=new Map,os=[],LP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iw(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function cl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lc(e),e!==null&&nv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function VP(t,e,n,r,s){switch(e){case"focusin":return Es=cl(Es,t,e,n,r,s),!0;case"dragenter":return bs=cl(bs,t,e,n,r,s),!0;case"mouseover":return Ts=cl(Ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Zl.set(i,cl(Zl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ec.set(i,cl(ec.get(i)||null,t,e,n,r,s)),!0}return!1}function YE(t){var e=vi(t.target);if(e!==null){var n=Bi(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,QE(t.priority,function(){GE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dm=r,n.target.dispatchEvent(r),dm=null}else return e=Lc(n),e!==null&&nv(e),t.blockedOn=n,!1;e.shift()}return!0}function Cw(t,e,n){ld(t)&&n.delete(e)}function FP(){gm=!1,Es!==null&&ld(Es)&&(Es=null),bs!==null&&ld(bs)&&(bs=null),Ts!==null&&ld(Ts)&&(Ts=null),Zl.forEach(Cw),ec.forEach(Cw)}function ul(t,e){t.blockedOn===e&&(t.blockedOn=null,gm||(gm=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,FP)))}function tc(t){function e(s){return ul(s,t)}if(0<ju.length){ul(ju[0],t);for(var n=1;n<ju.length;n++){var r=ju[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&ul(Es,t),bs!==null&&ul(bs,t),Ts!==null&&ul(Ts,t),Zl.forEach(e),ec.forEach(e),n=0;n<os.length;n++)r=os[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<os.length&&(n=os[0],n.blockedOn===null);)YE(n),n.blockedOn===null&&os.shift()}var Io=zr.ReactCurrentBatchConfig,Ud=!0;function UP(t,e,n,r){var s=ke,i=Io.transition;Io.transition=null;try{ke=1,rv(t,e,n,r)}finally{ke=s,Io.transition=i}}function $P(t,e,n,r){var s=ke,i=Io.transition;Io.transition=null;try{ke=4,rv(t,e,n,r)}finally{ke=s,Io.transition=i}}function rv(t,e,n,r){if(Ud){var s=vm(t,e,n,r);if(s===null)fp(t,e,r,$d,n),Iw(t,r);else if(VP(s,t,e,n,r))r.stopPropagation();else if(Iw(t,r),e&4&&-1<LP.indexOf(t)){for(;s!==null;){var i=Lc(s);if(i!==null&&qE(i),i=vm(t,e,n,r),i===null&&fp(t,e,r,$d,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fp(t,e,r,null,n)}}var $d=null;function vm(t,e,n,r){if($d=null,t=Zg(r),t=vi(t),t!==null)if(e=Bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $d=t,null}function XE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NP()){case ev:return 1;case BE:return 4;case Vd:case AP:return 16;case zE:return 536870912;default:return 16}default:return 16}}var ys=null,sv=null,cd=null;function JE(){if(cd)return cd;var t,e=sv,n=e.length,r,s="value"in ys?ys.value:ys.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cd=s.slice(t,1<r?1-r:void 0)}function ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Du(){return!0}function Nw(){return!1}function wn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Du:Nw,this.isPropagationStopped=Nw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),e}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iv=wn(xa),Mc=Ke({},xa,{view:0,detail:0}),BP=wn(Mc),sp,ip,dl,Lh=Ke({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(sp=t.screenX-dl.screenX,ip=t.screenY-dl.screenY):ip=sp=0,dl=t),sp)},movementY:function(t){return"movementY"in t?t.movementY:ip}}),Aw=wn(Lh),zP=Ke({},Lh,{dataTransfer:0}),HP=wn(zP),WP=Ke({},Mc,{relatedTarget:0}),op=wn(WP),qP=Ke({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),GP=wn(qP),KP=Ke({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QP=wn(KP),YP=Ke({},xa,{data:0}),Rw=wn(YP),XP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ek(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZP[t])?!!e[t]:!1}function ov(){return ek}var tk=Ke({},Mc,{key:function(t){if(t.key){var e=XP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(t){return t.type==="keypress"?ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nk=wn(tk),rk=Ke({},Lh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pw=wn(rk),sk=Ke({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),ik=wn(sk),ok=Ke({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),ak=wn(ok),lk=Ke({},Lh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ck=wn(lk),uk=[9,13,27,32],av=kr&&"CompositionEvent"in window,Pl=null;kr&&"documentMode"in document&&(Pl=document.documentMode);var dk=kr&&"TextEvent"in window&&!Pl,ZE=kr&&(!av||Pl&&8<Pl&&11>=Pl),kw=" ",jw=!1;function eb(t,e){switch(t){case"keyup":return uk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function hk(t,e){switch(t){case"compositionend":return tb(e);case"keypress":return e.which!==32?null:(jw=!0,kw);case"textInput":return t=e.data,t===kw&&jw?null:t;default:return null}}function fk(t,e){if(uo)return t==="compositionend"||!av&&eb(t,e)?(t=JE(),cd=sv=ys=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZE&&e.locale!=="ko"?null:e.data;default:return null}}var pk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pk[t.type]:e==="textarea"}function nb(t,e,n,r){jE(r),e=Bd(e,"onChange"),0<e.length&&(n=new iv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kl=null,nc=null;function mk(t){fb(t,0)}function Vh(t){var e=po(t);if(IE(e))return t}function gk(t,e){if(t==="change")return e}var rb=!1;if(kr){var ap;if(kr){var lp="oninput"in document;if(!lp){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),lp=typeof Ow.oninput=="function"}ap=lp}else ap=!1;rb=ap&&(!document.documentMode||9<document.documentMode)}function Mw(){kl&&(kl.detachEvent("onpropertychange",sb),nc=kl=null)}function sb(t){if(t.propertyName==="value"&&Vh(nc)){var e=[];nb(e,nc,t,Zg(t)),LE(mk,e)}}function vk(t,e,n){t==="focusin"?(Mw(),kl=e,nc=n,kl.attachEvent("onpropertychange",sb)):t==="focusout"&&Mw()}function yk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(nc)}function wk(t,e){if(t==="click")return Vh(e)}function xk(t,e){if(t==="input"||t==="change")return Vh(e)}function _k(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hn=typeof Object.is=="function"?Object.is:_k;function rc(t,e){if(Hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zp.call(e,s)||!Hn(t[s],e[s]))return!1}return!0}function Lw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vw(t,e){var n=Lw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lw(n)}}function ib(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ib(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ob(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Od(t.document)}return e}function lv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ek(t){var e=ob(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ib(n.ownerDocument.documentElement,n)){if(r!==null&&lv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Vw(n,i);var o=Vw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var bk=kr&&"documentMode"in document&&11>=document.documentMode,ho=null,ym=null,jl=null,wm=!1;function Fw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wm||ho==null||ho!==Od(r)||(r=ho,"selectionStart"in r&&lv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jl&&rc(jl,r)||(jl=r,r=Bd(ym,"onSelect"),0<r.length&&(e=new iv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ho)))}function Ou(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fo={animationend:Ou("Animation","AnimationEnd"),animationiteration:Ou("Animation","AnimationIteration"),animationstart:Ou("Animation","AnimationStart"),transitionend:Ou("Transition","TransitionEnd")},cp={},ab={};kr&&(ab=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Fh(t){if(cp[t])return cp[t];if(!fo[t])return t;var e=fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ab)return cp[t]=e[n];return t}var lb=Fh("animationend"),cb=Fh("animationiteration"),ub=Fh("animationstart"),db=Fh("transitionend"),hb=new Map,Uw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(t,e){hb.set(t,e),$i(e,[t])}for(var up=0;up<Uw.length;up++){var dp=Uw[up],Tk=dp.toLowerCase(),Sk=dp[0].toUpperCase()+dp.slice(1);Ys(Tk,"on"+Sk)}Ys(lb,"onAnimationEnd");Ys(cb,"onAnimationIteration");Ys(ub,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(db,"onTransitionEnd");ea("onMouseEnter",["mouseout","mouseover"]);ea("onMouseLeave",["mouseout","mouseover"]);ea("onPointerEnter",["pointerout","pointerover"]);ea("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ik=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function $w(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TP(r,e,void 0,t),t.currentTarget=null}function fb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;$w(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;$w(s,a,d),i=l}}}if(Ld)throw t=pm,Ld=!1,pm=null,t}function Ue(t,e){var n=e[Tm];n===void 0&&(n=e[Tm]=new Set);var r=t+"__bubble";n.has(r)||(pb(e,t,2,!1),n.add(r))}function hp(t,e,n){var r=0;e&&(r|=4),pb(n,t,r,e)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function sc(t){if(!t[Mu]){t[Mu]=!0,_E.forEach(function(n){n!=="selectionchange"&&(Ik.has(n)||hp(n,!1,t),hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mu]||(e[Mu]=!0,hp("selectionchange",!1,e))}}function pb(t,e,n,r){switch(XE(e)){case 1:var s=UP;break;case 4:s=$P;break;default:s=rv}n=s.bind(null,e,n,t),s=void 0,!fm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}LE(function(){var d=i,h=Zg(n),p=[];e:{var f=hb.get(t);if(f!==void 0){var x=iv,S=t;switch(t){case"keypress":if(ud(n)===0)break e;case"keydown":case"keyup":x=nk;break;case"focusin":S="focus",x=op;break;case"focusout":S="blur",x=op;break;case"beforeblur":case"afterblur":x=op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=HP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=ik;break;case lb:case cb:case ub:x=GP;break;case db:x=ak;break;case"scroll":x=BP;break;case"wheel":x=ck;break;case"copy":case"cut":case"paste":x=QP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Pw}var v=(e&4)!==0,b=!v&&t==="scroll",E=v?f!==null?f+"Capture":null:f;v=[];for(var w=d,T;w!==null;){T=w;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,E!==null&&(R=Jl(w,E),R!=null&&v.push(ic(w,R,T)))),b)break;w=w.return}0<v.length&&(f=new x(f,S,null,n,h),p.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",f&&n!==dm&&(S=n.relatedTarget||n.fromElement)&&(vi(S)||S[jr]))break e;if((x||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=d,S=S?vi(S):null,S!==null&&(b=Bi(S),S!==b||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=d),x!==S)){if(v=Aw,R="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=Pw,R="onPointerLeave",E="onPointerEnter",w="pointer"),b=x==null?f:po(x),T=S==null?f:po(S),f=new v(R,w+"leave",x,n,h),f.target=b,f.relatedTarget=T,R=null,vi(h)===d&&(v=new v(E,w+"enter",S,n,h),v.target=T,v.relatedTarget=b,R=v),b=R,x&&S)t:{for(v=x,E=S,w=0,T=v;T;T=eo(T))w++;for(T=0,R=E;R;R=eo(R))T++;for(;0<w-T;)v=eo(v),w--;for(;0<T-w;)E=eo(E),T--;for(;w--;){if(v===E||E!==null&&v===E.alternate)break t;v=eo(v),E=eo(E)}v=null}else v=null;x!==null&&Bw(p,f,x,v,!1),S!==null&&b!==null&&Bw(p,b,S,v,!0)}}e:{if(f=d?po(d):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var D=gk;else if(Dw(f))if(rb)D=xk;else{D=yk;var O=vk}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=wk);if(D&&(D=D(t,d))){nb(p,D,n,h);break e}O&&O(t,f,d),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&om(f,"number",f.value)}switch(O=d?po(d):window,t){case"focusin":(Dw(O)||O.contentEditable==="true")&&(ho=O,ym=d,jl=null);break;case"focusout":jl=ym=ho=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,Fw(p,n,h);break;case"selectionchange":if(bk)break;case"keydown":case"keyup":Fw(p,n,h)}var I;if(av)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else uo?eb(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(ZE&&n.locale!=="ko"&&(uo||C!=="onCompositionStart"?C==="onCompositionEnd"&&uo&&(I=JE()):(ys=h,sv="value"in ys?ys.value:ys.textContent,uo=!0)),O=Bd(d,C),0<O.length&&(C=new Rw(C,t,null,n,h),p.push({event:C,listeners:O}),I?C.data=I:(I=tb(n),I!==null&&(C.data=I)))),(I=dk?hk(t,n):fk(t,n))&&(d=Bd(d,"onBeforeInput"),0<d.length&&(h=new Rw("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:d}),h.data=I))}fb(p,e)})}function ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Jl(t,n),i!=null&&r.unshift(ic(t,i,s)),i=Jl(t,e),i!=null&&r.push(ic(t,i,s))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Jl(n,i),l!=null&&o.unshift(ic(n,l,a))):s||(l=Jl(n,i),l!=null&&o.push(ic(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ck=/\r\n?/g,Nk=/\u0000|\uFFFD/g;function zw(t){return(typeof t=="string"?t:""+t).replace(Ck,`
`).replace(Nk,"")}function Lu(t,e,n){if(e=zw(e),zw(t)!==e&&n)throw Error(H(425))}function zd(){}var xm=null,_m=null;function Em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bm=typeof setTimeout=="function"?setTimeout:void 0,Ak=typeof clearTimeout=="function"?clearTimeout:void 0,Hw=typeof Promise=="function"?Promise:void 0,Rk=typeof queueMicrotask=="function"?queueMicrotask:typeof Hw<"u"?function(t){return Hw.resolve(null).then(t).catch(Pk)}:bm;function Pk(t){setTimeout(function(){throw t})}function pp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);tc(e)}function Ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ww(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),ir="__reactFiber$"+_a,oc="__reactProps$"+_a,jr="__reactContainer$"+_a,Tm="__reactEvents$"+_a,kk="__reactListeners$"+_a,jk="__reactHandles$"+_a;function vi(t){var e=t[ir];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jr]||n[ir]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ww(t);t!==null;){if(n=t[ir])return n;t=Ww(t)}return e}t=n,n=t.parentNode}return null}function Lc(t){return t=t[ir]||t[jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Uh(t){return t[oc]||null}var Sm=[],mo=-1;function Xs(t){return{current:t}}function Be(t){0>mo||(t.current=Sm[mo],Sm[mo]=null,mo--)}function Le(t,e){mo++,Sm[mo]=t.current,t.current=e}var Fs={},Lt=Xs(Fs),en=Xs(!1),Ci=Fs;function ta(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tn(t){return t=t.childContextTypes,t!=null}function Hd(){Be(en),Be(Lt)}function qw(t,e,n){if(Lt.current!==Fs)throw Error(H(168));Le(Lt,e),Le(en,n)}function mb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,vP(t)||"Unknown",s));return Ke({},n,r)}function Wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,Ci=Lt.current,Le(Lt,t),Le(en,en.current),!0}function Gw(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=mb(t,e,Ci),r.__reactInternalMemoizedMergedChildContext=t,Be(en),Be(Lt),Le(Lt,t)):Be(en),Le(en,n)}var Sr=null,$h=!1,mp=!1;function gb(t){Sr===null?Sr=[t]:Sr.push(t)}function Dk(t){$h=!0,gb(t)}function Js(){if(!mp&&Sr!==null){mp=!0;var t=0,e=ke;try{var n=Sr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,$h=!1}catch(s){throw Sr!==null&&(Sr=Sr.slice(t+1)),$E(ev,Js),s}finally{ke=e,mp=!1}}return null}var go=[],vo=0,qd=null,Gd=0,bn=[],Tn=0,Ni=null,Ir=1,Cr="";function hi(t,e){go[vo++]=Gd,go[vo++]=qd,qd=t,Gd=e}function vb(t,e,n){bn[Tn++]=Ir,bn[Tn++]=Cr,bn[Tn++]=Ni,Ni=t;var r=Ir;t=Cr;var s=32-$n(r)-1;r&=~(1<<s),n+=1;var i=32-$n(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ir=1<<32-$n(e)+s|n<<s|r,Cr=i+t}else Ir=1<<i|n<<s|r,Cr=t}function cv(t){t.return!==null&&(hi(t,1),vb(t,1,0))}function uv(t){for(;t===qd;)qd=go[--vo],go[vo]=null,Gd=go[--vo],go[vo]=null;for(;t===Ni;)Ni=bn[--Tn],bn[Tn]=null,Cr=bn[--Tn],bn[Tn]=null,Ir=bn[--Tn],bn[Tn]=null}var pn=null,hn=null,We=!1,Vn=null;function yb(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=Ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ni!==null?{id:Ir,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function Im(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cm(t){if(We){var e=hn;if(e){var n=e;if(!Kw(t,e)){if(Im(t))throw Error(H(418));e=Ss(n.nextSibling);var r=pn;e&&Kw(t,e)?yb(r,n):(t.flags=t.flags&-4097|2,We=!1,pn=t)}}else{if(Im(t))throw Error(H(418));t.flags=t.flags&-4097|2,We=!1,pn=t}}}function Qw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Vu(t){if(t!==pn)return!1;if(!We)return Qw(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Em(t.type,t.memoizedProps)),e&&(e=hn)){if(Im(t))throw wb(),Error(H(418));for(;e;)yb(t,e),e=Ss(e.nextSibling)}if(Qw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Ss(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?Ss(t.stateNode.nextSibling):null;return!0}function wb(){for(var t=hn;t;)t=Ss(t.nextSibling)}function na(){hn=pn=null,We=!1}function dv(t){Vn===null?Vn=[t]:Vn.push(t)}var Ok=zr.ReactCurrentBatchConfig;function hl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Fu(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yw(t){var e=t._init;return e(t._payload)}function xb(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=As(E,w),E.index=0,E.sibling=null,E}function i(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,T,R){return w===null||w.tag!==6?(w=Ep(T,E.mode,R),w.return=E,w):(w=s(w,T),w.return=E,w)}function l(E,w,T,R){var D=T.type;return D===co?h(E,w,T.props.children,R,T.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ss&&Yw(D)===w.type)?(R=s(w,T.props),R.ref=hl(E,w,T),R.return=E,R):(R=vd(T.type,T.key,T.props,null,E.mode,R),R.ref=hl(E,w,T),R.return=E,R)}function d(E,w,T,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=bp(T,E.mode,R),w.return=E,w):(w=s(w,T.children||[]),w.return=E,w)}function h(E,w,T,R,D){return w===null||w.tag!==7?(w=Ii(T,E.mode,R,D),w.return=E,w):(w=s(w,T),w.return=E,w)}function p(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ep(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Nu:return T=vd(w.type,w.key,w.props,null,E.mode,T),T.ref=hl(E,null,w),T.return=E,T;case lo:return w=bp(w,E.mode,T),w.return=E,w;case ss:var R=w._init;return p(E,R(w._payload),T)}if(wl(w)||al(w))return w=Ii(w,E.mode,T,null),w.return=E,w;Fu(E,w)}return null}function f(E,w,T,R){var D=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return D!==null?null:a(E,w,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nu:return T.key===D?l(E,w,T,R):null;case lo:return T.key===D?d(E,w,T,R):null;case ss:return D=T._init,f(E,w,D(T._payload),R)}if(wl(T)||al(T))return D!==null?null:h(E,w,T,R,null);Fu(E,T)}return null}function x(E,w,T,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return E=E.get(T)||null,a(w,E,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Nu:return E=E.get(R.key===null?T:R.key)||null,l(w,E,R,D);case lo:return E=E.get(R.key===null?T:R.key)||null,d(w,E,R,D);case ss:var O=R._init;return x(E,w,T,O(R._payload),D)}if(wl(R)||al(R))return E=E.get(T)||null,h(w,E,R,D,null);Fu(w,R)}return null}function S(E,w,T,R){for(var D=null,O=null,I=w,C=w=0,_=null;I!==null&&C<T.length;C++){I.index>C?(_=I,I=null):_=I.sibling;var A=f(E,I,T[C],R);if(A===null){I===null&&(I=_);break}t&&I&&A.alternate===null&&e(E,I),w=i(A,w,C),O===null?D=A:O.sibling=A,O=A,I=_}if(C===T.length)return n(E,I),We&&hi(E,C),D;if(I===null){for(;C<T.length;C++)I=p(E,T[C],R),I!==null&&(w=i(I,w,C),O===null?D=I:O.sibling=I,O=I);return We&&hi(E,C),D}for(I=r(E,I);C<T.length;C++)_=x(I,E,C,T[C],R),_!==null&&(t&&_.alternate!==null&&I.delete(_.key===null?C:_.key),w=i(_,w,C),O===null?D=_:O.sibling=_,O=_);return t&&I.forEach(function(j){return e(E,j)}),We&&hi(E,C),D}function v(E,w,T,R){var D=al(T);if(typeof D!="function")throw Error(H(150));if(T=D.call(T),T==null)throw Error(H(151));for(var O=D=null,I=w,C=w=0,_=null,A=T.next();I!==null&&!A.done;C++,A=T.next()){I.index>C?(_=I,I=null):_=I.sibling;var j=f(E,I,A.value,R);if(j===null){I===null&&(I=_);break}t&&I&&j.alternate===null&&e(E,I),w=i(j,w,C),O===null?D=j:O.sibling=j,O=j,I=_}if(A.done)return n(E,I),We&&hi(E,C),D;if(I===null){for(;!A.done;C++,A=T.next())A=p(E,A.value,R),A!==null&&(w=i(A,w,C),O===null?D=A:O.sibling=A,O=A);return We&&hi(E,C),D}for(I=r(E,I);!A.done;C++,A=T.next())A=x(I,E,C,A.value,R),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?C:A.key),w=i(A,w,C),O===null?D=A:O.sibling=A,O=A);return t&&I.forEach(function(k){return e(E,k)}),We&&hi(E,C),D}function b(E,w,T,R){if(typeof T=="object"&&T!==null&&T.type===co&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Nu:e:{for(var D=T.key,O=w;O!==null;){if(O.key===D){if(D=T.type,D===co){if(O.tag===7){n(E,O.sibling),w=s(O,T.props.children),w.return=E,E=w;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ss&&Yw(D)===O.type){n(E,O.sibling),w=s(O,T.props),w.ref=hl(E,O,T),w.return=E,E=w;break e}n(E,O);break}else e(E,O);O=O.sibling}T.type===co?(w=Ii(T.props.children,E.mode,R,T.key),w.return=E,E=w):(R=vd(T.type,T.key,T.props,null,E.mode,R),R.ref=hl(E,w,T),R.return=E,E=R)}return o(E);case lo:e:{for(O=T.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=s(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=bp(T,E.mode,R),w.return=E,E=w}return o(E);case ss:return O=T._init,b(E,w,O(T._payload),R)}if(wl(T))return S(E,w,T,R);if(al(T))return v(E,w,T,R);Fu(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,T),w.return=E,E=w):(n(E,w),w=Ep(T,E.mode,R),w.return=E,E=w),o(E)):n(E,w)}return b}var ra=xb(!0),_b=xb(!1),Kd=Xs(null),Qd=null,yo=null,hv=null;function fv(){hv=yo=Qd=null}function pv(t){var e=Kd.current;Be(Kd),t._currentValue=e}function Nm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){Qd=t,hv=yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Nn(t){var e=t._currentValue;if(hv!==t)if(t={context:t,memoizedValue:e,next:null},yo===null){if(Qd===null)throw Error(H(308));yo=t,Qd.dependencies={lanes:0,firstContext:t}}else yo=yo.next=t;return e}var yi=null;function mv(t){yi===null?yi=[t]:yi.push(t)}function Eb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,mv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Dr(t,r)}function Dr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var is=!1;function gv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Is(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Dr(t,n)}return s=r.interleaved,s===null?(e.next=e,mv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Dr(t,n)}function dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tv(t,n)}}function Xw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Yd(t,e,n,r){var s=t.updateQueue;is=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=d=l=null,a=i;do{var f=a.lane,x=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,v=a;switch(f=e,x=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){p=S.call(x,p,f);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,f=typeof S=="function"?S.call(x,p,f):S,f==null)break e;p=Ke({},p,f);break e;case 2:is=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else x={eventTime:x,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=x,l=p):h=h.next=x,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ri|=o,t.lanes=o,t.memoizedState=p}}function Jw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Vc={},cr=Xs(Vc),ac=Xs(Vc),lc=Xs(Vc);function wi(t){if(t===Vc)throw Error(H(174));return t}function vv(t,e){switch(Le(lc,e),Le(ac,t),Le(cr,Vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lm(e,t)}Be(cr),Le(cr,e)}function sa(){Be(cr),Be(ac),Be(lc)}function Tb(t){wi(lc.current);var e=wi(cr.current),n=lm(e,t.type);e!==n&&(Le(ac,t),Le(cr,n))}function yv(t){ac.current===t&&(Be(cr),Be(ac))}var qe=Xs(0);function Xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gp=[];function wv(){for(var t=0;t<gp.length;t++)gp[t]._workInProgressVersionPrimary=null;gp.length=0}var hd=zr.ReactCurrentDispatcher,vp=zr.ReactCurrentBatchConfig,Ai=0,Ge=null,ut=null,mt=null,Jd=!1,Dl=!1,cc=0,Mk=0;function Rt(){throw Error(H(321))}function xv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hn(t[n],e[n]))return!1;return!0}function _v(t,e,n,r,s,i){if(Ai=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hd.current=t===null||t.memoizedState===null?Uk:$k,t=n(r,s),Dl){i=0;do{if(Dl=!1,cc=0,25<=i)throw Error(H(301));i+=1,mt=ut=null,e.updateQueue=null,hd.current=Bk,t=n(r,s)}while(Dl)}if(hd.current=Zd,e=ut!==null&&ut.next!==null,Ai=0,mt=ut=Ge=null,Jd=!1,e)throw Error(H(300));return t}function Ev(){var t=cc!==0;return cc=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Ge.memoizedState=mt=t:mt=mt.next=t,mt}function An(){if(ut===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=mt===null?Ge.memoizedState:mt.next;if(e!==null)mt=e,ut=t;else{if(t===null)throw Error(H(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?Ge.memoizedState=mt=t:mt=mt.next=t}return mt}function uc(t,e){return typeof e=="function"?e(t):e}function yp(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=ut,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((Ai&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ge.lanes|=h,Ri|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,Hn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,Ri|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wp(t){var e=An(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Hn(i,e.memoizedState)||(Zt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Sb(){}function Ib(t,e){var n=Ge,r=An(),s=e(),i=!Hn(r.memoizedState,s);if(i&&(r.memoizedState=s,Zt=!0),r=r.queue,bv(Ab.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,dc(9,Nb.bind(null,n,r,s,e),void 0,null),gt===null)throw Error(H(349));Ai&30||Cb(n,e,s)}return s}function Cb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Nb(t,e,n,r){e.value=n,e.getSnapshot=r,Rb(e)&&Pb(t)}function Ab(t,e,n){return n(function(){Rb(e)&&Pb(t)})}function Rb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hn(t,n)}catch{return!0}}function Pb(t){var e=Dr(t,1);e!==null&&Bn(e,t,1,-1)}function Zw(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=Fk.bind(null,Ge,t),[e.memoizedState,t]}function dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function kb(){return An().memoizedState}function fd(t,e,n,r){var s=er();Ge.flags|=t,s.memoizedState=dc(1|e,n,void 0,r===void 0?null:r)}function Bh(t,e,n,r){var s=An();r=r===void 0?null:r;var i=void 0;if(ut!==null){var o=ut.memoizedState;if(i=o.destroy,r!==null&&xv(r,o.deps)){s.memoizedState=dc(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=dc(1|e,n,i,r)}function ex(t,e){return fd(8390656,8,t,e)}function bv(t,e){return Bh(2048,8,t,e)}function jb(t,e){return Bh(4,2,t,e)}function Db(t,e){return Bh(4,4,t,e)}function Ob(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mb(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4,4,Ob.bind(null,e,t),n)}function Tv(){}function Lb(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Vb(t,e){var n=An();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&xv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fb(t,e,n){return Ai&21?(Hn(n,e)||(n=HE(),Ge.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function Lk(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=vp.transition;vp.transition={};try{t(!1),e()}finally{ke=n,vp.transition=r}}function Ub(){return An().memoizedState}function Vk(t,e,n){var r=Ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$b(t))Bb(e,n);else if(n=Eb(t,e,n,r),n!==null){var s=Wt();Bn(n,t,r,s),zb(n,e,r)}}function Fk(t,e,n){var r=Ns(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($b(t))Bb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Hn(a,o)){var l=e.interleaved;l===null?(s.next=s,mv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Eb(t,e,s,r),n!==null&&(s=Wt(),Bn(n,t,r,s),zb(n,e,r))}}function $b(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function Bb(t,e){Dl=Jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tv(t,n)}}var Zd={readContext:Nn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Uk={readContext:Nn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:ex,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fd(4194308,4,Ob.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return fd(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Vk.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:Zw,useDebugValue:Tv,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=Zw(!1),e=t[0];return t=Lk.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=er();if(We){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),gt===null)throw Error(H(349));Ai&30||Cb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ex(Ab.bind(null,r,i,t),[t]),r.flags|=2048,dc(9,Nb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=er(),e=gt.identifierPrefix;if(We){var n=Cr,r=Ir;n=(r&~(1<<32-$n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$k={readContext:Nn,useCallback:Lb,useContext:Nn,useEffect:bv,useImperativeHandle:Mb,useInsertionEffect:jb,useLayoutEffect:Db,useMemo:Vb,useReducer:yp,useRef:kb,useState:function(){return yp(uc)},useDebugValue:Tv,useDeferredValue:function(t){var e=An();return Fb(e,ut.memoizedState,t)},useTransition:function(){var t=yp(uc)[0],e=An().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:Ib,useId:Ub,unstable_isNewReconciler:!1},Bk={readContext:Nn,useCallback:Lb,useContext:Nn,useEffect:bv,useImperativeHandle:Mb,useInsertionEffect:jb,useLayoutEffect:Db,useMemo:Vb,useReducer:wp,useRef:kb,useState:function(){return wp(uc)},useDebugValue:Tv,useDeferredValue:function(t){var e=An();return ut===null?e.memoizedState=t:Fb(e,ut.memoizedState,t)},useTransition:function(){var t=wp(uc)[0],e=An().memoizedState;return[t,e]},useMutableSource:Sb,useSyncExternalStore:Ib,useId:Ub,unstable_isNewReconciler:!1};function Dn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Am(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zh={isMounted:function(t){return(t=t._reactInternals)?Bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wt(),s=Ns(t),i=Rr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Is(t,i,s),e!==null&&(Bn(e,t,s,r),dd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wt(),s=Ns(t),i=Rr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Is(t,i,s),e!==null&&(Bn(e,t,s,r),dd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wt(),r=Ns(t),s=Rr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Is(t,s,r),e!==null&&(Bn(e,t,r,n),dd(e,t,r))}};function tx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!rc(n,r)||!rc(s,i):!0}function Hb(t,e,n){var r=!1,s=Fs,i=e.contextType;return typeof i=="object"&&i!==null?i=Nn(i):(s=tn(e)?Ci:Lt.current,r=e.contextTypes,i=(r=r!=null)?ta(t,s):Fs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function nx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zh.enqueueReplaceState(e,e.state,null)}function Rm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},gv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nn(i):(i=tn(e)?Ci:Lt.current,s.context=ta(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Am(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&zh.enqueueReplaceState(s,s.state,null),Yd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ia(t,e){try{var n="",r=e;do n+=gP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Pm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zk=typeof WeakMap=="function"?WeakMap:Map;function Wb(t,e,n){n=Rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){th||(th=!0,$m=r),Pm(t,e)},n}function qb(t,e,n){n=Rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Pm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pm(t,e),typeof r!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=r2.bind(null,t,e,n),e.then(t,t))}function sx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ix(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rr(-1,1),e.tag=2,Is(n,e,1))),n.lanes|=1),t)}var Hk=zr.ReactCurrentOwner,Zt=!1;function zt(t,e,n,r){e.child=t===null?_b(e,null,n,r):ra(e,t.child,n,r)}function ox(t,e,n,r,s){n=n.render;var i=e.ref;return Co(e,s),r=_v(t,e,n,r,i,s),n=Ev(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Or(t,e,s)):(We&&n&&cv(e),e.flags|=1,zt(t,e,r,s),e.child)}function ax(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!kv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Gb(t,e,i,r,s)):(t=vd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:rc,n(o,r)&&t.ref===e.ref)return Or(t,e,s)}return e.flags|=1,t=As(i,r),t.ref=e.ref,t.return=e,e.child=t}function Gb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(rc(i,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,Or(t,e,s)}return km(t,e,n,r,s)}function Kb(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(xo,cn),cn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(xo,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(xo,cn),cn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(xo,cn),cn|=r;return zt(t,e,s,n),e.child}function Qb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function km(t,e,n,r,s){var i=tn(n)?Ci:Lt.current;return i=ta(e,i),Co(e,s),n=_v(t,e,n,r,i,s),r=Ev(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Or(t,e,s)):(We&&r&&cv(e),e.flags|=1,zt(t,e,n,s),e.child)}function lx(t,e,n,r,s){if(tn(n)){var i=!0;Wd(e)}else i=!1;if(Co(e,s),e.stateNode===null)pd(t,e),Hb(e,n,r),Rm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nn(d):(d=tn(n)?Ci:Lt.current,d=ta(e,d));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&nx(e,o,r,d),is=!1;var f=e.memoizedState;o.state=f,Yd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||en.current||is?(typeof h=="function"&&(Am(e,n,h,r),l=e.memoizedState),(a=is||tx(e,n,a,r,f,l,d))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bb(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Dn(e.type,a),o.props=d,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nn(l):(l=tn(n)?Ci:Lt.current,l=ta(e,l));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&nx(e,o,r,l),is=!1,f=e.memoizedState,o.state=f,Yd(e,r,o,s);var S=e.memoizedState;a!==p||f!==S||en.current||is?(typeof x=="function"&&(Am(e,n,x,r),S=e.memoizedState),(d=is||tx(e,n,d,r,f,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return jm(t,e,n,r,i,s)}function jm(t,e,n,r,s,i){Qb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gw(e,n,!1),Or(t,e,i);r=e.stateNode,Hk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ra(e,t.child,null,i),e.child=ra(e,null,a,i)):zt(t,e,a,i),e.memoizedState=r.state,s&&Gw(e,n,!0),e.child}function Yb(t){var e=t.stateNode;e.pendingContext?qw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qw(t,e.context,!1),vv(t,e.containerInfo)}function cx(t,e,n,r,s){return na(),dv(s),e.flags|=256,zt(t,e,n,r),e.child}var Dm={dehydrated:null,treeContext:null,retryLane:0};function Om(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xb(t,e,n){var r=e.pendingProps,s=qe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(qe,s&1),t===null)return Cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=qh(o,r,0,null),t=Ii(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Om(n),e.memoizedState=Dm,t):Sv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Wk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=As(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=As(a,i):(i=Ii(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Om(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Dm,r}return i=t.child,t=i.sibling,r=As(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Sv(t,e){return e=qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Uu(t,e,n,r){return r!==null&&dv(r),ra(e,t.child,null,n),t=Sv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=xp(Error(H(422))),Uu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=qh({mode:"visible",children:r.children},s,0,null),i=Ii(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ra(e,t.child,null,o),e.child.memoizedState=Om(o),e.memoizedState=Dm,i);if(!(e.mode&1))return Uu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=xp(i,r,void 0),Uu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zt||a){if(r=gt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dr(t,s),Bn(r,t,s,-1))}return Pv(),r=xp(Error(H(421))),Uu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=s2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,hn=Ss(s.nextSibling),pn=e,We=!0,Vn=null,t!==null&&(bn[Tn++]=Ir,bn[Tn++]=Cr,bn[Tn++]=Ni,Ir=t.id,Cr=t.overflow,Ni=e),e=Sv(e,r.children),e.flags|=4096,e)}function ux(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nm(t.return,e,n)}function _p(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Jb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(zt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ux(t,n,e);else if(t.tag===19)ux(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_p(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_p(e,!0,n,null,i);break;case"together":_p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=As(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=As(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qk(t,e,n){switch(e.tag){case 3:Yb(e),na();break;case 5:Tb(e);break;case 1:tn(e.type)&&Wd(e);break;case 4:vv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Kd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?Xb(t,e,n):(Le(qe,qe.current&1),t=Or(t,e,n),t!==null?t.sibling:null);Le(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,Kb(t,e,n)}return Or(t,e,n)}var Zb,Mm,eT,tT;Zb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mm=function(){};eT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wi(cr.current);var i=null;switch(n){case"input":s=sm(t,s),r=sm(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=am(t,s),r=am(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zd)}cm(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Yl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ue("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};tT=function(t,e,n,r){n!==r&&(e.flags|=4)};function fl(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gk(t,e,n){var r=e.pendingProps;switch(uv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return tn(e.type)&&Hd(),Pt(e),null;case 3:return r=e.stateNode,sa(),Be(en),Be(Lt),wv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(Hm(Vn),Vn=null))),Mm(t,e),Pt(e),null;case 5:yv(e);var s=wi(lc.current);if(n=e.type,t!==null&&e.stateNode!=null)eT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Pt(e),null}if(t=wi(cr.current),Vu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ir]=e,r[oc]=i,t=(e.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)Ue(_l[s],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":ww(r,i),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ue("invalid",r);break;case"textarea":_w(r,i),Ue("invalid",r)}cm(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Lu(r.textContent,a,t),s=["children",""+a]):Yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":Au(r),xw(r,i,!0);break;case"textarea":Au(r),Ew(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=zd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ir]=e,t[oc]=r,Zb(t,e,!1,!1),e.stateNode=t;e:{switch(o=um(n,r),n){case"dialog":Ue("cancel",t),Ue("close",t),s=r;break;case"iframe":case"object":case"embed":Ue("load",t),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)Ue(_l[s],t);s=r;break;case"source":Ue("error",t),s=r;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),s=r;break;case"details":Ue("toggle",t),s=r;break;case"input":ww(t,r),s=sm(t,r),Ue("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Ue("invalid",t);break;case"textarea":_w(t,r),s=am(t,r),Ue("invalid",t);break;default:s=r}cm(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Xl(t,l):typeof l=="number"&&Xl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ue("scroll",t):l!=null&&Qg(t,i,l,o))}switch(n){case"input":Au(t),xw(t,r,!1);break;case"textarea":Au(t),Ew(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)tT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=wi(lc.current),wi(cr.current),Vu(e)){if(r=e.stateNode,n=e.memoizedProps,r[ir]=e,(i=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Lu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ir]=e,e.stateNode=r}return Pt(e),null;case 13:if(Be(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&hn!==null&&e.mode&1&&!(e.flags&128))wb(),na(),e.flags|=98560,i=!1;else if(i=Vu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[ir]=e}else na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else Vn!==null&&(Hm(Vn),Vn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?dt===0&&(dt=3):Pv())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return sa(),Mm(t,e),t===null&&sc(e.stateNode.containerInfo),Pt(e),null;case 10:return pv(e.type._context),Pt(e),null;case 17:return tn(e.type)&&Hd(),Pt(e),null;case 19:if(Be(qe),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fl(i,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xd(t),o!==null){for(e.flags|=128,fl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(qe,qe.current&1|2),e.child}t=t.sibling}i.tail!==null&&tt()>oa&&(e.flags|=128,r=!0,fl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Xd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!We)return Pt(e),null}else 2*tt()-i.renderingStartTime>oa&&n!==1073741824&&(e.flags|=128,r=!0,fl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=tt(),e.sibling=null,n=qe.current,Le(qe,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Rv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Kk(t,e){switch(uv(e),e.tag){case 1:return tn(e.type)&&Hd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sa(),Be(en),Be(Lt),wv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yv(e),null;case 13:if(Be(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(qe),null;case 4:return sa(),null;case 10:return pv(e.type._context),null;case 22:case 23:return Rv(),null;case 24:return null;default:return null}}var $u=!1,Ot=!1,Qk=typeof WeakSet=="function"?WeakSet:Set,X=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function Lm(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var dx=!1;function Yk(t,e){if(xm=Ud,t=ob(),lv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,p=t,f=null;t:for(;;){for(var x;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)f=p,p=x;for(;;){if(p===t)break t;if(f===n&&++d===s&&(a=o),f===i&&++h===r&&(l=o),(x=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=x}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_m={focusedElem:t,selectionRange:n},Ud=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,b=S.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:Dn(e.type,v),b);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(R){Ze(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return S=dx,dx=!1,S}function Ol(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lm(e,n,i)}s=s.next}while(s!==r)}}function Hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function nT(t){var e=t.alternate;e!==null&&(t.alternate=null,nT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ir],delete e[oc],delete e[Tm],delete e[kk],delete e[jk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rT(t){return t.tag===5||t.tag===3||t.tag===4}function hx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zd));else if(r!==4&&(t=t.child,t!==null))for(Fm(t,e,n),t=t.sibling;t!==null;)Fm(t,e,n),t=t.sibling}function Um(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Um(t,e,n),t=t.sibling;t!==null;)Um(t,e,n),t=t.sibling}var xt=null,Ln=!1;function Jr(t,e,n){for(n=n.child;n!==null;)sT(t,e,n),n=n.sibling}function sT(t,e,n){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Mh,n)}catch{}switch(n.tag){case 5:Ot||wo(n,e);case 6:var r=xt,s=Ln;xt=null,Jr(t,e,n),xt=r,Ln=s,xt!==null&&(Ln?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(Ln?(t=xt,n=n.stateNode,t.nodeType===8?pp(t.parentNode,n):t.nodeType===1&&pp(t,n),tc(t)):pp(xt,n.stateNode));break;case 4:r=xt,s=Ln,xt=n.stateNode.containerInfo,Ln=!0,Jr(t,e,n),xt=r,Ln=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lm(n,e,o),s=s.next}while(s!==r)}Jr(t,e,n);break;case 1:if(!Ot&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ze(n,e,a)}Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Jr(t,e,n),Ot=r):Jr(t,e,n);break;default:Jr(t,e,n)}}function fx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qk),e.forEach(function(r){var s=i2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,Ln=!1;break e;case 3:xt=a.stateNode.containerInfo,Ln=!0;break e;case 4:xt=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(xt===null)throw Error(H(160));sT(i,o,s),xt=null,Ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){Ze(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iT(e,t),e=e.sibling}function iT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Zn(t),r&4){try{Ol(3,t,t.return),Hh(3,t)}catch(v){Ze(t,t.return,v)}try{Ol(5,t,t.return)}catch(v){Ze(t,t.return,v)}}break;case 1:kn(e,t),Zn(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(kn(e,t),Zn(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var s=t.stateNode;try{Xl(s,"")}catch(v){Ze(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&CE(s,i),um(a,o);var d=um(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?kE(s,p):h==="dangerouslySetInnerHTML"?RE(s,p):h==="children"?Xl(s,p):Qg(s,h,p,d)}switch(a){case"input":im(s,i);break;case"textarea":NE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?bo(s,!!i.multiple,x,!1):f!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[oc]=i}catch(v){Ze(t,t.return,v)}}break;case 6:if(kn(e,t),Zn(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ze(t,t.return,v)}}break;case 3:if(kn(e,t),Zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tc(e.containerInfo)}catch(v){Ze(t,t.return,v)}break;case 4:kn(e,t),Zn(t);break;case 13:kn(e,t),Zn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Nv=tt())),r&4&&fx(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(d=Ot)||h,kn(e,t),Ot=d):kn(e,t),Zn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(p=X=h;X!==null;){switch(f=X,x=f.child,f.tag){case 0:case 11:case 14:case 15:Ol(4,f,f.return);break;case 1:wo(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){Ze(r,n,v)}}break;case 5:wo(f,f.return);break;case 22:if(f.memoizedState!==null){mx(p);continue}}x!==null?(x.return=f,X=x):mx(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PE("display",o))}catch(v){Ze(t,t.return,v)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){Ze(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:kn(e,t),Zn(t),r&4&&fx(t);break;case 21:break;default:kn(e,t),Zn(t)}}function Zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(rT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Xl(s,""),r.flags&=-33);var i=hx(t);Um(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hx(t);Fm(t,a,o);break;default:throw Error(H(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xk(t,e,n){X=t,oT(t)}function oT(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$u;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=$u;var d=Ot;if($u=o,(Ot=l)&&!d)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?gx(s):l!==null?(l.return=o,X=l):gx(s);for(;i!==null;)X=i,oT(i),i=i.sibling;X=s,$u=a,Ot=d}px(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):px(t)}}function px(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Dn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Jw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&tc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ot||e.flags&512&&Vm(e)}catch(f){Ze(e,e.return,f)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function mx(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function gx(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hh(4,e)}catch(l){Ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ze(e,s,l)}}var i=e.return;try{Vm(e)}catch(l){Ze(e,i,l)}break;case 5:var o=e.return;try{Vm(e)}catch(l){Ze(e,o,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var Jk=Math.ceil,eh=zr.ReactCurrentDispatcher,Iv=zr.ReactCurrentOwner,Cn=zr.ReactCurrentBatchConfig,Ie=0,gt=null,ot=null,bt=0,cn=0,xo=Xs(0),dt=0,hc=null,Ri=0,Wh=0,Cv=0,Ml=null,Xt=null,Nv=0,oa=1/0,Tr=null,th=!1,$m=null,Cs=null,Bu=!1,ws=null,nh=0,Ll=0,Bm=null,md=-1,gd=0;function Wt(){return Ie&6?tt():md!==-1?md:md=tt()}function Ns(t){return t.mode&1?Ie&2&&bt!==0?bt&-bt:Ok.transition!==null?(gd===0&&(gd=HE()),gd):(t=ke,t!==0||(t=window.event,t=t===void 0?16:XE(t.type)),t):1}function Bn(t,e,n,r){if(50<Ll)throw Ll=0,Bm=null,Error(H(185));Oc(t,n,r),(!(Ie&2)||t!==gt)&&(t===gt&&(!(Ie&2)&&(Wh|=n),dt===4&&as(t,bt)),nn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(oa=tt()+500,$h&&Js()))}function nn(t,e){var n=t.callbackNode;OP(t,e);var r=Fd(t,t===gt?bt:0);if(r===0)n!==null&&Sw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sw(n),e===1)t.tag===0?Dk(vx.bind(null,t)):gb(vx.bind(null,t)),Rk(function(){!(Ie&6)&&Js()}),n=null;else{switch(WE(r)){case 1:n=ev;break;case 4:n=BE;break;case 16:n=Vd;break;case 536870912:n=zE;break;default:n=Vd}n=pT(n,aT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function aT(t,e){if(md=-1,gd=0,Ie&6)throw Error(H(327));var n=t.callbackNode;if(No()&&t.callbackNode!==n)return null;var r=Fd(t,t===gt?bt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rh(t,r);else{e=r;var s=Ie;Ie|=2;var i=cT();(gt!==t||bt!==e)&&(Tr=null,oa=tt()+500,Si(t,e));do try{t2();break}catch(a){lT(t,a)}while(!0);fv(),eh.current=i,Ie=s,ot!==null?e=0:(gt=null,bt=0,e=dt)}if(e!==0){if(e===2&&(s=mm(t),s!==0&&(r=s,e=zm(t,s))),e===1)throw n=hc,Si(t,0),as(t,r),nn(t,tt()),n;if(e===6)as(t,r);else{if(s=t.current.alternate,!(r&30)&&!Zk(s)&&(e=rh(t,r),e===2&&(i=mm(t),i!==0&&(r=i,e=zm(t,i))),e===1))throw n=hc,Si(t,0),as(t,r),nn(t,tt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:fi(t,Xt,Tr);break;case 3:if(as(t,r),(r&130023424)===r&&(e=Nv+500-tt(),10<e)){if(Fd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bm(fi.bind(null,t,Xt,Tr),e);break}fi(t,Xt,Tr);break;case 4:if(as(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$n(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jk(r/1960))-r,10<r){t.timeoutHandle=bm(fi.bind(null,t,Xt,Tr),r);break}fi(t,Xt,Tr);break;case 5:fi(t,Xt,Tr);break;default:throw Error(H(329))}}}return nn(t,tt()),t.callbackNode===n?aT.bind(null,t):null}function zm(t,e){var n=Ml;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=rh(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Hm(e)),t}function Hm(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function Zk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Hn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e){for(e&=~Cv,e&=~Wh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$n(e),r=1<<n;t[n]=-1,e&=~r}}function vx(t){if(Ie&6)throw Error(H(327));No();var e=Fd(t,0);if(!(e&1))return nn(t,tt()),null;var n=rh(t,e);if(t.tag!==0&&n===2){var r=mm(t);r!==0&&(e=r,n=zm(t,r))}if(n===1)throw n=hc,Si(t,0),as(t,e),nn(t,tt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fi(t,Xt,Tr),nn(t,tt()),null}function Av(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(oa=tt()+500,$h&&Js())}}function Pi(t){ws!==null&&ws.tag===0&&!(Ie&6)&&No();var e=Ie;Ie|=1;var n=Cn.transition,r=ke;try{if(Cn.transition=null,ke=1,t)return t()}finally{ke=r,Cn.transition=n,Ie=e,!(Ie&6)&&Js()}}function Rv(){cn=xo.current,Be(xo)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ak(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(uv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hd();break;case 3:sa(),Be(en),Be(Lt),wv();break;case 5:yv(r);break;case 4:sa();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:pv(r.type._context);break;case 22:case 23:Rv()}n=n.return}if(gt=t,ot=t=As(t.current,null),bt=cn=e,dt=0,hc=null,Cv=Wh=Ri=0,Xt=Ml=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yi=null}return t}function lT(t,e){do{var n=ot;try{if(fv(),hd.current=Zd,Jd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Jd=!1}if(Ai=0,mt=ut=Ge=null,Dl=!1,cc=0,Iv.current=null,n===null||n.return===null){dt=1,hc=e,ot=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=bt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=sx(o);if(x!==null){x.flags&=-257,ix(x,o,a,i,e),x.mode&1&&rx(i,d,e),e=x,l=d;var S=e.updateQueue;if(S===null){var v=new Set;v.add(l),e.updateQueue=v}else S.add(l);break e}else{if(!(e&1)){rx(i,d,e),Pv();break e}l=Error(H(426))}}else if(We&&a.mode&1){var b=sx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ix(b,o,a,i,e),dv(ia(l,a));break e}}i=l=ia(l,a),dt!==4&&(dt=2),Ml===null?Ml=[i]:Ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=Wb(i,l,e);Xw(i,E);break e;case 1:a=l;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Cs===null||!Cs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=qb(i,a,e);Xw(i,R);break e}}i=i.return}while(i!==null)}dT(n)}catch(D){e=D,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function cT(){var t=eh.current;return eh.current=Zd,t===null?Zd:t}function Pv(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||!(Ri&268435455)&&!(Wh&268435455)||as(gt,bt)}function rh(t,e){var n=Ie;Ie|=2;var r=cT();(gt!==t||bt!==e)&&(Tr=null,Si(t,e));do try{e2();break}catch(s){lT(t,s)}while(!0);if(fv(),Ie=n,eh.current=r,ot!==null)throw Error(H(261));return gt=null,bt=0,dt}function e2(){for(;ot!==null;)uT(ot)}function t2(){for(;ot!==null&&!IP();)uT(ot)}function uT(t){var e=fT(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?dT(t):ot=e,Iv.current=null}function dT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kk(n,e),n!==null){n.flags&=32767,ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(n=Gk(n,e,cn),n!==null){ot=n;return}if(e=e.sibling,e!==null){ot=e;return}ot=e=t}while(e!==null);dt===0&&(dt=5)}function fi(t,e,n){var r=ke,s=Cn.transition;try{Cn.transition=null,ke=1,n2(t,e,n,r)}finally{Cn.transition=s,ke=r}return null}function n2(t,e,n,r){do No();while(ws!==null);if(Ie&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(MP(t,i),t===gt&&(ot=gt=null,bt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bu||(Bu=!0,pT(Vd,function(){return No(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Cn.transition,Cn.transition=null;var o=ke;ke=1;var a=Ie;Ie|=4,Iv.current=null,Yk(t,n),iT(n,t),Ek(_m),Ud=!!xm,_m=xm=null,t.current=n,Xk(n),CP(),Ie=a,ke=o,Cn.transition=i}else t.current=n;if(Bu&&(Bu=!1,ws=t,nh=s),i=t.pendingLanes,i===0&&(Cs=null),RP(n.stateNode),nn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(th)throw th=!1,t=$m,$m=null,t;return nh&1&&t.tag!==0&&No(),i=t.pendingLanes,i&1?t===Bm?Ll++:(Ll=0,Bm=t):Ll=0,Js(),null}function No(){if(ws!==null){var t=WE(nh),e=Cn.transition,n=ke;try{if(Cn.transition=null,ke=16>t?16:t,ws===null)var r=!1;else{if(t=ws,ws=null,nh=0,Ie&6)throw Error(H(331));var s=Ie;for(Ie|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(X=d;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:Ol(8,h,i)}var p=h.child;if(p!==null)p.return=h,X=p;else for(;X!==null;){h=X;var f=h.sibling,x=h.return;if(nT(h),h===d){X=null;break}if(f!==null){f.return=x,X=f;break}X=x}}}var S=i.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ol(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,X=E;break e}X=i.return}}var w=t.current;for(X=w;X!==null;){o=X;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,X=T;else e:for(o=w;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hh(9,a)}}catch(D){Ze(a,a.return,D)}if(a===o){X=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,X=R;break e}X=a.return}}if(Ie=s,Js(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Mh,t)}catch{}r=!0}return r}finally{ke=n,Cn.transition=e}}return!1}function yx(t,e,n){e=ia(n,e),e=Wb(t,e,1),t=Is(t,e,1),e=Wt(),t!==null&&(Oc(t,1,e),nn(t,e))}function Ze(t,e,n){if(t.tag===3)yx(t,t,n);else for(;e!==null;){if(e.tag===3){yx(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){t=ia(n,t),t=qb(e,t,1),e=Is(e,t,1),t=Wt(),e!==null&&(Oc(e,1,t),nn(e,t));break}}e=e.return}}function r2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wt(),t.pingedLanes|=t.suspendedLanes&n,gt===t&&(bt&n)===n&&(dt===4||dt===3&&(bt&130023424)===bt&&500>tt()-Nv?Si(t,0):Cv|=n),nn(t,e)}function hT(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=Wt();t=Dr(t,e),t!==null&&(Oc(t,e,n),nn(t,n))}function s2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hT(t,n)}function i2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),hT(t,n)}var fT;fT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,qk(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,We&&e.flags&1048576&&vb(e,Gd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pd(t,e),t=e.pendingProps;var s=ta(e,Lt.current);Co(e,n),s=_v(null,e,r,t,s,n);var i=Ev();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(i=!0,Wd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gv(e),s.updater=zh,e.stateNode=s,s._reactInternals=e,Rm(e,r,t,n),e=jm(null,e,r,!0,i,n)):(e.tag=0,We&&i&&cv(e),zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=a2(r),t=Dn(r,t),s){case 0:e=km(null,e,r,t,n);break e;case 1:e=lx(null,e,r,t,n);break e;case 11:e=ox(null,e,r,t,n);break e;case 14:e=ax(null,e,r,Dn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),km(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),lx(t,e,r,s,n);case 3:e:{if(Yb(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,bb(t,e),Yd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ia(Error(H(423)),e),e=cx(t,e,r,n,s);break e}else if(r!==s){s=ia(Error(H(424)),e),e=cx(t,e,r,n,s);break e}else for(hn=Ss(e.stateNode.containerInfo.firstChild),pn=e,We=!0,Vn=null,n=_b(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(na(),r===s){e=Or(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return Tb(e),t===null&&Cm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Em(r,s)?o=null:i!==null&&Em(r,i)&&(e.flags|=32),Qb(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&Cm(e),null;case 13:return Xb(t,e,n);case 4:return vv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ra(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),ox(t,e,r,s,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Kd,r._currentValue),r._currentValue=o,i!==null)if(Hn(i.value,o)){if(i.children===s.children&&!en.current){e=Or(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Rr(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Nm(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nm(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Co(e,n),s=Nn(s),r=r(s),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,s=Dn(r,e.pendingProps),s=Dn(r.type,s),ax(t,e,r,s,n);case 15:return Gb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Dn(r,s),pd(t,e),e.tag=1,tn(r)?(t=!0,Wd(e)):t=!1,Co(e,n),Hb(e,r,s),Rm(e,r,s,n),jm(null,e,r,!0,t,n);case 19:return Jb(t,e,n);case 22:return Kb(t,e,n)}throw Error(H(156,e.tag))};function pT(t,e){return $E(t,e)}function o2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new o2(t,e,n,r)}function kv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a2(t){if(typeof t=="function")return kv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xg)return 11;if(t===Jg)return 14}return 2}function As(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")kv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case co:return Ii(n.children,s,i,e);case Yg:o=8,s|=8;break;case em:return t=In(12,n,e,s|2),t.elementType=em,t.lanes=i,t;case tm:return t=In(13,n,e,s),t.elementType=tm,t.lanes=i,t;case nm:return t=In(19,n,e,s),t.elementType=nm,t.lanes=i,t;case TE:return qh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EE:o=10;break e;case bE:o=9;break e;case Xg:o=11;break e;case Jg:o=14;break e;case ss:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=In(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ii(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function qh(t,e,n,r){return t=In(22,t,r,e),t.elementType=TE,t.lanes=n,t.stateNode={isHidden:!1},t}function Ep(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function bp(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rp(0),this.expirationTimes=rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jv(t,e,n,r,s,i,o,a,l){return t=new l2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=In(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gv(i),t}function c2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function mT(t){if(!t)return Fs;t=t._reactInternals;e:{if(Bi(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(tn(n))return mb(t,n,e)}return e}function gT(t,e,n,r,s,i,o,a,l){return t=jv(n,r,!0,t,s,i,o,a,l),t.context=mT(null),n=t.current,r=Wt(),s=Ns(n),i=Rr(r,s),i.callback=e??null,Is(n,i,s),t.current.lanes=s,Oc(t,s,r),nn(t,r),t}function Gh(t,e,n,r){var s=e.current,i=Wt(),o=Ns(s);return n=mT(n),e.context===null?e.context=n:e.pendingContext=n,e=Rr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Is(s,e,o),t!==null&&(Bn(t,s,o,i),dd(t,s,o)),o}function sh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dv(t,e){wx(t,e),(t=t.alternate)&&wx(t,e)}function u2(){return null}var vT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ov(t){this._internalRoot=t}Kh.prototype.render=Ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Gh(t,e,null,null)};Kh.prototype.unmount=Ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){Gh(null,t,null,null)}),e[jr]=null}};function Kh(t){this._internalRoot=t}Kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=KE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<os.length&&e!==0&&e<os[n].priority;n++);os.splice(n,0,t),n===0&&YE(t)}};function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xx(){}function d2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=sh(o);i.call(d)}}var o=gT(e,r,t,0,null,!1,!1,"",xx);return t._reactRootContainer=o,t[jr]=o.current,sc(t.nodeType===8?t.parentNode:t),Pi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=sh(l);a.call(d)}}var l=jv(t,0,!1,null,null,!1,!1,"",xx);return t._reactRootContainer=l,t[jr]=l.current,sc(t.nodeType===8?t.parentNode:t),Pi(function(){Gh(e,l,n,r)}),l}function Yh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=sh(o);a.call(l)}}Gh(e,o,t,s)}else o=d2(n,e,t,s,r);return sh(o)}qE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xl(e.pendingLanes);n!==0&&(tv(e,n|1),nn(e,tt()),!(Ie&6)&&(oa=tt()+500,Js()))}break;case 13:Pi(function(){var r=Dr(t,1);if(r!==null){var s=Wt();Bn(r,t,1,s)}}),Dv(t,1)}};nv=function(t){if(t.tag===13){var e=Dr(t,134217728);if(e!==null){var n=Wt();Bn(e,t,134217728,n)}Dv(t,134217728)}};GE=function(t){if(t.tag===13){var e=Ns(t),n=Dr(t,e);if(n!==null){var r=Wt();Bn(n,t,e,r)}Dv(t,e)}};KE=function(){return ke};QE=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};hm=function(t,e,n){switch(e){case"input":if(im(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uh(r);if(!s)throw Error(H(90));IE(r),im(r,s)}}}break;case"textarea":NE(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};OE=Av;ME=Pi;var h2={usingClientEntryPoint:!1,Events:[Lc,po,Uh,jE,DE,Av]},pl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f2={bundleType:pl.bundleType,version:pl.version,rendererPackageName:pl.rendererPackageName,rendererConfig:pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FE(t),t===null?null:t.stateNode},findFiberByHostInstance:pl.findFiberByHostInstance||u2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Mh=zu.inject(f2),lr=zu}catch{}}yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h2;yn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(e))throw Error(H(200));return c2(t,e,null,n)};yn.createRoot=function(t,e){if(!Mv(t))throw Error(H(299));var n=!1,r="",s=vT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=jv(t,1,!1,null,null,n,!1,r,s),t[jr]=e.current,sc(t.nodeType===8?t.parentNode:t),new Ov(e)};yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=FE(e),t=t===null?null:t.stateNode,t};yn.flushSync=function(t){return Pi(t)};yn.hydrate=function(t,e,n){if(!Qh(e))throw Error(H(200));return Yh(null,t,e,!0,n)};yn.hydrateRoot=function(t,e,n){if(!Mv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=vT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gT(e,null,t,1,n??null,s,!1,i,o),t[jr]=e.current,sc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Kh(e)};yn.render=function(t,e,n){if(!Qh(e))throw Error(H(200));return Yh(null,t,e,!1,n)};yn.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(H(40));return t._reactRootContainer?(Pi(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[jr]=null})}),!0):!1};yn.unstable_batchedUpdates=Av;yn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Yh(t,e,n,!1,r)};yn.version="18.3.1-next-f1338f8080-20240426";function yT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yT)}catch(t){console.error(t)}}yT(),yE.exports=yn;var zi=yE.exports;const wT=iE(zi);var xT,_x=zi;xT=_x.createRoot,_x.hydrateRoot;const p2=1,m2=1e6;let Tp=0;function g2(){return Tp=(Tp+1)%Number.MAX_SAFE_INTEGER,Tp.toString()}const Sp=new Map,Ex=t=>{if(Sp.has(t))return;const e=setTimeout(()=>{Sp.delete(t),Vl({type:"REMOVE_TOAST",toastId:t})},m2);Sp.set(t,e)},v2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,p2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Ex(n):t.toasts.forEach(r=>{Ex(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yd=[];let wd={toasts:[]};function Vl(t){wd=v2(wd,t),yd.forEach(e=>{e(wd)})}function y2({...t}){const e=g2(),n=s=>Vl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Vl({type:"DISMISS_TOAST",toastId:e});return Vl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Zs(){const[t,e]=g.useState(wd);return g.useEffect(()=>(yd.push(e),()=>{const n=yd.indexOf(e);n>-1&&yd.splice(n,1)}),[t]),{...t,toast:y2,dismiss:n=>Vl({type:"DISMISS_TOAST",toastId:n})}}function de(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function w2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function _T(...t){return e=>t.forEach(n=>w2(n,e))}function Me(...t){return g.useCallback(_T(...t),t)}function x2(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function d(p){const{scope:f,children:x,...S}=p,v=(f==null?void 0:f[t][l])||a,b=g.useMemo(()=>S,Object.values(S));return c.jsx(v.Provider,{value:b,children:x})}function h(p,f){const x=(f==null?void 0:f[t][l])||a,S=g.useContext(x);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,_2(s,...e)]}function _2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ki=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(E2);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return c.jsx(Wm,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return c.jsx(Wm,{...r,ref:e,children:n})});ki.displayName="Slot";var Wm=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=T2(n);return g.cloneElement(n,{...b2(r,n.props),ref:e?_T(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});Wm.displayName="SlotClone";var Lv=({children:t})=>c.jsx(c.Fragment,{children:t});function E2(t){return g.isValidElement(t)&&t.type===Lv}function b2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function T2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ET(t){const e=t+"CollectionProvider",[n,r]=x2(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:S,children:v}=x,b=q.useRef(null),E=q.useRef(new Map).current;return c.jsx(s,{scope:S,itemMap:E,collectionRef:b,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=q.forwardRef((x,S)=>{const{scope:v,children:b}=x,E=i(a,v),w=Me(S,E.collectionRef);return c.jsx(ki,{ref:w,children:b})});l.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",p=q.forwardRef((x,S)=>{const{scope:v,children:b,...E}=x,w=q.useRef(null),T=Me(S,w),R=i(d,v);return q.useEffect(()=>(R.itemMap.set(w,{ref:w,...E}),()=>void R.itemMap.delete(w))),c.jsx(ki,{[h]:"",ref:T,children:b})});p.displayName=d;function f(x){const S=i(t+"CollectionConsumer",x);return q.useCallback(()=>{const b=S.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((R,D)=>E.indexOf(R.ref.current)-E.indexOf(D.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function S2(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Fc(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const d=p=>{var E;const{scope:f,children:x,...S}=p,v=((E=f==null?void 0:f[t])==null?void 0:E[l])||a,b=g.useMemo(()=>S,Object.values(S));return c.jsx(v.Provider,{value:b,children:x})};d.displayName=i+"Provider";function h(p,f){var v;const x=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,S=g.useContext(x);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,I2(s,...e)]}function I2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var C2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],be=C2.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ki:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bT(t,e){t&&zi.flushSync(()=>t.dispatchEvent(e))}function vn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function N2(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var A2="DismissableLayer",qm="dismissableLayer.update",R2="dismissableLayer.pointerDownOutside",P2="dismissableLayer.focusOutside",bx,TT=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Uc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=g.useContext(TT),[h,p]=g.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=g.useState({}),S=Me(e,I=>p(I)),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),E=v.indexOf(b),w=h?v.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,R=w>=E,D=j2(I=>{const C=I.target,_=[...d.branches].some(A=>A.contains(C));!R||_||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),O=D2(I=>{const C=I.target;[...d.branches].some(A=>A.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return N2(I=>{w===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(bx=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Tx(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=bx)}},[h,f,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Tx())},[h,d]),g.useEffect(()=>{const I=()=>x({});return document.addEventListener(qm,I),()=>document.removeEventListener(qm,I)},[]),c.jsx(be.div,{...l,ref:S,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:de(t.onFocusCapture,O.onFocusCapture),onBlurCapture:de(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:de(t.onPointerDownCapture,D.onPointerDownCapture)})});Uc.displayName=A2;var k2="DismissableLayerBranch",ST=g.forwardRef((t,e)=>{const n=g.useContext(TT),r=g.useRef(null),s=Me(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(be.div,{...t,ref:s})});ST.displayName=k2;function j2(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){IT(R2,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function D2(t,e=globalThis==null?void 0:globalThis.document){const n=vn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&IT(P2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tx(){const t=new CustomEvent(qm);document.dispatchEvent(t)}function IT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bT(s,i):s.dispatchEvent(i)}var O2=Uc,M2=ST,Vt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},L2="Portal",Xh=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);Vt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?wT.createPortal(c.jsx(be.div,{...r,ref:e}),o):null});Xh.displayName=L2;function V2(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Ea=t=>{const{present:e,children:n}=t,r=F2(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Me(r.ref,U2(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Ea.displayName="Presence";function F2(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=V2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Hu(r.current);i.current=a==="mounted"?d:"none"},[a]),Vt(()=>{const d=r.current,h=s.current;if(h!==t){const f=i.current,x=Hu(d);t?l("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&f!==x?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Vt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,p=x=>{const v=Hu(r.current).includes(x.animationName);if(x.target===e&&v&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},f=x=>{x.target===e&&(i.current=Hu(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Hu(t){return(t==null?void 0:t.animationName)||"none"}function U2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ih({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=$2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=vn(n),l=g.useCallback(d=>{if(i){const p=typeof d=="function"?d(t):d;p!==t&&a(p)}else s(d)},[i,t,s,a]);return[o,l]}function $2({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=vn(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var B2="VisuallyHidden",$c=g.forwardRef((t,e)=>c.jsx(be.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$c.displayName=B2;var z2=$c,Vv="ToastProvider",[Fv,H2,W2]=ET("Toast"),[CT,eB]=Fc("Toast",[W2]),[q2,Jh]=CT(Vv),NT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[d,h]=g.useState(0),p=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Vv}\`. Expected non-empty \`string\`.`),c.jsx(Fv.Provider,{scope:e,children:c.jsx(q2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>h(x=>x+1),[]),onToastRemove:g.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};NT.displayName=Vv;var AT="ToastViewport",G2=["F8"],Gm="toast.viewportPause",Km="toast.viewportResume",RT=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=G2,label:s="Notifications ({hotkey})",...i}=t,o=Jh(AT,n),a=H2(n),l=g.useRef(null),d=g.useRef(null),h=g.useRef(null),p=g.useRef(null),f=Me(e,p,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;g.useEffect(()=>{const b=E=>{var T;r.length!==0&&r.every(R=>E[R]||E.code===R)&&((T=p.current)==null||T.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),g.useEffect(()=>{const b=l.current,E=p.current;if(S&&b&&E){const w=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Gm);E.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Km);E.dispatchEvent(O),o.isClosePausedRef.current=!1}},R=O=>{!b.contains(O.relatedTarget)&&T()},D=()=>{b.contains(document.activeElement)||T()};return b.addEventListener("focusin",w),b.addEventListener("focusout",R),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",R),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[S,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:b})=>{const w=a().map(T=>{const R=T.ref.current,D=[R,...oj(R)];return b==="forwards"?D:D.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const b=p.current;if(b){const E=w=>{var D,O,I;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const C=document.activeElement,_=w.shiftKey;if(w.target===b&&_){(D=d.current)==null||D.focus();return}const k=v({tabbingDirection:_?"backwards":"forwards"}),P=k.findIndex(B=>B===C);Ip(k.slice(P+1))?w.preventDefault():_?(O=d.current)==null||O.focus():(I=h.current)==null||I.focus()}};return b.addEventListener("keydown",E),()=>b.removeEventListener("keydown",E)}},[a,v]),c.jsxs(M2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&c.jsx(Qm,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});Ip(b)}}),c.jsx(Fv.Slot,{scope:n,children:c.jsx(be.ol,{tabIndex:-1,...i,ref:f})}),S&&c.jsx(Qm,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});Ip(b)}})]})});RT.displayName=AT;var PT="ToastFocusProxy",Qm=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Jh(PT,n);return c.jsx($c,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Qm.displayName=PT;var Zh="Toast",K2="toast.swipeStart",Q2="toast.swipeMove",Y2="toast.swipeCancel",X2="toast.swipeEnd",kT=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=ih({prop:r,defaultProp:s,onChange:i});return c.jsx(Ea,{present:n||a,children:c.jsx(ej,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:vn(t.onPause),onResume:vn(t.onResume),onSwipeStart:de(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(t.onSwipeMove,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:de(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(t.onSwipeEnd,d=>{const{x:h,y:p}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});kT.displayName=Zh;var[J2,Z2]=CT(Zh,{onClose(){}}),ej=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:x,...S}=t,v=Jh(Zh,n),[b,E]=g.useState(null),w=Me(e,B=>E(B)),T=g.useRef(null),R=g.useRef(null),D=s||v.duration,O=g.useRef(0),I=g.useRef(D),C=g.useRef(0),{onToastAdd:_,onToastRemove:A}=v,j=vn(()=>{var ee;(b==null?void 0:b.contains(document.activeElement))&&((ee=v.viewport)==null||ee.focus()),o()}),k=g.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(j,B))},[j]);g.useEffect(()=>{const B=v.viewport;if(B){const ee=()=>{k(I.current),d==null||d()},Y=()=>{const re=new Date().getTime()-O.current;I.current=I.current-re,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(Gm,Y),B.addEventListener(Km,ee),()=>{B.removeEventListener(Gm,Y),B.removeEventListener(Km,ee)}}},[v.viewport,D,l,d,k]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&k(D)},[i,D,v.isClosePausedRef,k]),g.useEffect(()=>(_(),()=>A()),[_,A]);const P=g.useMemo(()=>b?FT(b):null,[b]);return v.viewport?c.jsxs(c.Fragment,{children:[P&&c.jsx(tj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),c.jsx(J2,{scope:n,onClose:j,children:zi.createPortal(c.jsx(Fv.ItemSlot,{scope:n,children:c.jsx(O2,{asChild:!0,onEscapeKeyDown:de(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||j(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:de(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,j()))}),onPointerDown:de(t.onPointerDown,B=>{B.button===0&&(T.current={x:B.clientX,y:B.clientY})}),onPointerMove:de(t.onPointerMove,B=>{if(!T.current)return;const ee=B.clientX-T.current.x,Y=B.clientY-T.current.y,re=!!R.current,L=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=L?z(0,ee):0,G=L?0:z(0,Y),Z=B.pointerType==="touch"?10:2,ne={x:J,y:G},Ce={originalEvent:B,delta:ne};re?(R.current=ne,Wu(Q2,p,Ce,{discrete:!1})):Sx(ne,v.swipeDirection,Z)?(R.current=ne,Wu(K2,h,Ce,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(ee)>Z||Math.abs(Y)>Z)&&(T.current=null)}),onPointerUp:de(t.onPointerUp,B=>{const ee=R.current,Y=B.target;if(Y.hasPointerCapture(B.pointerId)&&Y.releasePointerCapture(B.pointerId),R.current=null,T.current=null,ee){const re=B.currentTarget,L={originalEvent:B,delta:ee};Sx(ee,v.swipeDirection,v.swipeThreshold)?Wu(X2,x,L,{discrete:!0}):Wu(Y2,f,L,{discrete:!0}),re.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),tj=t=>{const{__scopeToast:e,children:n,...r}=t,s=Jh(Zh,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return sj(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:c.jsx(Xh,{asChild:!0,children:c.jsx($c,{...r,children:i&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},nj="ToastTitle",jT=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(be.div,{...r,ref:e})});jT.displayName=nj;var rj="ToastDescription",DT=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return c.jsx(be.div,{...r,ref:e})});DT.displayName=rj;var OT="ToastAction",MT=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?c.jsx(VT,{altText:n,asChild:!0,children:c.jsx(Uv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${OT}\`. Expected non-empty \`string\`.`),null)});MT.displayName=OT;var LT="ToastClose",Uv=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=Z2(LT,n);return c.jsx(VT,{asChild:!0,children:c.jsx(be.button,{type:"button",...r,ref:e,onClick:de(t.onClick,s.onClose)})})});Uv.displayName=LT;var VT=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return c.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function FT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ij(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...FT(r))}}),e}function Wu(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bT(s,i):s.dispatchEvent(i)}var Sx=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function sj(t=()=>{}){const e=vn(t);Vt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function ij(t){return t.nodeType===t.ELEMENT_NODE}function oj(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ip(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var aj=NT,UT=RT,$T=kT,BT=jT,zT=DT,HT=MT,WT=Uv;function qT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=qT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function GT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=qT(t))&&(r&&(r+=" "),r+=e);return r}const Ix=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Cx=GT,Bc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Cx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],p=i==null?void 0:i[d];if(h===null)return null;const f=Ix(h)||Ix(p);return s[d][f]}),a=n&&Object.entries(n).reduce((d,h)=>{let[p,f]=h;return f===void 0||(d[p]=f),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:p,className:f,...x}=h;return Object.entries(x).every(S=>{let[v,b]=S;return Array.isArray(b)?b.includes({...i,...a}[v]):{...i,...a}[v]===b})?[...d,p,f]:d},[]);return Cx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...cj,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KT("lucide",s),...a},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(uj,{ref:i,iconNode:e,className:KT(`lucide-${lj(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=nt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=nt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=nt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=nt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=nt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=nt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=nt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=nt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=nt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=nt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=nt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=nt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=nt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Hv="-",yj=t=>{const e=xj(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Hv);return a[0]===""&&a.length!==1&&a.shift(),XT(a,e)||wj(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},XT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?XT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Hv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Nx=/^\[(.+)\]$/,wj=t=>{if(Nx.test(t)){const e=Nx.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},xj=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Ej(Object.entries(t.classGroups),n).forEach(([i,o])=>{eg(o,r,i,e)}),r},eg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Ax(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(_j(s)){eg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{eg(o,Ax(e,i),n,r)})})},Ax=(t,e)=>{let n=t;return e.split(Hv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_j=t=>t.isThemeGetter,Ej=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,bj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},JT="!",Tj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,p;for(let b=0;b<a.length;b++){let E=a[b];if(d===0){if(E===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(h,b)),h=b+i;continue}if(E==="/"){p=b;continue}}E==="["?d++:E==="]"&&d--}const f=l.length===0?a:a.substring(h),x=f.startsWith(JT),S=x?f.substring(1):f,v=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:S,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},Sj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Ij=t=>({cache:bj(t.cacheSize),parseClassName:Tj(t),...yj(t)}),Cj=/\s+/,Nj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(Cj);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:x}=n(d);let S=!!x,v=r(S?f.substring(0,x):f);if(!v){if(!S){a=d+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=d+(a.length>0?" "+a:a);continue}S=!1}const b=Sj(h).join(":"),E=p?b+JT:b,w=E+v;if(i.includes(w))continue;i.push(w);const T=s(v,S);for(let R=0;R<T.length;++R){const D=T[R];i.push(E+D)}a=d+(a.length>0?" "+a:a)}return a};function Aj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ZT(e))&&(r&&(r+=" "),r+=n);return r}const ZT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ZT(t[r]))&&(n&&(n+=" "),n+=e);return n};function Rj(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,p)=>p(h),t());return n=Ij(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=Nj(l,n);return s(l,h),h}return function(){return i(Aj.apply(null,arguments))}}const Fe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},eS=/^\[(?:([a-z-]+):)?(.+)\]$/i,Pj=/^\d+\/\d+$/,kj=new Set(["px","full","screen"]),jj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Oj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Mj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Er=t=>Ao(t)||kj.has(t)||Pj.test(t),Zr=t=>ba(t,"length",Wj),Ao=t=>!!t&&!Number.isNaN(Number(t)),Np=t=>ba(t,"number",Ao),gl=t=>!!t&&Number.isInteger(Number(t)),Vj=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),he=t=>eS.test(t),es=t=>jj.test(t),Fj=new Set(["length","size","percentage"]),Uj=t=>ba(t,Fj,tS),$j=t=>ba(t,"position",tS),Bj=new Set(["image","url"]),zj=t=>ba(t,Bj,Gj),Hj=t=>ba(t,"",qj),vl=()=>!0,ba=(t,e,n)=>{const r=eS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Wj=t=>Dj.test(t)&&!Oj.test(t),tS=()=>!1,qj=t=>Mj.test(t),Gj=t=>Lj.test(t),Kj=()=>{const t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),s=Fe("borderColor"),i=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),d=Fe("grayscale"),h=Fe("hueRotate"),p=Fe("invert"),f=Fe("gap"),x=Fe("gradientColorStops"),S=Fe("gradientColorStopPositions"),v=Fe("inset"),b=Fe("margin"),E=Fe("opacity"),w=Fe("padding"),T=Fe("saturate"),R=Fe("scale"),D=Fe("sepia"),O=Fe("skew"),I=Fe("space"),C=Fe("translate"),_=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",he,e],k=()=>[he,e],P=()=>["",Er,Zr],B=()=>["auto",Ao,he],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",he],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ao,he];return{cacheSize:500,separator:":",theme:{colors:[vl],spacing:[Er,Zr],blur:["none","",es,he],brightness:G(),borderColor:[t],borderRadius:["none","","full",es,he],borderSpacing:k(),borderWidth:P(),contrast:G(),grayscale:z(),hueRotate:G(),invert:z(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[Vj,Zr],inset:j(),margin:j(),opacity:G(),padding:k(),saturate:G(),scale:G(),sepia:z(),skew:G(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[es]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),he]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gl,he]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",gl,he]}],"grid-cols":[{"grid-cols":[vl]}],"col-start-end":[{col:["auto",{span:["full",gl,he]},he]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[vl]}],"row-start-end":[{row:["auto",{span:[gl,he]},he]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[es]},es]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",es,Zr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Np]}],"font-family":[{font:[vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Ao,Np]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Er,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Er,Zr]}],"underline-offset":[{"underline-offset":["auto",Er,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),$j]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Uj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Er,he]}],"outline-w":[{outline:[Er,Zr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Er,Zr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",es,Hj]}],"shadow-color":[{shadow:[vl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",es,he]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[T]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[gl,he]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Er,Zr,Np]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qj=Rj(Kj);function ce(...t){return Qj(GT(t))}const Yj=aj,nS=g.forwardRef(({className:t,...e},n)=>c.jsx(UT,{ref:n,className:ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));nS.displayName=UT.displayName;const Xj=Bc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rS=g.forwardRef(({className:t,variant:e,...n},r)=>c.jsx($T,{ref:r,className:ce(Xj({variant:e}),t),...n}));rS.displayName=$T.displayName;const Jj=g.forwardRef(({className:t,...e},n)=>c.jsx(HT,{ref:n,className:ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Jj.displayName=HT.displayName;const sS=g.forwardRef(({className:t,...e},n)=>c.jsx(WT,{ref:n,className:ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(zv,{className:"h-4 w-4"})}));sS.displayName=WT.displayName;const iS=g.forwardRef(({className:t,...e},n)=>c.jsx(BT,{ref:n,className:ce("text-sm font-semibold",t),...e}));iS.displayName=BT.displayName;const oS=g.forwardRef(({className:t,...e},n)=>c.jsx(zT,{ref:n,className:ce("text-sm opacity-90",t),...e}));oS.displayName=zT.displayName;function Zj(){const{toasts:t}=Zs();return c.jsxs(Yj,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return c.jsxs(rS,{...i,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(iS,{children:n}),r&&c.jsx(oS,{children:r})]}),s,c.jsx(sS,{})]},e)}),c.jsx(nS,{})]})}var Rx=["light","dark"],eD="(prefers-color-scheme: dark)",tD=g.createContext(void 0),nD={setTheme:t=>{},themes:[]},rD=()=>{var t;return(t=g.useContext(tD))!=null?t:nD};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?Rx.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(S,v=!1,b=!0)=>{let E=o?o[S]:S,w=v?S+"|| ''":`'${E}'`,T="";return s&&b&&!v&&Rx.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?v||E?T+=`c.add(${w})`:T+="null":E&&(T+=`d[s](n,${w})`),T},x=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${eD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:x}})});var sD=t=>{switch(t){case"success":return aD;case"info":return cD;case"warning":return lD;case"error":return uD;default:return null}},iD=Array(12).fill(0),oD=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},iD.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),aD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dD=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},tg=1,hD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:tg++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(pD(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,l=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:l})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:l})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,l=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:l})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||tg++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},ln=new hD,fD=(t,e)=>{let n=(e==null?void 0:e.id)||tg++;return ln.addToast({title:t,...e,id:n}),n},pD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",mD=fD,gD=()=>ln.toasts;Object.assign(mD,{success:ln.success,info:ln.info,warning:ln.warning,error:ln.error,custom:ln.custom,message:ln.message,promise:ln.promise,dismiss:ln.dismiss,loading:ln.loading},{getHistory:gD});function vD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}vD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qu(t){return t.label!==void 0}var yD=3,wD="32px",xD=4e3,_D=356,ED=14,bD=20,TD=200;function SD(...t){return t.filter(Boolean).join(" ")}var ID=t=>{var e,n,r,s,i,o,a,l,d,h;let{invert:p,toast:f,unstyled:x,interacting:S,setHeights:v,visibleToasts:b,heights:E,index:w,toasts:T,expanded:R,removeToast:D,defaultRichColors:O,closeButton:I,style:C,cancelButtonStyle:_,actionButtonStyle:A,className:j="",descriptionClassName:k="",duration:P,position:B,gap:ee,loadingIcon:Y,expandByDefault:re,classNames:L,icons:z,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:G,cn:Z}=t,[ne,Ce]=q.useState(!1),[ze,me]=q.useState(!1),[te,Te]=q.useState(!1),[He,ge]=q.useState(!1),[_e,ye]=q.useState(0),[ct,yt]=q.useState(0),xn=q.useRef(null),Ut=q.useRef(null),vr=w===0,Wa=w+1<=b,rt=f.type,Xn=f.dismissible!==!1,cu=f.className||"",Mf=f.descriptionClassName||"",qr=q.useMemo(()=>E.findIndex(ae=>ae.toastId===f.id)||0,[E,f.id]),qa=q.useMemo(()=>{var ae;return(ae=f.closeButton)!=null?ae:I},[f.closeButton,I]),Ga=q.useMemo(()=>f.duration||P||xD,[f.duration,P]),st=q.useRef(0),Ye=q.useRef(0),ai=q.useRef(0),yr=q.useRef(null),[Ka,Lf]=B.split("-"),Gr=q.useMemo(()=>E.reduce((ae,je,Pe)=>Pe>=qr?ae:ae+je.height,0),[E,qr]),Qa=dD(),uu=f.invert||p,li=rt==="loading";Ye.current=q.useMemo(()=>qr*ee+Gr,[qr,Gr]),q.useEffect(()=>{Ce(!0)},[]),q.useLayoutEffect(()=>{if(!ne)return;let ae=Ut.current,je=ae.style.height;ae.style.height="auto";let Pe=ae.getBoundingClientRect().height;ae.style.height=je,yt(Pe),v(It=>It.find(Kt=>Kt.toastId===f.id)?It.map(Kt=>Kt.toastId===f.id?{...Kt,height:Pe}:Kt):[{toastId:f.id,height:Pe,position:f.position},...It])},[ne,f.title,f.description,v,f.id]);let Jn=q.useCallback(()=>{me(!0),ye(Ye.current),v(ae=>ae.filter(je=>je.toastId!==f.id)),setTimeout(()=>{D(f)},TD)},[f,D,v,Ye]);q.useEffect(()=>{if(f.promise&&rt==="loading"||f.duration===1/0||f.type==="loading")return;let ae,je=Ga;return R||S||G&&Qa?(()=>{if(ai.current<st.current){let Pe=new Date().getTime()-st.current;je=je-Pe}ai.current=new Date().getTime()})():je!==1/0&&(st.current=new Date().getTime(),ae=setTimeout(()=>{var Pe;(Pe=f.onAutoClose)==null||Pe.call(f,f),Jn()},je)),()=>clearTimeout(ae)},[R,S,re,f,Ga,Jn,f.promise,rt,G,Qa]),q.useEffect(()=>{let ae=Ut.current;if(ae){let je=ae.getBoundingClientRect().height;return yt(je),v(Pe=>[{toastId:f.id,height:je,position:f.position},...Pe]),()=>v(Pe=>Pe.filter(It=>It.toastId!==f.id))}},[v,f.id]),q.useEffect(()=>{f.delete&&Jn()},[Jn,f.delete]);function Vf(){return z!=null&&z.loading?q.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},z.loading):Y?q.createElement("div",{className:"sonner-loader","data-visible":rt==="loading"},Y):q.createElement(oD,{visible:rt==="loading"})}return q.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ut,className:Z(j,cu,L==null?void 0:L.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[rt],(n=f==null?void 0:f.classNames)==null?void 0:n[rt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:O,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":ne,"data-promise":!!f.promise,"data-removed":ze,"data-visible":Wa,"data-y-position":Ka,"data-x-position":Lf,"data-index":w,"data-front":vr,"data-swiping":te,"data-dismissible":Xn,"data-type":rt,"data-invert":uu,"data-swipe-out":He,"data-expanded":!!(R||re&&ne),style:{"--index":w,"--toasts-before":w,"--z-index":T.length-w,"--offset":`${ze?_e:Ye.current}px`,"--initial-height":re?"auto":`${ct}px`,...C,...f.style},onPointerDown:ae=>{li||!Xn||(xn.current=new Date,ye(Ye.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Te(!0),yr.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,je,Pe,It;if(He||!Xn)return;yr.current=null;let Kt=Number(((ae=Ut.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Kr=new Date().getTime()-((je=xn.current)==null?void 0:je.getTime()),wr=Math.abs(Kt)/Kr;if(Math.abs(Kt)>=bD||wr>.11){ye(Ye.current),(Pe=f.onDismiss)==null||Pe.call(f,f),Jn(),ge(!0);return}(It=Ut.current)==null||It.style.setProperty("--swipe-amount","0px"),Te(!1)},onPointerMove:ae=>{var je;if(!yr.current||!Xn)return;let Pe=ae.clientY-yr.current.y,It=ae.clientX-yr.current.x,Kt=(Ka==="top"?Math.min:Math.max)(0,Pe),Kr=ae.pointerType==="touch"?10:2;Math.abs(Kt)>Kr?(je=Ut.current)==null||je.style.setProperty("--swipe-amount",`${Pe}px`):Math.abs(It)>Kr&&(yr.current=null)}},qa&&!f.jsx?q.createElement("button",{"aria-label":J,"data-disabled":li,"data-close-button":!0,onClick:li||!Xn?()=>{}:()=>{var ae;Jn(),(ae=f.onDismiss)==null||ae.call(f,f)},className:Z(L==null?void 0:L.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||q.isValidElement(f.title)?f.jsx||f.title:q.createElement(q.Fragment,null,rt||f.icon||f.promise?q.createElement("div",{"data-icon":"",className:Z(L==null?void 0:L.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Vf():null,f.type!=="loading"?f.icon||(z==null?void 0:z[rt])||sD(rt):null):null,q.createElement("div",{"data-content":"",className:Z(L==null?void 0:L.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:Z(L==null?void 0:L.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?q.createElement("div",{"data-description":"",className:Z(k,Mf,L==null?void 0:L.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),q.isValidElement(f.cancel)?f.cancel:f.cancel&&qu(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||_,onClick:ae=>{var je,Pe;qu(f.cancel)&&Xn&&((Pe=(je=f.cancel).onClick)==null||Pe.call(je,ae),Jn())},className:Z(L==null?void 0:L.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,q.isValidElement(f.action)?f.action:f.action&&qu(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||A,onClick:ae=>{var je,Pe;qu(f.action)&&(ae.defaultPrevented||((Pe=(je=f.action).onClick)==null||Pe.call(je,ae),Jn()))},className:Z(L==null?void 0:L.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function Px(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var CD=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:d,duration:h,style:p,visibleToasts:f=yD,toastOptions:x,dir:S=Px(),gap:v=ED,loadingIcon:b,icons:E,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:T,cn:R=SD}=t,[D,O]=q.useState([]),I=q.useMemo(()=>Array.from(new Set([n].concat(D.filter(G=>G.position).map(G=>G.position)))),[D,n]),[C,_]=q.useState([]),[A,j]=q.useState(!1),[k,P]=q.useState(!1),[B,ee]=q.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=q.useRef(null),re=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=q.useRef(null),z=q.useRef(!1),J=q.useCallback(G=>{var Z;(Z=D.find(ne=>ne.id===G.id))!=null&&Z.delete||ln.dismiss(G.id),O(ne=>ne.filter(({id:Ce})=>Ce!==G.id))},[D]);return q.useEffect(()=>ln.subscribe(G=>{if(G.dismiss){O(Z=>Z.map(ne=>ne.id===G.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{wT.flushSync(()=>{O(Z=>{let ne=Z.findIndex(Ce=>Ce.id===G.id);return ne!==-1?[...Z.slice(0,ne),{...Z[ne],...G},...Z.slice(ne+1)]:[G,...Z]})})})}),[]),q.useEffect(()=>{if(l!=="system"){ee(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{ee(G?"dark":"light")})},[l]),q.useEffect(()=>{D.length<=1&&j(!1)},[D]),q.useEffect(()=>{let G=Z=>{var ne,Ce;r.every(ze=>Z[ze]||Z.code===ze)&&(j(!0),(ne=Y.current)==null||ne.focus()),Z.code==="Escape"&&(document.activeElement===Y.current||(Ce=Y.current)!=null&&Ce.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),q.useEffect(()=>{if(Y.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,z.current=!1)}},[Y.current]),D.length?q.createElement("section",{"aria-label":`${w} ${re}`,tabIndex:-1},I.map((G,Z)=>{var ne;let[Ce,ze]=G.split("-");return q.createElement("ol",{key:G,dir:S==="auto"?Px():S,tabIndex:-1,ref:Y,className:o,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":Ce,"data-x-position":ze,style:{"--front-toast-height":`${((ne=C[0])==null?void 0:ne.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||wD,"--width":`${_D}px`,"--gap":`${v}px`,...p},onBlur:me=>{z.current&&!me.currentTarget.contains(me.relatedTarget)&&(z.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||z.current||(z.current=!0,L.current=me.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{k||j(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},D.filter(me=>!me.position&&Z===0||me.position===G).map((me,te)=>{var Te,He;return q.createElement(ID,{key:me.id,icons:E,index:te,toast:me,defaultRichColors:d,duration:(Te=x==null?void 0:x.duration)!=null?Te:h,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:e,visibleToasts:f,closeButton:(He=x==null?void 0:x.closeButton)!=null?He:i,interacting:k,position:G,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:J,toasts:D.filter(ge=>ge.position==me.position),heights:C.filter(ge=>ge.position==me.position),setHeights:_,expandByDefault:s,gap:v,loadingIcon:b,expanded:A,pauseWhenPageIsHidden:T,cn:R})}))})):null};const ND=({...t})=>{const{theme:e="system"}=rD();return c.jsx(CD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var AD=gE.useId||(()=>{}),RD=0;function Ro(t){const[e,n]=g.useState(AD());return Vt(()=>{n(r=>r??String(RD++))},[t]),e?`radix-${e}`:""}const PD=["top","right","bottom","left"],Us=Math.min,un=Math.max,ah=Math.round,Gu=Math.floor,$s=t=>({x:t,y:t}),kD={left:"right",right:"left",bottom:"top",top:"bottom"},jD={start:"end",end:"start"};function ng(t,e,n){return un(t,Us(e,n))}function Mr(t,e){return typeof t=="function"?t(e):t}function Lr(t){return t.split("-")[0]}function Ta(t){return t.split("-")[1]}function Wv(t){return t==="x"?"y":"x"}function qv(t){return t==="y"?"height":"width"}function Bs(t){return["top","bottom"].includes(Lr(t))?"y":"x"}function Gv(t){return Wv(Bs(t))}function DD(t,e,n){n===void 0&&(n=!1);const r=Ta(t),s=Gv(t),i=qv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=lh(o)),[o,lh(o)]}function OD(t){const e=lh(t);return[rg(t),e,rg(e)]}function rg(t){return t.replace(/start|end/g,e=>jD[e])}function MD(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function LD(t,e,n,r){const s=Ta(t);let i=MD(Lr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(rg)))),i}function lh(t){return t.replace(/left|right|bottom|top/g,e=>kD[e])}function VD(t){return{top:0,right:0,bottom:0,left:0,...t}}function aS(t){return typeof t!="number"?VD(t):{top:t,right:t,bottom:t,left:t}}function ch(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function kx(t,e,n){let{reference:r,floating:s}=t;const i=Bs(e),o=Gv(e),a=qv(o),l=Lr(e),d=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let x;switch(l){case"top":x={x:h,y:r.y-s.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-s.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Ta(e)){case"start":x[o]-=f*(n&&d?-1:1);break;case"end":x[o]+=f*(n&&d?-1:1);break}return x}const FD=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=kx(d,r,l),f=r,x={},S=0;for(let v=0;v<a.length;v++){const{name:b,fn:E}=a[v],{x:w,y:T,data:R,reset:D}=await E({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,p=T??p,x={...x,[b]:{...x[b],...R}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:p}=kx(d,f,l)),v=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:x}};async function fc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:x=0}=Mr(e,t),S=aS(x),b=a[f?p==="floating"?"reference":"floating":p],E=ch(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),w=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},D=ch(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:l}):w);return{top:(E.top-D.top+S.top)/R.y,bottom:(D.bottom-E.bottom+S.bottom)/R.y,left:(E.left-D.left+S.left)/R.x,right:(D.right-E.right+S.right)/R.x}}const UD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=Mr(t,e)||{};if(d==null)return{};const p=aS(h),f={x:n,y:r},x=Gv(s),S=qv(x),v=await o.getDimensions(d),b=x==="y",E=b?"top":"left",w=b?"bottom":"right",T=b?"clientHeight":"clientWidth",R=i.reference[S]+i.reference[x]-f[x]-i.floating[S],D=f[x]-i.reference[x],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=O?O[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[T]||i.floating[S]);const C=R/2-D/2,_=I/2-v[S]/2-1,A=Us(p[E],_),j=Us(p[w],_),k=A,P=I-v[S]-j,B=I/2-v[S]/2+C,ee=ng(k,B,P),Y=!l.arrow&&Ta(s)!=null&&B!==ee&&i.reference[S]/2-(B<k?A:j)-v[S]/2<0,re=Y?B<k?B-k:B-P:0;return{[x]:f[x]+re,data:{[x]:ee,centerOffset:B-ee-re,...Y&&{alignmentOffset:re}},reset:Y}}}),$D=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...b}=Mr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Lr(s),w=Bs(a),T=Lr(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(d.floating)),D=f||(T||!v?[lh(a)]:OD(a)),O=S!=="none";!f&&O&&D.push(...LD(a,v,S,R));const I=[a,...D],C=await fc(e,b),_=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&_.push(C[E]),p){const B=DD(s,o,R);_.push(C[B[0]],C[B[1]])}if(A=[...A,{placement:s,overflows:_}],!_.every(B=>B<=0)){var j,k;const B=(((j=i.flip)==null?void 0:j.index)||0)+1,ee=I[B];if(ee)return{data:{index:B,overflows:A},reset:{placement:ee}};let Y=(k=A.filter(re=>re.overflows[0]<=0).sort((re,L)=>re.overflows[1]-L.overflows[1])[0])==null?void 0:k.placement;if(!Y)switch(x){case"bestFit":{var P;const re=(P=A.filter(L=>{if(O){const z=Bs(L.placement);return z===w||z==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(z=>z>0).reduce((z,J)=>z+J,0)]).sort((L,z)=>L[1]-z[1])[0])==null?void 0:P[0];re&&(Y=re);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function jx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Dx(t){return PD.some(e=>t[e]>=0)}const BD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Mr(t,e);switch(r){case"referenceHidden":{const i=await fc(e,{...s,elementContext:"reference"}),o=jx(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Dx(o)}}}case"escaped":{const i=await fc(e,{...s,altBoundary:!0}),o=jx(i,n.floating);return{data:{escapedOffsets:o,escaped:Dx(o)}}}default:return{}}}}};async function zD(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Lr(n),a=Ta(n),l=Bs(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=Mr(e,t);let{mainAxis:f,crossAxis:x,alignmentAxis:S}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof S=="number"&&(x=a==="end"?S*-1:S),l?{x:x*h,y:f*d}:{x:f*d,y:x*h}}const HD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await zD(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},WD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:E,y:w}=b;return{x:E,y:w}}},...l}=Mr(t,e),d={x:n,y:r},h=await fc(e,l),p=Bs(Lr(s)),f=Wv(p);let x=d[f],S=d[p];if(i){const b=f==="y"?"top":"left",E=f==="y"?"bottom":"right",w=x+h[b],T=x-h[E];x=ng(w,x,T)}if(o){const b=p==="y"?"top":"left",E=p==="y"?"bottom":"right",w=S+h[b],T=S-h[E];S=ng(w,S,T)}const v=a.fn({...e,[f]:x,[p]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[p]:o}}}}}},qD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=Mr(t,e),h={x:n,y:r},p=Bs(s),f=Wv(p);let x=h[f],S=h[p];const v=Mr(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const T=f==="y"?"height":"width",R=i.reference[f]-i.floating[T]+b.mainAxis,D=i.reference[f]+i.reference[T]-b.mainAxis;x<R?x=R:x>D&&(x=D)}if(d){var E,w;const T=f==="y"?"width":"height",R=["top","left"].includes(Lr(s)),D=i.reference[p]-i.floating[T]+(R&&((E=o.offset)==null?void 0:E[p])||0)+(R?0:b.crossAxis),O=i.reference[p]+i.reference[T]+(R?0:((w=o.offset)==null?void 0:w[p])||0)-(R?b.crossAxis:0);S<D?S=D:S>O&&(S=O)}return{[f]:x,[p]:S}}}},GD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=Mr(t,e),h=await fc(e,d),p=Lr(s),f=Ta(s),x=Bs(s)==="y",{width:S,height:v}=i.floating;let b,E;p==="top"||p==="bottom"?(b=p,E=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,b=f==="end"?"top":"bottom");const w=v-h.top-h.bottom,T=S-h.left-h.right,R=Us(v-h[b],w),D=Us(S-h[E],T),O=!e.middlewareData.shift;let I=R,C=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),O&&!f){const A=un(h.left,0),j=un(h.right,0),k=un(h.top,0),P=un(h.bottom,0);x?C=S-2*(A!==0||j!==0?A+j:un(h.left,h.right)):I=v-2*(k!==0||P!==0?k+P:un(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:I});const _=await o.getDimensions(a.floating);return S!==_.width||v!==_.height?{reset:{rects:!0}}:{}}}};function ef(){return typeof window<"u"}function Sa(t){return lS(t)?(t.nodeName||"").toLowerCase():"#document"}function mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gr(t){var e;return(e=(lS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lS(t){return ef()?t instanceof Node||t instanceof mn(t).Node:!1}function Wn(t){return ef()?t instanceof Element||t instanceof mn(t).Element:!1}function pr(t){return ef()?t instanceof HTMLElement||t instanceof mn(t).HTMLElement:!1}function Ox(t){return!ef()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mn(t).ShadowRoot}function zc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=qn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function KD(t){return["table","td","th"].includes(Sa(t))}function tf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Kv(t){const e=Qv(),n=Wn(t)?qn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function QD(t){let e=zs(t);for(;pr(e)&&!aa(e);){if(Kv(e))return e;if(tf(e))return null;e=zs(e)}return null}function Qv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aa(t){return["html","body","#document"].includes(Sa(t))}function qn(t){return mn(t).getComputedStyle(t)}function nf(t){return Wn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function zs(t){if(Sa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ox(t)&&t.host||gr(t);return Ox(e)?e.host:e}function cS(t){const e=zs(t);return aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:pr(e)&&zc(e)?e:cS(e)}function pc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=cS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=mn(s);if(i){const a=sg(o);return e.concat(o,o.visualViewport||[],zc(s)?s:[],a&&n?pc(a):[])}return e.concat(s,pc(s,[],n))}function sg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function uS(t){const e=qn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=pr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ah(n)!==i||ah(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Yv(t){return Wn(t)?t:t.contextElement}function Po(t){const e=Yv(t);if(!pr(e))return $s(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=uS(e);let o=(i?ah(n.width):n.width)/r,a=(i?ah(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const YD=$s(0);function dS(t){const e=mn(t);return!Qv()||!e.visualViewport?YD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function XD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mn(t)?!1:e}function ji(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Yv(t);let o=$s(1);e&&(r?Wn(r)&&(o=Po(r)):o=Po(t));const a=XD(i,n,r)?dS(i):$s(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=mn(i),x=r&&Wn(r)?mn(r):r;let S=f,v=sg(S);for(;v&&r&&x!==S;){const b=Po(v),E=v.getBoundingClientRect(),w=qn(v),T=E.left+(v.clientLeft+parseFloat(w.paddingLeft))*b.x,R=E.top+(v.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,d*=b.y,h*=b.x,p*=b.y,l+=T,d+=R,S=mn(v),v=sg(S)}}return ch({width:h,height:p,x:l,y:d})}function JD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=gr(r),a=e?tf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=$s(1);const h=$s(0),p=pr(r);if((p||!p&&!i)&&((Sa(r)!=="body"||zc(o))&&(l=nf(r)),pr(r))){const f=ji(r);d=Po(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x,y:n.y*d.y-l.scrollTop*d.y+h.y}}function ZD(t){return Array.from(t.getClientRects())}function ig(t,e){const n=nf(t).scrollLeft;return e?e.left+n:ji(gr(t)).left+n}function eO(t){const e=gr(t),n=nf(t),r=t.ownerDocument.body,s=un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ig(t);const a=-n.scrollTop;return qn(r).direction==="rtl"&&(o+=un(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function tO(t,e){const n=mn(t),r=gr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=Qv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function nO(t,e){const n=ji(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=pr(t)?Po(t):$s(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function Mx(t,e,n){let r;if(e==="viewport")r=tO(t,n);else if(e==="document")r=eO(gr(t));else if(Wn(e))r=nO(e,n);else{const s=dS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return ch(r)}function hS(t,e){const n=zs(t);return n===e||!Wn(n)||aa(n)?!1:qn(n).position==="fixed"||hS(n,e)}function rO(t,e){const n=e.get(t);if(n)return n;let r=pc(t,[],!1).filter(a=>Wn(a)&&Sa(a)!=="body"),s=null;const i=qn(t).position==="fixed";let o=i?zs(t):t;for(;Wn(o)&&!aa(o);){const a=qn(o),l=Kv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||zc(o)&&!l&&hS(t,o))?r=r.filter(h=>h!==o):s=a,o=zs(o)}return e.set(t,r),r}function sO(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?tf(e)?[]:rO(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const p=Mx(e,h,s);return d.top=un(p.top,d.top),d.right=Us(p.right,d.right),d.bottom=Us(p.bottom,d.bottom),d.left=un(p.left,d.left),d},Mx(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function iO(t){const{width:e,height:n}=uS(t);return{width:e,height:n}}function oO(t,e,n){const r=pr(e),s=gr(e),i=n==="fixed",o=ji(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=$s(0);if(r||!r&&!i)if((Sa(e)!=="body"||zc(s))&&(a=nf(e)),r){const x=ji(e,!0,i,e);l.x=x.x+e.clientLeft,l.y=x.y+e.clientTop}else s&&(l.x=ig(s));let d=0,h=0;if(s&&!r&&!i){const x=s.getBoundingClientRect();h=x.top+a.scrollTop,d=x.left+a.scrollLeft-ig(s,x)}const p=o.left+a.scrollLeft-l.x-d,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function Ap(t){return qn(t).position==="static"}function Lx(t,e){if(!pr(t)||qn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gr(t)===n&&(n=n.ownerDocument.body),n}function fS(t,e){const n=mn(t);if(tf(t))return n;if(!pr(t)){let s=zs(t);for(;s&&!aa(s);){if(Wn(s)&&!Ap(s))return s;s=zs(s)}return n}let r=Lx(t,e);for(;r&&KD(r)&&Ap(r);)r=Lx(r,e);return r&&aa(r)&&Ap(r)&&!Kv(r)?n:r||QD(t)||n}const aO=async function(t){const e=this.getOffsetParent||fS,n=this.getDimensions,r=await n(t.floating);return{reference:oO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lO(t){return qn(t).direction==="rtl"}const cO={convertOffsetParentRelativeRectToViewportRelativeRect:JD,getDocumentElement:gr,getClippingRect:sO,getOffsetParent:fS,getElementRects:aO,getClientRects:ZD,getDimensions:iO,getScale:Po,isElement:Wn,isRTL:lO};function uO(t,e){let n=null,r;const s=gr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:d,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const x=Gu(h),S=Gu(s.clientWidth-(d+p)),v=Gu(s.clientHeight-(h+f)),b=Gu(d),w={rootMargin:-x+"px "+-S+"px "+-v+"px "+-b+"px",threshold:un(0,Us(1,l))||1};let T=!0;function R(D){const O=D[0].intersectionRatio;if(O!==l){if(!T)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(R,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(t)}return o(!0),i}function dO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=Yv(t),h=s||i?[...d?pc(d):[],...pc(e)]:[];h.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const p=d&&a?uO(d,n):null;let f=-1,x=null;o&&(x=new ResizeObserver(E=>{let[w]=E;w&&w.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=x)==null||T.observe(e)})),n()}),d&&!l&&x.observe(d),x.observe(e));let S,v=l?ji(t):null;l&&b();function b(){const E=ji(t);v&&(E.x!==v.x||E.y!==v.y||E.width!==v.width||E.height!==v.height)&&n(),v=E,S=requestAnimationFrame(b)}return n(),()=>{var E;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),p==null||p(),(E=x)==null||E.disconnect(),x=null,l&&cancelAnimationFrame(S)}}const hO=HD,fO=WD,pO=$D,mO=GD,gO=BD,Vx=UD,vO=qD,yO=(t,e,n)=>{const r=new Map,s={platform:cO,...n},i={...s.platform,_c:r};return FD(t,e,{...s,platform:i})};var xd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function uh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!uh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!uh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function pS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Fx(t,e){const n=pS(t);return Math.round(e*n)/n}function Rp(t){const e=g.useRef(t);return xd(()=>{e.current=t}),e}function wO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,x]=g.useState(r);uh(f,r)||x(r);const[S,v]=g.useState(null),[b,E]=g.useState(null),w=g.useCallback(L=>{L!==O.current&&(O.current=L,v(L))},[]),T=g.useCallback(L=>{L!==I.current&&(I.current=L,E(L))},[]),R=i||S,D=o||b,O=g.useRef(null),I=g.useRef(null),C=g.useRef(h),_=l!=null,A=Rp(l),j=Rp(s),k=Rp(d),P=g.useCallback(()=>{if(!O.current||!I.current)return;const L={placement:e,strategy:n,middleware:f};j.current&&(L.platform=j.current),yO(O.current,I.current,L).then(z=>{const J={...z,isPositioned:k.current!==!1};B.current&&!uh(C.current,J)&&(C.current=J,zi.flushSync(()=>{p(J)}))})},[f,e,n,j,k]);xd(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(L=>({...L,isPositioned:!1})))},[d]);const B=g.useRef(!1);xd(()=>(B.current=!0,()=>{B.current=!1}),[]),xd(()=>{if(R&&(O.current=R),D&&(I.current=D),R&&D){if(A.current)return A.current(R,D,P);P()}},[R,D,P,A,_]);const ee=g.useMemo(()=>({reference:O,floating:I,setReference:w,setFloating:T}),[w,T]),Y=g.useMemo(()=>({reference:R,floating:D}),[R,D]),re=g.useMemo(()=>{const L={position:n,left:0,top:0};if(!Y.floating)return L;const z=Fx(Y.floating,h.x),J=Fx(Y.floating,h.y);return a?{...L,transform:"translate("+z+"px, "+J+"px)",...pS(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:J}},[n,a,Y.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:P,refs:ee,elements:Y,floatingStyles:re}),[h,P,ee,Y,re])}const xO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Vx({element:r.current,padding:s}).fn(n):{}:r?Vx({element:r,padding:s}).fn(n):{}}}},_O=(t,e)=>({...hO(t),options:[t,e]}),EO=(t,e)=>({...fO(t),options:[t,e]}),bO=(t,e)=>({...vO(t),options:[t,e]}),TO=(t,e)=>({...pO(t),options:[t,e]}),SO=(t,e)=>({...mO(t),options:[t,e]}),IO=(t,e)=>({...gO(t),options:[t,e]}),CO=(t,e)=>({...xO(t),options:[t,e]});var NO="Arrow",mS=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(be.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});mS.displayName=NO;var AO=mS;function RO(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function d(p){const{scope:f,children:x,...S}=p,v=(f==null?void 0:f[t][l])||a,b=g.useMemo(()=>S,Object.values(S));return c.jsx(v.Provider,{value:b,children:x})}function h(p,f){const x=(f==null?void 0:f[t][l])||a,S=g.useContext(x);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,PO(s,...e)]}function PO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const p=l(i)[`__scope${d}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kO(t){const[e,n]=g.useState(void 0);return Vt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Xv="Popper",[gS,rf]=RO(Xv),[jO,vS]=gS(Xv),yS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return c.jsx(jO,{scope:e,anchor:r,onAnchorChange:s,children:n})};yS.displayName=Xv;var wS="PopperAnchor",xS=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=vS(wS,n),o=g.useRef(null),a=Me(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:c.jsx(be.div,{...s,ref:a})});xS.displayName=wS;var Jv="PopperContent",[DO,OO]=gS(Jv),_S=g.forwardRef((t,e)=>{var te,Te,He,ge,_e,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:x="optimized",onPlaced:S,...v}=t,b=vS(Jv,n),[E,w]=g.useState(null),T=Me(e,ct=>w(ct)),[R,D]=g.useState(null),O=kO(R),I=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,_=r+(i!=="center"?"-"+i:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},j=Array.isArray(d)?d:[d],k=j.length>0,P={padding:A,boundary:j.filter(LO),altBoundary:k},{refs:B,floatingStyles:ee,placement:Y,isPositioned:re,middlewareData:L}=wO({strategy:"fixed",placement:_,whileElementsMounted:(...ct)=>dO(...ct,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[_O({mainAxis:s+C,alignmentAxis:o}),l&&EO({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?bO():void 0,...P}),l&&TO({...P}),SO({...P,apply:({elements:ct,rects:yt,availableWidth:xn,availableHeight:Ut})=>{const{width:vr,height:Wa}=yt.reference,rt=ct.floating.style;rt.setProperty("--radix-popper-available-width",`${xn}px`),rt.setProperty("--radix-popper-available-height",`${Ut}px`),rt.setProperty("--radix-popper-anchor-width",`${vr}px`),rt.setProperty("--radix-popper-anchor-height",`${Wa}px`)}}),R&&CO({element:R,padding:a}),VO({arrowWidth:I,arrowHeight:C}),f&&IO({strategy:"referenceHidden",...P})]}),[z,J]=TS(Y),G=vn(S);Vt(()=>{re&&(G==null||G())},[re,G]);const Z=(te=L.arrow)==null?void 0:te.x,ne=(Te=L.arrow)==null?void 0:Te.y,Ce=((He=L.arrow)==null?void 0:He.centerOffset)!==0,[ze,me]=g.useState();return Vt(()=>{E&&me(window.getComputedStyle(E).zIndex)},[E]),c.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:re?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(ge=L.transformOrigin)==null?void 0:ge.x,(_e=L.transformOrigin)==null?void 0:_e.y].join(" "),...((ye=L.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(DO,{scope:n,placedSide:z,onArrowChange:D,arrowX:Z,arrowY:ne,shouldHideArrow:Ce,children:c.jsx(be.div,{"data-side":z,"data-align":J,...v,ref:T,style:{...v.style,animation:re?void 0:"none"}})})})});_S.displayName=Jv;var ES="PopperArrow",MO={top:"bottom",right:"left",bottom:"top",left:"right"},bS=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=OO(ES,r),o=MO[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(AO,{...s,ref:n,style:{...s.style,display:"block"}})})});bS.displayName=ES;function LO(t){return t!==null}var VO=t=>({name:"transformOrigin",options:t,fn(e){var b,E,w;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=TS(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,x=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let S="",v="";return d==="bottom"?(S=o?p:`${f}px`,v=`${-l}px`):d==="top"?(S=o?p:`${f}px`,v=`${r.floating.height+l}px`):d==="right"?(S=`${-l}px`,v=o?p:`${x}px`):d==="left"&&(S=`${r.floating.width+l}px`,v=o?p:`${x}px`),{data:{x:S,y:v}}}});function TS(t){const[e,n="center"]=t.split("-");return[e,n]}var FO=yS,SS=xS,IS=_S,CS=bS,[sf,nB]=Fc("Tooltip",[rf]),Zv=rf(),NS="TooltipProvider",UO=700,Ux="tooltip.open",[$O,AS]=sf(NS),RS=t=>{const{__scopeTooltip:e,delayDuration:n=UO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),d=g.useRef(0);return g.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),c.jsx($O,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(d.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};RS.displayName=NS;var PS="Tooltip",[rB,of]=sf(PS),og="TooltipTrigger",BO=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=of(og,n),i=AS(og,n),o=Zv(n),a=g.useRef(null),l=Me(e,a,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),p=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),c.jsx(SS,{asChild:!0,...o,children:c.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:de(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:de(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:de(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:de(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:de(t.onBlur,s.onClose),onClick:de(t.onClick,s.onClose)})})});BO.displayName=og;var zO="TooltipPortal",[sB,HO]=sf(zO,{forceMount:void 0}),la="TooltipContent",kS=g.forwardRef((t,e)=>{const n=HO(la,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=of(la,t.__scopeTooltip);return c.jsx(Ea,{present:r||o.open,children:o.disableHoverableContent?c.jsx(jS,{side:s,...i,ref:e}):c.jsx(WO,{side:s,...i,ref:e})})}),WO=g.forwardRef((t,e)=>{const n=of(la,t.__scopeTooltip),r=AS(la,t.__scopeTooltip),s=g.useRef(null),i=Me(e,s),[o,a]=g.useState(null),{trigger:l,onClose:d}=n,h=s.current,{onPointerInTransitChange:p}=r,f=g.useCallback(()=>{a(null),p(!1)},[p]),x=g.useCallback((S,v)=>{const b=S.currentTarget,E={x:S.clientX,y:S.clientY},w=QO(E,b.getBoundingClientRect()),T=YO(E,w),R=XO(v.getBoundingClientRect()),D=ZO([...T,...R]);a(D),p(!0)},[p]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(l&&h){const S=b=>x(b,h),v=b=>x(b,l);return l.addEventListener("pointerleave",S),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",v)}}},[l,h,x,f]),g.useEffect(()=>{if(o){const S=v=>{const b=v.target,E={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(b))||(h==null?void 0:h.contains(b)),T=!JO(E,o);w?f():T&&(f(),d())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[l,h,o,d,f]),c.jsx(jS,{...t,ref:i})}),[qO,GO]=sf(PS,{isInside:!1}),jS=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=of(la,n),d=Zv(n),{onClose:h}=l;return g.useEffect(()=>(document.addEventListener(Ux,h),()=>document.removeEventListener(Ux,h)),[h]),g.useEffect(()=>{if(l.trigger){const p=f=>{const x=f.target;x!=null&&x.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),c.jsx(Uc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:c.jsxs(IS,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Lv,{children:r}),c.jsx(qO,{scope:n,isInside:!0,children:c.jsx(z2,{id:l.contentId,role:"tooltip",children:s||r})})]})})});kS.displayName=la;var DS="TooltipArrow",KO=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Zv(n);return GO(DS,n).isInside?null:c.jsx(CS,{...s,...r,ref:e})});KO.displayName=DS;function QO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function XO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function JO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,d=e[o].x,h=e[o].y;l>r!=h>r&&n<(d-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function ZO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),e4(e)}function e4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var t4=RS,OS=kS;const n4=t4,r4=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(OS,{ref:r,sideOffset:e,className:ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));r4.displayName=OS.displayName;var af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lf=typeof window>"u"||"Deno"in globalThis;function On(){}function s4(t,e){return typeof t=="function"?t(e):t}function i4(t){return typeof t=="number"&&t>=0&&t!==1/0}function o4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $x(t,e){return typeof t=="function"?t(e):t}function a4(t,e){return typeof t=="function"?t(e):t}function Bx(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==ey(o,e.options))return!1}else if(!gc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function zx(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(mc(e.options.mutationKey)!==mc(i))return!1}else if(!gc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function ey(t,e){return((e==null?void 0:e.queryKeyHashFn)||mc)(t)}function mc(t){return JSON.stringify(t,(e,n)=>ag(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function gc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!gc(t[n],e[n])):!1}function MS(t,e){if(t===e)return t;const n=Hx(t)&&Hx(e);if(n||ag(t)&&ag(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let l=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=MS(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function Hx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ag(t){if(!Wx(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Wx(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Wx(t){return Object.prototype.toString.call(t)==="[object Object]"}function l4(t){return new Promise(e=>{setTimeout(e,t)})}function c4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MS(t,e):e}function u4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function d4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ty=Symbol();function LS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===ty?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _i,fs,Wo,X1,h4=(X1=class extends af{constructor(){super();Ae(this,_i);Ae(this,fs);Ae(this,Wo);fe(this,Wo,e=>{if(!lf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,fs)||this.setEventListener($(this,Wo))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,fs))==null||e.call(this),fe(this,fs,void 0))}setEventListener(e){var n;fe(this,Wo,e),(n=$(this,fs))==null||n.call(this),fe(this,fs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,_i)!==e&&(fe(this,_i,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,_i)=="boolean"?$(this,_i):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_i=new WeakMap,fs=new WeakMap,Wo=new WeakMap,X1),VS=new h4,qo,ps,Go,J1,f4=(J1=class extends af{constructor(){super();Ae(this,qo,!0);Ae(this,ps);Ae(this,Go);fe(this,Go,e=>{if(!lf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,ps)||this.setEventListener($(this,Go))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,ps))==null||e.call(this),fe(this,ps,void 0))}setEventListener(e){var n;fe(this,Go,e),(n=$(this,ps))==null||n.call(this),fe(this,ps,e(this.setOnline.bind(this)))}setOnline(e){$(this,qo)!==e&&(fe(this,qo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,qo)}},qo=new WeakMap,ps=new WeakMap,Go=new WeakMap,J1),dh=new f4;function p4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function m4(t){return Math.min(1e3*2**t,3e4)}function FS(t){return(t??"online")==="online"?dh.isOnline():!0}var US=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Pp(t){return t instanceof US}function $S(t){let e=!1,n=0,r=!1,s;const i=p4(),o=v=>{var b;r||(f(new US(v)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},d=()=>VS.isFocused()&&(t.networkMode==="always"||dh.isOnline())&&t.canRun(),h=()=>FS(t.networkMode)&&t.canRun(),p=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),s==null||s(),i.reject(v))},x=()=>new Promise(v=>{var b;s=E=>{(r||d())&&v(E)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(E){v=Promise.reject(E)}Promise.resolve(v).then(p).catch(E=>{var O;if(r)return;const w=t.retry??(lf?0:3),T=t.retryDelay??m4,R=typeof T=="function"?T(n,E):T,D=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,E);if(e||!D){f(E);return}n++,(O=t.onFail)==null||O.call(t,n,E),l4(R).then(()=>d()?void 0:x()).then(()=>{e?f(E):S()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?S():x().then(S),i)}}function g4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Ht=g4(),Ei,Z1,BS=(Z1=class{constructor(){Ae(this,Ei)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),i4(this.gcTime)&&fe(this,Ei,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lf?1/0:5*60*1e3))}clearGcTimeout(){$(this,Ei)&&(clearTimeout($(this,Ei)),fe(this,Ei,void 0))}},Ei=new WeakMap,Z1),Ko,Qo,En,jt,kc,bi,Mn,br,eE,v4=(eE=class extends BS{constructor(n){super();Ae(this,Mn);Ae(this,Ko);Ae(this,Qo);Ae(this,En);Ae(this,jt);Ae(this,kc);Ae(this,bi);fe(this,bi,!1),fe(this,kc,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,En,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,Ko,w4(this.options)),this.state=n.state??$(this,Ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,jt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,kc),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,En).remove(this)}setData(n,r){const s=c4(this.state.data,n,this.options);return At(this,Mn,br).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){At(this,Mn,br).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,jt))==null?void 0:s.promise;return(i=$(this,jt))==null||i.cancel(n),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Ko))}isActive(){return this.observers.some(n=>a4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ty||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!o4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,jt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,jt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,En).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,jt)&&($(this,bi)?$(this,jt).cancel({revert:!0}):$(this,jt).cancelRetry()),this.scheduleGc()),$(this,En).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||At(this,Mn,br).call(this,{type:"invalidate"})}fetch(n,r){var d,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,jt))return $(this,jt).continueRetry(),$(this,jt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(x=>x.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(fe(this,bi,!0),s.signal)})},o=()=>{const f=LS(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return i(x),fe(this,bi,!1),this.options.persister?this.options.persister(f,x,this):f(x)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),fe(this,Qo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&At(this,Mn,br).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=f=>{var x,S,v,b;Pp(f)&&f.silent||At(this,Mn,br).call(this,{type:"error",error:f}),Pp(f)||((S=(x=$(this,En).config).onError)==null||S.call(x,f,this),(b=(v=$(this,En).config).onSettled)==null||b.call(v,this.state.data,f,this)),this.scheduleGc()};return fe(this,jt,$S({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var x,S,v,b;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(E){l(E);return}(S=(x=$(this,En).config).onSuccess)==null||S.call(x,f,this),(b=(v=$(this,En).config).onSettled)==null||b.call(v,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,x)=>{At(this,Mn,br).call(this,{type:"failed",failureCount:f,error:x})},onPause:()=>{At(this,Mn,br).call(this,{type:"pause"})},onContinue:()=>{At(this,Mn,br).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,jt).start()}},Ko=new WeakMap,Qo=new WeakMap,En=new WeakMap,jt=new WeakMap,kc=new WeakMap,bi=new WeakMap,Mn=new WeakSet,br=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...y4(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Pp(i)&&i.revert&&$(this,Qo)?{...$(this,Qo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ht.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,En).notify({query:this,type:"updated",action:n})})},eE);function y4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function w4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nr,tE,x4=(tE=class extends af{constructor(e={}){super();Ae(this,nr);this.config=e,fe(this,nr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??ey(s,n);let o=this.get(i);return o||(o=new v4({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,nr).has(e.queryHash)||($(this,nr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,nr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,nr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,nr).get(e)}getAll(){return[...$(this,nr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Bx(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Bx(e,r)):n}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ht.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},nr=new WeakMap,tE),rr,Bt,Ti,sr,ns,nE,_4=(nE=class extends BS{constructor(n){super();Ae(this,sr);Ae(this,rr);Ae(this,Bt);Ae(this,Ti);this.mutationId=n.mutationId,fe(this,Bt,n.mutationCache),fe(this,rr,[]),this.state=n.state||E4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,rr).includes(n)||($(this,rr).push(n),this.clearGcTimeout(),$(this,Bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,rr,$(this,rr).filter(r=>r!==n)),this.scheduleGc(),$(this,Bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,rr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Bt).remove(this))}continue(){var n;return((n=$(this,Ti))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,l,d,h,p,f,x,S,v,b,E,w,T,R,D,O,I,C;fe(this,Ti,$S({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(_,A)=>{At(this,sr,ns).call(this,{type:"failed",failureCount:_,error:A})},onPause:()=>{At(this,sr,ns).call(this,{type:"pause"})},onContinue:()=>{At(this,sr,ns).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Bt).canRun(this)}));const r=this.state.status==="pending",s=!$(this,Ti).canStart();try{if(!r){At(this,sr,ns).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,Bt).config).onMutate)==null?void 0:o.call(i,n,this));const A=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));A!==this.state.context&&At(this,sr,ns).call(this,{type:"pending",context:A,variables:n,isPaused:s})}const _=await $(this,Ti).start();return await((h=(d=$(this,Bt).config).onSuccess)==null?void 0:h.call(d,_,n,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,_,n,this.state.context)),await((S=(x=$(this,Bt).config).onSettled)==null?void 0:S.call(x,_,null,this.state.variables,this.state.context,this)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,_,null,n,this.state.context)),At(this,sr,ns).call(this,{type:"success",data:_}),_}catch(_){try{throw await((w=(E=$(this,Bt).config).onError)==null?void 0:w.call(E,_,n,this.state.context,this)),await((R=(T=this.options).onError)==null?void 0:R.call(T,_,n,this.state.context)),await((O=(D=$(this,Bt).config).onSettled)==null?void 0:O.call(D,void 0,_,this.state.variables,this.state.context,this)),await((C=(I=this.options).onSettled)==null?void 0:C.call(I,void 0,_,n,this.state.context)),_}finally{At(this,sr,ns).call(this,{type:"error",error:_})}}finally{$(this,Bt).runNext(this)}}},rr=new WeakMap,Bt=new WeakMap,Ti=new WeakMap,sr=new WeakSet,ns=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ht.batch(()=>{$(this,rr).forEach(s=>{s.onMutationUpdate(n)}),$(this,Bt).notify({mutation:this,type:"updated",action:n})})},nE);function E4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var an,jc,rE,b4=(rE=class extends af{constructor(e={}){super();Ae(this,an);Ae(this,jc);this.config=e,fe(this,an,new Map),fe(this,jc,Date.now())}build(e,n,r){const s=new _4({mutationCache:this,mutationId:++Iu(this,jc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Ku(e),r=$(this,an).get(n)??[];r.push(e),$(this,an).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ku(e);if($(this,an).has(n)){const s=(r=$(this,an).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,an).delete(n):$(this,an).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,an).get(Ku(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,an).get(Ku(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ht.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,an).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>zx(n,r))}findAll(e={}){return this.getAll().filter(n=>zx(e,n))}notify(e){Ht.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ht.batch(()=>Promise.all(e.map(n=>n.continue().catch(On))))}},an=new WeakMap,jc=new WeakMap,rE);function Ku(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function qx(t){return{onFetch:(e,n)=>{var h,p,f,x,S;const r=e.options,s=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,i=((x=e.state.data)==null?void 0:x.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const d=async()=>{let v=!1;const b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},E=LS(e.options,e.fetchOptions),w=async(T,R,D)=>{if(v)return Promise.reject();if(R==null&&T.pages.length)return Promise.resolve(T);const O={queryKey:e.queryKey,pageParam:R,direction:D?"backward":"forward",meta:e.options.meta};b(O);const I=await E(O),{maxPages:C}=e.options,_=D?d4:u4;return{pages:_(T.pages,I,C),pageParams:_(T.pageParams,R,C)}};if(s&&i.length){const T=s==="backward",R=T?T4:Gx,D={pages:i,pageParams:o},O=R(r,D);a=await w(D,O,T)}else{const T=t??i.length;do{const R=l===0?o[0]??r.initialPageParam:Gx(r,a);if(l>0&&R==null)break;a=await w(a,R),l++}while(l<T)}return a};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function Gx(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function T4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Je,ms,gs,Yo,Xo,vs,Jo,Zo,sE,S4=(sE=class{constructor(t={}){Ae(this,Je);Ae(this,ms);Ae(this,gs);Ae(this,Yo);Ae(this,Xo);Ae(this,vs);Ae(this,Jo);Ae(this,Zo);fe(this,Je,t.queryCache||new x4),fe(this,ms,t.mutationCache||new b4),fe(this,gs,t.defaultOptions||{}),fe(this,Yo,new Map),fe(this,Xo,new Map),fe(this,vs,0)}mount(){Iu(this,vs)._++,$(this,vs)===1&&(fe(this,Jo,VS.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Je).onFocus())})),fe(this,Zo,dh.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,Je).onOnline())})))}unmount(){var t,e;Iu(this,vs)._--,$(this,vs)===0&&((t=$(this,Jo))==null||t.call(this),fe(this,Jo,void 0),(e=$(this,Zo))==null||e.call(this),fe(this,Zo,void 0))}isFetching(t){return $(this,Je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,ms).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Je).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,Je).build(this,n);return t.revalidateIfStale&&r.isStaleByTime($x(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,Je).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,Je).get(r.queryHash),i=s==null?void 0:s.state.data,o=s4(e,i);if(o!==void 0)return $(this,Je).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ht.batch(()=>$(this,Je).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,Je).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,Je);Ht.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,Je),r={type:"active",...t};return Ht.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ht.batch(()=>$(this,Je).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(On).catch(On)}invalidateQueries(t={},e={}){return Ht.batch(()=>{if($(this,Je).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ht.batch(()=>$(this,Je).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(On)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(On)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,Je).build(this,e);return n.isStaleByTime($x(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(On).catch(On)}fetchInfiniteQuery(t){return t.behavior=qx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(On).catch(On)}ensureInfiniteQueryData(t){return t.behavior=qx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dh.isOnline()?$(this,ms).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Je)}getMutationCache(){return $(this,ms)}getDefaultOptions(){return $(this,gs)}setDefaultOptions(t){fe(this,gs,t)}setQueryDefaults(t,e){$(this,Yo).set(mc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,Yo).values()];let n={};return e.forEach(r=>{gc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,Xo).set(mc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,Xo).values()];let n={};return e.forEach(r=>{gc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,gs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ey(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ty&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,gs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,Je).clear(),$(this,ms).clear()}},Je=new WeakMap,ms=new WeakMap,gs=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,vs=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,sE),I4=g.createContext(void 0),C4=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(I4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}var xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xs||(xs={}));const Kx="popstate";function N4(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Hi(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),lg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,d=l.indexOf("#");a=d===-1?l:l.slice(0,d)}return a+"#"+(typeof i=="string"?i:hh(i))}function r(s,i){ny(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return R4(e,n,r,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ny(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A4(){return Math.random().toString(36).substr(2,8)}function Qx(t,e){return{usr:t.state,key:t.key,idx:e}}function lg(t,e,n,r){return n===void 0&&(n=null),vc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:n,key:e&&e.key||r||A4()})}function hh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function R4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=xs.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(vc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=xs.Pop;let b=h(),E=b==null?null:b-d;d=b,l&&l({action:a,location:v.location,delta:E})}function f(b,E){a=xs.Push;let w=lg(v.location,b,E);n&&n(w,b),d=h()+1;let T=Qx(w,d),R=v.createHref(w);try{o.pushState(T,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(R)}i&&l&&l({action:a,location:v.location,delta:1})}function x(b,E){a=xs.Replace;let w=lg(v.location,b,E);n&&n(w,b),d=h();let T=Qx(w,d),R=v.createHref(w);o.replaceState(T,"",R),i&&l&&l({action:a,location:v.location,delta:0})}function S(b){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:hh(b);return w=w.replace(/ $/,"%20"),lt(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let v={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Kx,p),l=b,()=>{s.removeEventListener(Kx,p),l=null}},createHref(b){return e(s,b)},createURL:S,encodeLocation(b){let E=S(b);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:f,replace:x,go(b){return o.go(b)}};return v}var Yx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yx||(Yx={}));function P4(t,e,n){return n===void 0&&(n="/"),k4(t,e,n,!1)}function k4(t,e,n,r){let s=typeof e=="string"?Hi(e):e,i=ry(s.pathname||"/",n);if(i==null)return null;let o=zS(t);j4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=H4(i);a=B4(o[l],d,r)}return a}function zS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=Rs([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),zS(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:U4(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of HS(i.path))s(i,o,l)}),e}function HS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=HS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function j4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const D4=/^:[\w-]+$/,O4=3,M4=2,L4=1,V4=10,F4=-2,Xx=t=>t==="*";function U4(t,e){let n=t.split("/"),r=n.length;return n.some(Xx)&&(r+=F4),e&&(r+=M4),n.filter(s=>!Xx(s)).reduce((s,i)=>s+(D4.test(i)?O4:i===""?L4:V4),r)}function $4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function B4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=Jx({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),f=l.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=Jx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:Rs([i,p.pathname]),pathnameBase:K4(Rs([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=Rs([i,p.pathnameBase]))}return o}function Jx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=z4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,p)=>{let{paramName:f,isOptional:x}=h;if(f==="*"){let v=a[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const S=a[p];return x&&!S?d[f]=void 0:d[f]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function z4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ny(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function H4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ny(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ry(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function W4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Hi(t):t;return{pathname:n?n.startsWith("/")?n:q4(n,e):e,search:Q4(r),hash:Y4(s)}}function q4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WS(t,e){let n=G4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Hi(t):(s=vc({},t),lt(!s.pathname||!s.pathname.includes("?"),kp("?","pathname","search",s)),lt(!s.pathname||!s.pathname.includes("#"),kp("#","pathname","hash",s)),lt(!s.search||!s.search.includes("#"),kp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=W4(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const Rs=t=>t.join("/").replace(/\/\/+/g,"/"),K4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Y4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function X4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GS=["post","put","patch","delete"];new Set(GS);const J4=["get",...GS];new Set(J4);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}const sy=g.createContext(null),Z4=g.createContext(null),Wi=g.createContext(null),cf=g.createContext(null),ei=g.createContext({outlet:null,matches:[],isDataRoute:!1}),KS=g.createContext(null);function eM(t,e){let{relative:n}=e===void 0?{}:e;Hc()||lt(!1);let{basename:r,navigator:s}=g.useContext(Wi),{hash:i,pathname:o,search:a}=JS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Rs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Hc(){return g.useContext(cf)!=null}function Ia(){return Hc()||lt(!1),g.useContext(cf).location}function QS(t){g.useContext(Wi).static||g.useLayoutEffect(t)}function YS(){let{isDataRoute:t}=g.useContext(ei);return t?fM():tM()}function tM(){Hc()||lt(!1);let t=g.useContext(sy),{basename:e,future:n,navigator:r}=g.useContext(Wi),{matches:s}=g.useContext(ei),{pathname:i}=Ia(),o=JSON.stringify(WS(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return QS(()=>{a.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let p=qS(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Rs([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function XS(){let{matches:t}=g.useContext(ei),e=t[t.length-1];return e?e.params:{}}function JS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Wi),{matches:s}=g.useContext(ei),{pathname:i}=Ia(),o=JSON.stringify(WS(s,r.v7_relativeSplatPath));return g.useMemo(()=>qS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function nM(t,e){return rM(t,e)}function rM(t,e,n,r){Hc()||lt(!1);let{navigator:s}=g.useContext(Wi),{matches:i}=g.useContext(ei),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=Ia(),h;if(e){var p;let b=typeof e=="string"?Hi(e):e;l==="/"||(p=b.pathname)!=null&&p.startsWith(l)||lt(!1),h=b}else h=d;let f=h.pathname||"/",x=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=P4(t,{pathname:x}),v=lM(S&&S.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Rs([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Rs([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&v?g.createElement(cf.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:xs.Pop}},v):v}function sM(){let t=hM(),e=X4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const iM=g.createElement(sM,null);class oM extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(ei.Provider,{value:this.props.routeContext},g.createElement(KS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aM(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(sy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(ei.Provider,{value:e},r)}function lM(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||lt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=h),p.route.id){let{loaderData:f,errors:x}=n,S=p.route.loader&&f[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||S){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let x,S=!1,v=null,b=null;n&&(x=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||iM,l&&(d<0&&f===0?(S=!0,b=null):d===f&&(S=!0,b=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,f+1)),w=()=>{let T;return x?T=v:S?T=b:p.route.Component?T=g.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=h,g.createElement(aM,{match:p,routeContext:{outlet:h,matches:E,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?g.createElement(oM,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var ZS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZS||{}),fh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fh||{});function cM(t){let e=g.useContext(sy);return e||lt(!1),e}function uM(t){let e=g.useContext(Z4);return e||lt(!1),e}function dM(t){let e=g.useContext(ei);return e||lt(!1),e}function eI(t){let e=dM(),n=e.matches[e.matches.length-1];return n.route.id||lt(!1),n.route.id}function hM(){var t;let e=g.useContext(KS),n=uM(fh.UseRouteError),r=eI(fh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fM(){let{router:t}=cM(ZS.UseNavigateStable),e=eI(fh.UseNavigateStable),n=g.useRef(!1);return QS(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,yc({fromRouteId:e},i)))},[t,e])}function on(t){lt(!1)}function pM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xs.Pop,navigator:i,static:o=!1,future:a}=t;Hc()&&lt(!1);let l=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:l,navigator:i,static:o,future:yc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Hi(r));let{pathname:h="/",search:p="",hash:f="",state:x=null,key:S="default"}=r,v=g.useMemo(()=>{let b=ry(h,l);return b==null?null:{location:{pathname:b,search:p,hash:f,state:x,key:S},navigationType:s}},[l,h,p,f,x,S,s]);return v==null?null:g.createElement(Wi.Provider,{value:d},g.createElement(cf.Provider,{children:n,value:v}))}function mM(t){let{children:e,location:n}=t;return nM(cg(e),n)}new Promise(()=>{});function cg(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,cg(r.props.children,i));return}r.type!==on&&lt(!1),!r.props.index||!r.props.children||lt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=cg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function gM(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function vM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yM(t,e){return t.button===0&&(!e||e==="_self")&&!vM(t)}const wM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xM="6";try{window.__reactRouterVersion=xM}catch{}const _M="startTransition",Zx=gE[_M];function EM(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=N4({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=g.useCallback(p=>{d&&Zx?Zx(()=>l(p)):l(p)},[l,d]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(pM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const bM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:p}=e,f=gM(e,wM),{basename:x}=g.useContext(Wi),S,v=!1;if(typeof d=="string"&&TM.test(d)&&(S=d,bM))try{let T=new URL(window.location.href),R=d.startsWith("//")?new URL(T.protocol+d):new URL(d),D=ry(R.pathname,x);R.origin===T.origin&&D!=null?d=D+R.search+R.hash:v=!0}catch{}let b=eM(d,{relative:s}),E=SM(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function w(T){r&&r(T),T.defaultPrevented||E(T)}return g.createElement("a",ug({},f,{href:S||b,onClick:v||i?r:w,ref:n,target:l}))});var e_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(e_||(e_={}));var t_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t_||(t_={}));function SM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=YS(),d=Ia(),h=JS(t,{relative:o});return g.useCallback(p=>{if(yM(p,n)){p.preventDefault();let f=r!==void 0?r:hh(d)===hh(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}const iy=Bc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ki:"button";return c.jsx(o,{className:ce(iy({variant:e,size:n,className:t})),ref:i,...s})});Se.displayName="Button";var jp="focusScope.autoFocusOnMount",Dp="focusScope.autoFocusOnUnmount",n_={bubbles:!1,cancelable:!0},IM="FocusScope",oy=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),d=vn(s),h=vn(i),p=g.useRef(null),f=Me(e,v=>l(v)),x=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(T){if(x.paused||!a)return;const R=T.target;a.contains(R)?p.current=R:rs(p.current,{select:!0})},b=function(T){if(x.paused||!a)return;const R=T.relatedTarget;R!==null&&(a.contains(R)||rs(p.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&rs(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const w=new MutationObserver(E);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,x.paused]),g.useEffect(()=>{if(a){s_.add(x);const v=document.activeElement;if(!a.contains(v)){const E=new CustomEvent(jp,n_);a.addEventListener(jp,d),a.dispatchEvent(E),E.defaultPrevented||(CM(kM(tI(a)),{select:!0}),document.activeElement===v&&rs(a))}return()=>{a.removeEventListener(jp,d),setTimeout(()=>{const E=new CustomEvent(Dp,n_);a.addEventListener(Dp,h),a.dispatchEvent(E),E.defaultPrevented||rs(v??document.body,{select:!0}),a.removeEventListener(Dp,h),s_.remove(x)},0)}}},[a,d,h,x]);const S=g.useCallback(v=>{if(!n&&!r||x.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,E=document.activeElement;if(b&&E){const w=v.currentTarget,[T,R]=NM(w);T&&R?!v.shiftKey&&E===R?(v.preventDefault(),n&&rs(T,{select:!0})):v.shiftKey&&E===T&&(v.preventDefault(),n&&rs(R,{select:!0})):E===w&&v.preventDefault()}},[n,r,x.paused]);return c.jsx(be.div,{tabIndex:-1,...o,ref:f,onKeyDown:S})});oy.displayName=IM;function CM(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(rs(r,{select:e}),document.activeElement!==n)return}function NM(t){const e=tI(t),n=r_(e,t),r=r_(e.reverse(),t);return[n,r]}function tI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function r_(t,e){for(const n of t)if(!AM(n,{upTo:e}))return n}function AM(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function RM(t){return t instanceof HTMLInputElement&&"select"in t}function rs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&RM(t)&&e&&t.select()}}var s_=PM();function PM(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=i_(t,e),t.unshift(e)},remove(e){var n;t=i_(t,e),(n=t[0])==null||n.resume()}}}function i_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function kM(t){return t.filter(e=>e.tagName!=="A")}var Op=0;function nI(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??o_()),document.body.insertAdjacentElement("beforeend",t[1]??o_()),Op++,()=>{Op===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Op--}},[])}function o_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var or=function(){return or=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},or.apply(this,arguments)};function Wc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function jM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var _d="right-scroll-bar-position",Ed="width-before-scroll-bar",DM="with-scroll-bars-hidden",OM="--removed-body-scroll-bar-size";function Mp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function MM(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var LM=typeof window<"u"?g.useLayoutEffect:g.useEffect,a_=new WeakMap;function VM(t,e){var n=MM(null,function(r){return t.forEach(function(s){return Mp(s,r)})});return LM(function(){var r=a_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Mp(a,null)}),i.forEach(function(a){s.has(a)||Mp(a,o)})}a_.set(n,t)},[t]),n}function FM(t){return t}function UM(t,e){e===void 0&&(e=FM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function $M(t){t===void 0&&(t={});var e=UM(null);return e.options=or({async:!0,ssr:!1},t),e}var rI=function(t){var e=t.sideCar,n=Wc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,or({},n))};rI.isSideCarExport=!0;function BM(t,e){return t.useMedium(e),rI}var sI=$M(),Lp=function(){},uf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Lp,onWheelCapture:Lp,onTouchMoveCapture:Lp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,x=t.noIsolation,S=t.inert,v=t.allowPinchZoom,b=t.as,E=b===void 0?"div":b,w=t.gapMode,T=Wc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=f,D=VM([n,e]),O=or(or({},T),s);return g.createElement(g.Fragment,null,h&&g.createElement(R,{sideCar:sI,removeScrollBar:d,shards:p,noIsolation:x,inert:S,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?g.cloneElement(g.Children.only(a),or(or({},O),{ref:D})):g.createElement(E,or({},O,{className:l,ref:D}),a))});uf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uf.classNames={fullWidth:Ed,zeroRight:_d};var zM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=zM();return e&&t.setAttribute("nonce",e),t}function WM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var GM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=HM())&&(WM(e,n),qM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},KM=function(){var t=GM();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iI=function(){var t=KM(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},QM={left:0,top:0,right:0,gap:0},Vp=function(t){return parseInt(t||"",10)||0},YM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Vp(n),Vp(r),Vp(s)]},XM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return QM;var e=YM(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},JM=iI(),ko="data-scroll-locked",ZM=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(DM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_d,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(OM,": ").concat(a,`px;
  }
`)},l_=function(){var t=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(t)?t:0},eL=function(){g.useEffect(function(){return document.body.setAttribute(ko,(l_()+1).toString()),function(){var t=l_()-1;t<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,t.toString())}},[])},tL=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;eL();var i=g.useMemo(function(){return XM(s)},[s]);return g.createElement(JM,{styles:ZM(i,!e,s,n?"":"!important")})},dg=!1;if(typeof window<"u")try{var Qu=Object.defineProperty({},"passive",{get:function(){return dg=!0,!0}});window.addEventListener("test",Qu,Qu),window.removeEventListener("test",Qu,Qu)}catch{dg=!1}var to=dg?{passive:!1}:!1,nL=function(t){return t.tagName==="TEXTAREA"},oI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nL(t)&&n[e]==="visible")},rL=function(t){return oI(t,"overflowY")},sL=function(t){return oI(t,"overflowX")},c_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=aI(t,r);if(s){var i=lI(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},iL=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oL=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aI=function(t,e){return t==="v"?rL(e):sL(e)},lI=function(t,e){return t==="v"?iL(e):oL(e)},aL=function(t,e){return t==="h"&&e==="rtl"?-1:1},lL=function(t,e,n,r,s){var i=aL(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,p=0,f=0;do{var x=lI(t,a),S=x[0],v=x[1],b=x[2],E=v-b-i*S;(S||E)&&aI(t,a)&&(p+=E,f+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(d=!0),d},Yu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},u_=function(t){return[t.deltaX,t.deltaY]},d_=function(t){return t&&"current"in t?t.current:t},cL=function(t,e){return t[0]===e[0]&&t[1]===e[1]},uL=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dL=0,no=[];function hL(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(dL++)[0],i=g.useState(iI)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=jM([t.lockRef.current],(t.shards||[]).map(d_),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var E=Yu(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-E[0],R="deltaY"in v?v.deltaY:w[1]-E[1],D,O=v.target,I=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in v&&I==="h"&&O.type==="range")return!1;var C=c_(I,O);if(!C)return!0;if(C?D=I:(D=I==="v"?"h":"v",C=c_(I,O)),!C)return!1;if(!r.current&&"changedTouches"in v&&(T||R)&&(r.current=D),!D)return!0;var _=r.current||D;return lL(_,b,v,_==="h"?T:R,!0)},[]),l=g.useCallback(function(v){var b=v;if(!(!no.length||no[no.length-1]!==i)){var E="deltaY"in b?u_(b):Yu(b),w=e.current.filter(function(D){return D.name===b.type&&(D.target===b.target||b.target===D.shadowParent)&&cL(D.delta,E)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var T=(o.current.shards||[]).map(d_).filter(Boolean).filter(function(D){return D.contains(b.target)}),R=T.length>0?a(b,T[0]):!o.current.noIsolation;R&&b.cancelable&&b.preventDefault()}}},[]),d=g.useCallback(function(v,b,E,w){var T={name:v,delta:b,target:E,should:w,shadowParent:fL(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(R){return R!==T})},1)},[]),h=g.useCallback(function(v){n.current=Yu(v),r.current=void 0},[]),p=g.useCallback(function(v){d(v.type,u_(v),v.target,a(v,t.lockRef.current))},[]),f=g.useCallback(function(v){d(v.type,Yu(v),v.target,a(v,t.lockRef.current))},[]);g.useEffect(function(){return no.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,to),document.addEventListener("touchmove",l,to),document.addEventListener("touchstart",h,to),function(){no=no.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,to),document.removeEventListener("touchmove",l,to),document.removeEventListener("touchstart",h,to)}},[]);var x=t.removeScrollBar,S=t.inert;return g.createElement(g.Fragment,null,S?g.createElement(i,{styles:uL(s)}):null,x?g.createElement(tL,{gapMode:t.gapMode}):null)}function fL(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const pL=BM(sI,hL);var ay=g.forwardRef(function(t,e){return g.createElement(uf,or({},t,{ref:e,sideCar:pL}))});ay.classNames=uf.classNames;var mL=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ro=new WeakMap,Xu=new WeakMap,Ju={},Fp=0,cI=function(t){return t&&(t.host||cI(t.parentNode))},gL=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vL=function(t,e,n,r){var s=gL(e,Array.isArray(t)?t:[t]);Ju[n]||(Ju[n]=new WeakMap);var i=Ju[n],o=[],a=new Set,l=new Set(s),d=function(p){!p||a.has(p)||(a.add(p),d(p.parentNode))};s.forEach(d);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var x=f.getAttribute(r),S=x!==null&&x!=="false",v=(ro.get(f)||0)+1,b=(i.get(f)||0)+1;ro.set(f,v),i.set(f,b),o.push(f),v===1&&S&&Xu.set(f,!0),b===1&&f.setAttribute(n,"true"),S||f.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",f,E)}})};return h(e),a.clear(),Fp++,function(){o.forEach(function(p){var f=ro.get(p)-1,x=i.get(p)-1;ro.set(p,f),i.set(p,x),f||(Xu.has(p)||p.removeAttribute(r),Xu.delete(p)),x||p.removeAttribute(n)}),Fp--,Fp||(ro=new WeakMap,ro=new WeakMap,Xu=new WeakMap,Ju={})}},uI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=mL(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),vL(r,s,n,"aria-hidden")):function(){return null}},ly="Dialog",[dI,hI]=Fc(ly),[yL,Yn]=dI(ly),fI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[d=!1,h]=ih({prop:r,defaultProp:s,onChange:i});return c.jsx(yL,{scope:e,triggerRef:a,contentRef:l,contentId:Ro(),titleId:Ro(),descriptionId:Ro(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};fI.displayName=ly;var pI="DialogTrigger",mI=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(pI,n),i=Me(e,s.triggerRef);return c.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":dy(s.open),...r,ref:i,onClick:de(t.onClick,s.onOpenToggle)})});mI.displayName=pI;var cy="DialogPortal",[wL,gI]=dI(cy,{forceMount:void 0}),vI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Yn(cy,e);return c.jsx(wL,{scope:e,forceMount:n,children:g.Children.map(r,o=>c.jsx(Ea,{present:n||i.open,children:c.jsx(Xh,{asChild:!0,container:s,children:o})}))})};vI.displayName=cy;var ph="DialogOverlay",yI=g.forwardRef((t,e)=>{const n=gI(ph,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yn(ph,t.__scopeDialog);return i.modal?c.jsx(Ea,{present:r||i.open,children:c.jsx(xL,{...s,ref:e})}):null});yI.displayName=ph;var xL=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(ph,n);return c.jsx(ay,{as:ki,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(be.div,{"data-state":dy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Di="DialogContent",wI=g.forwardRef((t,e)=>{const n=gI(Di,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Yn(Di,t.__scopeDialog);return c.jsx(Ea,{present:r||i.open,children:i.modal?c.jsx(_L,{...s,ref:e}):c.jsx(EL,{...s,ref:e})})});wI.displayName=Di;var _L=g.forwardRef((t,e)=>{const n=Yn(Di,t.__scopeDialog),r=g.useRef(null),s=Me(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return uI(i)},[]),c.jsx(xI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:de(t.onFocusOutside,i=>i.preventDefault())})}),EL=g.forwardRef((t,e)=>{const n=Yn(Di,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return c.jsx(xI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xI=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Yn(Di,n),l=g.useRef(null),d=Me(e,l);return nI(),c.jsxs(c.Fragment,{children:[c.jsx(oy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Uc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":dy(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(TL,{titleId:a.titleId}),c.jsx(IL,{contentRef:l,descriptionId:a.descriptionId})]})]})}),uy="DialogTitle",_I=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(uy,n);return c.jsx(be.h2,{id:s.titleId,...r,ref:e})});_I.displayName=uy;var EI="DialogDescription",bI=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(EI,n);return c.jsx(be.p,{id:s.descriptionId,...r,ref:e})});bI.displayName=EI;var TI="DialogClose",SI=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Yn(TI,n);return c.jsx(be.button,{type:"button",...r,ref:e,onClick:de(t.onClick,()=>s.onOpenChange(!1))})});SI.displayName=TI;function dy(t){return t?"open":"closed"}var II="DialogTitleWarning",[bL,CI]=S2(II,{contentName:Di,titleName:uy,docsSlug:"dialog"}),TL=({titleId:t})=>{const e=CI(II),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},SL="DialogDescriptionWarning",IL=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${CI(SL).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},hy=fI,NI=mI,fy=vI,qc=yI,Gc=wI,Kc=_I,Qc=bI,df=SI;const CL=hy,NL=NI,AL=fy,AI=g.forwardRef(({className:t,...e},n)=>c.jsx(qc,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));AI.displayName=qc.displayName;const RL=Bc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),RI=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>c.jsxs(AL,{children:[c.jsx(AI,{}),c.jsxs(Gc,{ref:s,className:ce(RL({side:t}),e),...r,children:[n,c.jsxs(df,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(zv,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));RI.displayName=Gc.displayName;const PL=g.forwardRef(({className:t,...e},n)=>c.jsx(Kc,{ref:n,className:ce("text-lg font-semibold text-foreground",t),...e}));PL.displayName=Kc.displayName;const kL=g.forwardRef(({className:t,...e},n)=>c.jsx(Qc,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));kL.displayName=Qc.displayName;const jL=()=>{};var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},DL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|d>>6,x=d&63;l||(x=64,o||(f=64)),r.push(n[h],n[p],n[f],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||p==null)throw new OL;const f=i<<2|a>>4;if(r.push(f),d!==64){const x=a<<4&240|d>>2;if(r.push(x),p!==64){const S=d<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ML=function(t){const e=PI(t);return kI.encodeByteArray(e,!0)},mh=function(t){return ML(t).replace(/\./g,"")},jI=function(t){try{return kI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=()=>LL().__FIREBASE_DEFAULTS__,FL=()=>{if(typeof process>"u"||typeof h_>"u")return;const t=h_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jI(t[1]);return e&&JSON.parse(e)},hf=()=>{try{return jL()||VL()||FL()||UL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DI=t=>{var e,n;return(n=(e=hf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$L=t=>{const e=DI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},OI=()=>{var t;return(t=hf())===null||t===void 0?void 0:t.config},MI=t=>{var e;return(e=hf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t){return t.endsWith(".cloudworkstations.dev")}async function LI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mh(JSON.stringify(n)),mh(JSON.stringify(o)),""].join(".")}const Ul={};function HL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?t.emulator.push(e):t.prod.push(e);return t}function WL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let f_=!1;function VI(t,e){if(typeof window>"u"||typeof document>"u"||!Ca(window.location.host)||Ul[t]===e||Ul[t]||f_)return;Ul[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=HL().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,x){f.setAttribute("width","24"),f.setAttribute("id",x),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{f_=!0,o()},f}function h(f,x){f.setAttribute("id",x),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=WL(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),h(b,v);const R=d();l(w,E),T.append(w,S,b,R),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ft())}function GL(){var t;const e=(t=hf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XL(){const t=Ft();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JL(){return!GL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZL(){try{return typeof indexedDB=="object"}catch{return!1}}function eV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="FirebaseError";class Hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tV,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yc.prototype.create)}}class Yc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?nV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Hr(s,a,r)}}function nV(t,e){return t.replace(rV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rV=/\{\$([^}]+)}/g;function sV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(p_(i)&&p_(o)){if(!Oi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function p_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function El(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function bl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iV(t,e){const n=new oV(t,e);return n.subscribe.bind(n)}class oV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Up),s.error===void 0&&(s.error=Up),s.complete===void 0&&(s.complete=Up);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uV(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cV(t){return t===pi?void 0:t}function uV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const hV={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},fV=we.INFO,pV={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},mV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=fV,this._logHandler=mV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const gV=(t,e)=>e.some(n=>t instanceof n);let m_,g_;function vV(){return m_||(m_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yV(){return g_||(g_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FI=new WeakMap,hg=new WeakMap,UI=new WeakMap,$p=new WeakMap,my=new WeakMap;function wV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ps(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FI.set(n,t)}).catch(()=>{}),my.set(e,t),e}function xV(t){if(hg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hg.set(t,e)}let fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _V(t){fg=t(fg)}function EV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bp(this),e,...n);return UI.set(r,e.sort?e.sort():[e]),Ps(r)}:yV().includes(t)?function(...e){return t.apply(Bp(this),e),Ps(FI.get(this))}:function(...e){return Ps(t.apply(Bp(this),e))}}function bV(t){return typeof t=="function"?EV(t):(t instanceof IDBTransaction&&xV(t),gV(t,vV())?new Proxy(t,fg):t)}function Ps(t){if(t instanceof IDBRequest)return wV(t);if($p.has(t))return $p.get(t);const e=bV(t);return e!==t&&($p.set(t,e),my.set(e,t)),e}const Bp=t=>my.get(t);function TV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ps(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ps(o.result),l.oldVersion,l.newVersion,Ps(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const SV=["get","getKey","getAll","getAllKeys","count"],IV=["put","add","delete","clear"],zp=new Map;function v_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zp.get(e))return zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=IV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||SV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return zp.set(e,i),i}_V(t=>({...t,get:(e,n,r)=>v_(e,n)||t.get(e,n,r),has:(e,n)=>!!v_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pg="@firebase/app",y_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new py("@firebase/app"),AV="@firebase/app-compat",RV="@firebase/analytics-compat",PV="@firebase/analytics",kV="@firebase/app-check-compat",jV="@firebase/app-check",DV="@firebase/auth",OV="@firebase/auth-compat",MV="@firebase/database",LV="@firebase/data-connect",VV="@firebase/database-compat",FV="@firebase/functions",UV="@firebase/functions-compat",$V="@firebase/installations",BV="@firebase/installations-compat",zV="@firebase/messaging",HV="@firebase/messaging-compat",WV="@firebase/performance",qV="@firebase/performance-compat",GV="@firebase/remote-config",KV="@firebase/remote-config-compat",QV="@firebase/storage",YV="@firebase/storage-compat",XV="@firebase/firestore",JV="@firebase/ai",ZV="@firebase/firestore-compat",e3="firebase",t3="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",n3={[pg]:"fire-core",[AV]:"fire-core-compat",[PV]:"fire-analytics",[RV]:"fire-analytics-compat",[jV]:"fire-app-check",[kV]:"fire-app-check-compat",[DV]:"fire-auth",[OV]:"fire-auth-compat",[MV]:"fire-rtdb",[LV]:"fire-data-connect",[VV]:"fire-rtdb-compat",[FV]:"fire-fn",[UV]:"fire-fn-compat",[$V]:"fire-iid",[BV]:"fire-iid-compat",[zV]:"fire-fcm",[HV]:"fire-fcm-compat",[WV]:"fire-perf",[qV]:"fire-perf-compat",[GV]:"fire-rc",[KV]:"fire-rc-compat",[QV]:"fire-gcs",[YV]:"fire-gcs-compat",[XV]:"fire-fst",[ZV]:"fire-fst-compat",[JV]:"fire-vertex","fire-js":"fire-js",[e3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,r3=new Map,gg=new Map;function w_(t,e){try{t.container.addComponent(e)}catch(n){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ca(t){const e=t.name;if(gg.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;gg.set(e,t);for(const n of gh.values())w_(n,t);for(const n of r3.values())w_(n,t);return!0}function gy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ks=new Yc("app","Firebase",s3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=t3;function $I(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mg,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ks.create("bad-app-name",{appName:String(s)});if(n||(n=OI()),!n)throw ks.create("no-options");const i=gh.get(s);if(i){if(Oi(n,i.options)&&Oi(r,i.config))return i;throw ks.create("duplicate-app",{appName:s})}const o=new dV(s);for(const l of gg.values())o.addComponent(l);const a=new i3(n,r,o);return gh.set(s,a),a}function BI(t=mg){const e=gh.get(t);if(!e&&t===mg&&OI())return $I();if(!e)throw ks.create("no-app",{appName:t});return e}function js(t,e,n){var r;let s=(r=n3[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}ca(new Mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="firebase-heartbeat-database",a3=1,wc="firebase-heartbeat-store";let Hp=null;function zI(){return Hp||(Hp=TV(o3,a3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ks.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function l3(t){try{const n=(await zI()).transaction(wc),r=await n.objectStore(wc).get(HI(t));return await n.done,r}catch(e){if(e instanceof Hr)Vr.warn(e.message);else{const n=ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vr.warn(n.message)}}}async function x_(t,e){try{const r=(await zI()).transaction(wc,"readwrite");await r.objectStore(wc).put(e,HI(t)),await r.done}catch(n){if(n instanceof Hr)Vr.warn(n.message);else{const r=ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vr.warn(r.message)}}}function HI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=1024,u3=30;class d3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=__();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>u3){const o=p3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=__(),{heartbeatsToSend:r,unsentEntries:s}=h3(this._heartbeatsCache.heartbeats),i=mh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vr.warn(n),""}}}function __(){return new Date().toISOString().substring(0,10)}function h3(t,e=c3){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),E_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZL()?eV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return x_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E_(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}function p3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){ca(new Mi("platform-logger",e=>new CV(e),"PRIVATE")),ca(new Mi("heartbeat",e=>new d3(e),"PRIVATE")),js(pg,y_,t),js(pg,y_,"esm2017"),js("fire-js","")}m3("");var g3="firebase",v3="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(g3,v3,"app");var b_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ds,WI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function _(){}_.prototype=C.prototype,I.D=C.prototype,I.prototype=new _,I.prototype.constructor=I,I.C=function(A,j,k){for(var P=Array(arguments.length-2),B=2;B<arguments.length;B++)P[B-2]=arguments[B];return C.prototype[j].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,_){_||(_=0);var A=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)A[j]=C.charCodeAt(_++)|C.charCodeAt(_++)<<8|C.charCodeAt(_++)<<16|C.charCodeAt(_++)<<24;else for(j=0;16>j;++j)A[j]=C[_++]|C[_++]<<8|C[_++]<<16|C[_++]<<24;C=I.g[0],_=I.g[1],j=I.g[2];var k=I.g[3],P=C+(k^_&(j^k))+A[0]+3614090360&4294967295;C=_+(P<<7&4294967295|P>>>25),P=k+(j^C&(_^j))+A[1]+3905402710&4294967295,k=C+(P<<12&4294967295|P>>>20),P=j+(_^k&(C^_))+A[2]+606105819&4294967295,j=k+(P<<17&4294967295|P>>>15),P=_+(C^j&(k^C))+A[3]+3250441966&4294967295,_=j+(P<<22&4294967295|P>>>10),P=C+(k^_&(j^k))+A[4]+4118548399&4294967295,C=_+(P<<7&4294967295|P>>>25),P=k+(j^C&(_^j))+A[5]+1200080426&4294967295,k=C+(P<<12&4294967295|P>>>20),P=j+(_^k&(C^_))+A[6]+2821735955&4294967295,j=k+(P<<17&4294967295|P>>>15),P=_+(C^j&(k^C))+A[7]+4249261313&4294967295,_=j+(P<<22&4294967295|P>>>10),P=C+(k^_&(j^k))+A[8]+1770035416&4294967295,C=_+(P<<7&4294967295|P>>>25),P=k+(j^C&(_^j))+A[9]+2336552879&4294967295,k=C+(P<<12&4294967295|P>>>20),P=j+(_^k&(C^_))+A[10]+4294925233&4294967295,j=k+(P<<17&4294967295|P>>>15),P=_+(C^j&(k^C))+A[11]+2304563134&4294967295,_=j+(P<<22&4294967295|P>>>10),P=C+(k^_&(j^k))+A[12]+1804603682&4294967295,C=_+(P<<7&4294967295|P>>>25),P=k+(j^C&(_^j))+A[13]+4254626195&4294967295,k=C+(P<<12&4294967295|P>>>20),P=j+(_^k&(C^_))+A[14]+2792965006&4294967295,j=k+(P<<17&4294967295|P>>>15),P=_+(C^j&(k^C))+A[15]+1236535329&4294967295,_=j+(P<<22&4294967295|P>>>10),P=C+(j^k&(_^j))+A[1]+4129170786&4294967295,C=_+(P<<5&4294967295|P>>>27),P=k+(_^j&(C^_))+A[6]+3225465664&4294967295,k=C+(P<<9&4294967295|P>>>23),P=j+(C^_&(k^C))+A[11]+643717713&4294967295,j=k+(P<<14&4294967295|P>>>18),P=_+(k^C&(j^k))+A[0]+3921069994&4294967295,_=j+(P<<20&4294967295|P>>>12),P=C+(j^k&(_^j))+A[5]+3593408605&4294967295,C=_+(P<<5&4294967295|P>>>27),P=k+(_^j&(C^_))+A[10]+38016083&4294967295,k=C+(P<<9&4294967295|P>>>23),P=j+(C^_&(k^C))+A[15]+3634488961&4294967295,j=k+(P<<14&4294967295|P>>>18),P=_+(k^C&(j^k))+A[4]+3889429448&4294967295,_=j+(P<<20&4294967295|P>>>12),P=C+(j^k&(_^j))+A[9]+568446438&4294967295,C=_+(P<<5&4294967295|P>>>27),P=k+(_^j&(C^_))+A[14]+3275163606&4294967295,k=C+(P<<9&4294967295|P>>>23),P=j+(C^_&(k^C))+A[3]+4107603335&4294967295,j=k+(P<<14&4294967295|P>>>18),P=_+(k^C&(j^k))+A[8]+1163531501&4294967295,_=j+(P<<20&4294967295|P>>>12),P=C+(j^k&(_^j))+A[13]+2850285829&4294967295,C=_+(P<<5&4294967295|P>>>27),P=k+(_^j&(C^_))+A[2]+4243563512&4294967295,k=C+(P<<9&4294967295|P>>>23),P=j+(C^_&(k^C))+A[7]+1735328473&4294967295,j=k+(P<<14&4294967295|P>>>18),P=_+(k^C&(j^k))+A[12]+2368359562&4294967295,_=j+(P<<20&4294967295|P>>>12),P=C+(_^j^k)+A[5]+4294588738&4294967295,C=_+(P<<4&4294967295|P>>>28),P=k+(C^_^j)+A[8]+2272392833&4294967295,k=C+(P<<11&4294967295|P>>>21),P=j+(k^C^_)+A[11]+1839030562&4294967295,j=k+(P<<16&4294967295|P>>>16),P=_+(j^k^C)+A[14]+4259657740&4294967295,_=j+(P<<23&4294967295|P>>>9),P=C+(_^j^k)+A[1]+2763975236&4294967295,C=_+(P<<4&4294967295|P>>>28),P=k+(C^_^j)+A[4]+1272893353&4294967295,k=C+(P<<11&4294967295|P>>>21),P=j+(k^C^_)+A[7]+4139469664&4294967295,j=k+(P<<16&4294967295|P>>>16),P=_+(j^k^C)+A[10]+3200236656&4294967295,_=j+(P<<23&4294967295|P>>>9),P=C+(_^j^k)+A[13]+681279174&4294967295,C=_+(P<<4&4294967295|P>>>28),P=k+(C^_^j)+A[0]+3936430074&4294967295,k=C+(P<<11&4294967295|P>>>21),P=j+(k^C^_)+A[3]+3572445317&4294967295,j=k+(P<<16&4294967295|P>>>16),P=_+(j^k^C)+A[6]+76029189&4294967295,_=j+(P<<23&4294967295|P>>>9),P=C+(_^j^k)+A[9]+3654602809&4294967295,C=_+(P<<4&4294967295|P>>>28),P=k+(C^_^j)+A[12]+3873151461&4294967295,k=C+(P<<11&4294967295|P>>>21),P=j+(k^C^_)+A[15]+530742520&4294967295,j=k+(P<<16&4294967295|P>>>16),P=_+(j^k^C)+A[2]+3299628645&4294967295,_=j+(P<<23&4294967295|P>>>9),P=C+(j^(_|~k))+A[0]+4096336452&4294967295,C=_+(P<<6&4294967295|P>>>26),P=k+(_^(C|~j))+A[7]+1126891415&4294967295,k=C+(P<<10&4294967295|P>>>22),P=j+(C^(k|~_))+A[14]+2878612391&4294967295,j=k+(P<<15&4294967295|P>>>17),P=_+(k^(j|~C))+A[5]+4237533241&4294967295,_=j+(P<<21&4294967295|P>>>11),P=C+(j^(_|~k))+A[12]+1700485571&4294967295,C=_+(P<<6&4294967295|P>>>26),P=k+(_^(C|~j))+A[3]+2399980690&4294967295,k=C+(P<<10&4294967295|P>>>22),P=j+(C^(k|~_))+A[10]+4293915773&4294967295,j=k+(P<<15&4294967295|P>>>17),P=_+(k^(j|~C))+A[1]+2240044497&4294967295,_=j+(P<<21&4294967295|P>>>11),P=C+(j^(_|~k))+A[8]+1873313359&4294967295,C=_+(P<<6&4294967295|P>>>26),P=k+(_^(C|~j))+A[15]+4264355552&4294967295,k=C+(P<<10&4294967295|P>>>22),P=j+(C^(k|~_))+A[6]+2734768916&4294967295,j=k+(P<<15&4294967295|P>>>17),P=_+(k^(j|~C))+A[13]+1309151649&4294967295,_=j+(P<<21&4294967295|P>>>11),P=C+(j^(_|~k))+A[4]+4149444226&4294967295,C=_+(P<<6&4294967295|P>>>26),P=k+(_^(C|~j))+A[11]+3174756917&4294967295,k=C+(P<<10&4294967295|P>>>22),P=j+(C^(k|~_))+A[2]+718787259&4294967295,j=k+(P<<15&4294967295|P>>>17),P=_+(k^(j|~C))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(j+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var _=C-this.blockSize,A=this.B,j=this.h,k=0;k<C;){if(j==0)for(;k<=_;)s(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<C;)if(A[j++]=I.charCodeAt(k++),j==this.blockSize){s(this,A),j=0;break}}else for(;k<C;)if(A[j++]=I[k++],j==this.blockSize){s(this,A),j=0;break}}this.h=j,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var _=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=_&255,_/=256;for(this.u(I),I=Array(16),C=_=0;4>C;++C)for(var A=0;32>A;A+=8)I[_++]=this.g[C]>>>A&255;return I};function i(I,C){var _=a;return Object.prototype.hasOwnProperty.call(_,I)?_[I]:_[I]=C(I)}function o(I,C){this.h=C;for(var _=[],A=!0,j=I.length-1;0<=j;j--){var k=I[j]|0;A&&k==C||(_[j]=k,A=!1)}this.g=_}var a={};function l(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return b(d(-I));for(var C=[],_=1,A=0;I>=_;A++)C[A]=I/_|0,_*=4294967296;return new o(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return b(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=d(Math.pow(C,8)),A=p,j=0;j<I.length;j+=8){var k=Math.min(8,I.length-j),P=parseInt(I.substring(j,j+k),C);8>k?(k=d(Math.pow(C,k)),A=A.j(k).add(d(P))):(A=A.j(_),A=A.add(d(P)))}return A}var p=l(0),f=l(1),x=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();for(var I=0,C=1,_=0;_<this.g.length;_++){var A=this.i(_);I+=(0<=A?A:4294967296+A)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(v(this))return"-"+b(this).toString(I);for(var C=d(Math.pow(I,6)),_=this,A="";;){var j=R(_,C).g;_=E(_,j.j(C));var k=((0<_.g.length?_.g[0]:_.h)>>>0).toString(I);if(_=j,S(_))return k+A;for(;6>k.length;)k="0"+k;A=k+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=E(this,I),v(I)?-1:S(I)?0:1};function b(I){for(var C=I.g.length,_=[],A=0;A<C;A++)_[A]=~I.g[A];return new o(_,~I.h).add(f)}t.abs=function(){return v(this)?b(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),_=[],A=0,j=0;j<=C;j++){var k=A+(this.i(j)&65535)+(I.i(j)&65535),P=(k>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);A=P>>>16,k&=65535,P&=65535,_[j]=P<<16|k}return new o(_,_[_.length-1]&-2147483648?-1:0)};function E(I,C){return I.add(b(C))}t.j=function(I){if(S(this)||S(I))return p;if(v(this))return v(I)?b(this).j(b(I)):b(b(this).j(I));if(v(I))return b(this.j(b(I)));if(0>this.l(x)&&0>I.l(x))return d(this.m()*I.m());for(var C=this.g.length+I.g.length,_=[],A=0;A<2*C;A++)_[A]=0;for(A=0;A<this.g.length;A++)for(var j=0;j<I.g.length;j++){var k=this.i(A)>>>16,P=this.i(A)&65535,B=I.i(j)>>>16,ee=I.i(j)&65535;_[2*A+2*j]+=P*ee,w(_,2*A+2*j),_[2*A+2*j+1]+=k*ee,w(_,2*A+2*j+1),_[2*A+2*j+1]+=P*B,w(_,2*A+2*j+1),_[2*A+2*j+2]+=k*B,w(_,2*A+2*j+2)}for(A=0;A<C;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=C;A<2*C;A++)_[A]=0;return new o(_,0)};function w(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function T(I,C){this.g=I,this.h=C}function R(I,C){if(S(C))throw Error("division by zero");if(S(I))return new T(p,p);if(v(I))return C=R(b(I),C),new T(b(C.g),b(C.h));if(v(C))return C=R(I,b(C)),new T(b(C.g),C.h);if(30<I.g.length){if(v(I)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var _=f,A=C;0>=A.l(I);)_=D(_),A=D(A);var j=O(_,1),k=O(A,1);for(A=O(A,2),_=O(_,2);!S(A);){var P=k.add(A);0>=P.l(I)&&(j=j.add(_),k=P),A=O(A,1),_=O(_,1)}return C=E(I,j.j(C)),new T(j,C)}for(j=p;0<=I.l(C);){for(_=Math.max(1,Math.floor(I.m()/C.m())),A=Math.ceil(Math.log(_)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),k=d(_),P=k.j(C);v(P)||0<P.l(I);)_-=A,k=d(_),P=k.j(C);S(k)&&(k=f),j=j.add(k),I=E(I,P)}return new T(j,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),_=[],A=0;A<C;A++)_[A]=this.i(A)&I.i(A);return new o(_,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),_=[],A=0;A<C;A++)_[A]=this.i(A)|I.i(A);return new o(_,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),_=[],A=0;A<C;A++)_[A]=this.i(A)^I.i(A);return new o(_,this.h^I.h)};function D(I){for(var C=I.g.length+1,_=[],A=0;A<C;A++)_[A]=I.i(A)<<1|I.i(A-1)>>>31;return new o(_,I.h)}function O(I,C){var _=C>>5;C%=32;for(var A=I.g.length-_,j=[],k=0;k<A;k++)j[k]=0<C?I.i(k+_)>>>C|I.i(k+_+1)<<32-C:I.i(k+_);return new o(j,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ds=o}).apply(typeof b_<"u"?b_:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qI,Tl,GI,bd,vg,KI,QI,YI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,m){if(m)e:{var y=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var M=u[N];if(!(M in y))break e;y=y[M]}u=u[u.length-1],N=y[u],m=m(N),m!=N&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function i(u,m){u instanceof String&&(u+="");var y=0,N=!1,M={next:function(){if(!N&&y<u.length){var V=y++;return{value:m(V,u[V]),done:!1}}return N=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(u){return u||function(){return i(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function d(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function h(u,m,y){return u.call.apply(u.bind,arguments)}function p(u,m,y){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,N),u.apply(m,M)}}return function(){return u.apply(m,arguments)}}function f(u,m,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function x(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var N=y.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function S(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(N,M,V){for(var W=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)W[Oe-2]=arguments[Oe];return m.prototype[M].apply(N,W)}}function v(u){const m=u.length;if(0<m){const y=Array(m);for(let N=0;N<m;N++)y[N]=u[N];return y}return[]}function b(u,m){for(let y=1;y<arguments.length;y++){const N=arguments[y];if(l(N)){const M=u.length||0,V=N.length||0;u.length=M+V;for(let W=0;W<V;W++)u[M+W]=N[W]}else u.push(N)}}class E{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(u,m,y){for(const N in u)m.call(y,u[N],N,u)}function I(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function C(u){const m={};for(const y in u)m[y]=u[y];return m}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,m){let y,N;for(let M=1;M<arguments.length;M++){N=arguments[M];for(y in N)u[y]=N[y];for(let V=0;V<_.length;V++)y=_[V],Object.prototype.hasOwnProperty.call(N,y)&&(u[y]=N[y])}}function j(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function k(u){a.setTimeout(()=>{throw u},0)}function P(){var u=z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class B{constructor(){this.h=this.g=null}add(m,y){const N=ee.get();N.set(m,y),this.h?this.h.next=N:this.g=N,this.h=N}}var ee=new E(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let re,L=!1,z=new B,J=()=>{const u=a.Promise.resolve(void 0);re=()=>{u.then(G)}};var G=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(y){k(y)}var m=ee;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}L=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,m),a.removeEventListener("test",y,m)}catch{}return u}();function ze(u,m){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(D){e:{try{R(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:me[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ze.aa.h.call(this)}}S(ze,ne);var me={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),Te=0;function He(u,m,y,N,M){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!N,this.ha=M,this.key=++Te,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _e(u){this.src=u,this.g={},this.h=0}_e.prototype.add=function(u,m,y,N,M){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var W=ct(u,m,N,M);return-1<W?(m=u[W],y||(m.fa=!1)):(m=new He(m,this.src,V,!!N,M),m.fa=y,u.push(m)),m};function ye(u,m){var y=m.type;if(y in u.g){var N=u.g[y],M=Array.prototype.indexOf.call(N,m,void 0),V;(V=0<=M)&&Array.prototype.splice.call(N,M,1),V&&(ge(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function ct(u,m,y,N){for(var M=0;M<u.length;++M){var V=u[M];if(!V.da&&V.listener==m&&V.capture==!!y&&V.ha==N)return M}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),xn={};function Ut(u,m,y,N,M){if(Array.isArray(m)){for(var V=0;V<m.length;V++)Ut(u,m[V],y,N,M);return null}return y=Ga(y),u&&u[te]?u.K(m,y,d(N)?!!N.capture:!!N,M):vr(u,m,y,!1,N,M)}function vr(u,m,y,N,M,V){if(!m)throw Error("Invalid event type");var W=d(M)?!!M.capture:!!M,Oe=qr(u);if(Oe||(u[yt]=Oe=new _e(u)),y=Oe.add(m,y,N,W,V),y.proxy)return y;if(N=Wa(),y.proxy=N,N.src=u,N.listener=y,u.addEventListener)Ce||(M=W),M===void 0&&(M=!1),u.addEventListener(m.toString(),N,M);else if(u.attachEvent)u.attachEvent(cu(m.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Wa(){function u(y){return m.call(u.src,u.listener,y)}const m=Mf;return u}function rt(u,m,y,N,M){if(Array.isArray(m))for(var V=0;V<m.length;V++)rt(u,m[V],y,N,M);else N=d(N)?!!N.capture:!!N,y=Ga(y),u&&u[te]?(u=u.i,m=String(m).toString(),m in u.g&&(V=u.g[m],y=ct(V,y,N,M),-1<y&&(ge(V[y]),Array.prototype.splice.call(V,y,1),V.length==0&&(delete u.g[m],u.h--)))):u&&(u=qr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,y,N,M)),(y=-1<u?m[u]:null)&&Xn(y))}function Xn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])ye(m.i,u);else{var y=u.type,N=u.proxy;m.removeEventListener?m.removeEventListener(y,N,u.capture):m.detachEvent?m.detachEvent(cu(y),N):m.addListener&&m.removeListener&&m.removeListener(N),(y=qr(m))?(ye(y,u),y.h==0&&(y.src=null,m[yt]=null)):ge(u)}}}function cu(u){return u in xn?xn[u]:xn[u]="on"+u}function Mf(u,m){if(u.da)u=!0;else{m=new ze(m,this);var y=u.listener,N=u.ha||u.src;u.fa&&Xn(u),u=y.call(N,m)}return u}function qr(u){return u=u[yt],u instanceof _e?u:null}var qa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(u){return typeof u=="function"?u:(u[qa]||(u[qa]=function(m){return u.handleEvent(m)}),u[qa])}function st(){Z.call(this),this.i=new _e(this),this.M=this,this.F=null}S(st,Z),st.prototype[te]=!0,st.prototype.removeEventListener=function(u,m,y,N){rt(this,u,m,y,N)};function Ye(u,m){var y,N=u.F;if(N)for(y=[];N;N=N.F)y.push(N);if(u=u.M,N=m.type||m,typeof m=="string")m=new ne(m,u);else if(m instanceof ne)m.target=m.target||u;else{var M=m;m=new ne(N,u),A(m,M)}if(M=!0,y)for(var V=y.length-1;0<=V;V--){var W=m.g=y[V];M=ai(W,N,!0,m)&&M}if(W=m.g=u,M=ai(W,N,!0,m)&&M,M=ai(W,N,!1,m)&&M,y)for(V=0;V<y.length;V++)W=m.g=y[V],M=ai(W,N,!1,m)&&M}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],N=0;N<y.length;N++)ge(y[N]);delete u.g[m],u.h--}}this.F=null},st.prototype.K=function(u,m,y,N){return this.i.add(String(u),m,!1,y,N)},st.prototype.L=function(u,m,y,N){return this.i.add(String(u),m,!0,y,N)};function ai(u,m,y,N){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,V=0;V<m.length;++V){var W=m[V];if(W&&!W.da&&W.capture==y){var Oe=W.listener,wt=W.ha||W.src;W.fa&&ye(u.i,W),M=Oe.call(wt,N)!==!1&&M}}return M&&!N.defaultPrevented}function yr(u,m,y){if(typeof u=="function")y&&(u=f(u,y));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(u,m||0)}function Ka(u){u.g=yr(()=>{u.g=null,u.i&&(u.i=!1,Ka(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lf extends Z{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ka(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(u){Z.call(this),this.h=u,this.g={}}S(Gr,Z);var Qa=[];function uu(u){O(u.g,function(m,y){this.g.hasOwnProperty(y)&&Xn(m)},u),u.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),uu(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=a.JSON.stringify,Jn=a.JSON.parse,Vf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ae(){}ae.prototype.h=null;function je(u){return u.h||(u.h=u.i())}function Pe(){}var It={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kt(){ne.call(this,"d")}S(Kt,ne);function Kr(){ne.call(this,"c")}S(Kr,ne);var wr={},b0=null;function du(){return b0=b0||new st}wr.La="serverreachability";function T0(u){ne.call(this,wr.La,u)}S(T0,ne);function Ya(u){const m=du();Ye(m,new T0(m))}wr.STAT_EVENT="statevent";function S0(u,m){ne.call(this,wr.STAT_EVENT,u),this.stat=m}S(S0,ne);function $t(u){const m=du();Ye(m,new S0(m,u))}wr.Ma="timingevent";function I0(u,m){ne.call(this,wr.Ma,u),this.size=m}S(I0,ne);function Xa(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Ja(){this.g=!0}Ja.prototype.xa=function(){this.g=!1};function wR(u,m,y,N,M,V){u.info(function(){if(u.g)if(V)for(var W="",Oe=V.split("&"),wt=0;wt<Oe.length;wt++){var Ne=Oe[wt].split("=");if(1<Ne.length){var Ct=Ne[0];Ne=Ne[1];var Nt=Ct.split("_");W=2<=Nt.length&&Nt[1]=="type"?W+(Ct+"="+Ne+"&"):W+(Ct+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+N+") [attempt "+M+"]: "+m+`
`+y+`
`+W})}function xR(u,m,y,N,M,V,W){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+M+"]: "+m+`
`+y+`
`+V+" "+W})}function Yi(u,m,y,N){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ER(u,y)+(N?" "+N:"")})}function _R(u,m){u.info(function(){return"TIMEOUT: "+m})}Ja.prototype.info=function(){};function ER(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var N=y[u];if(!(2>N.length)){var M=N[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<M.length;W++)M[W]=""}}}}return li(y)}catch{return m}}var hu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},C0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ff;function fu(){}S(fu,ae),fu.prototype.g=function(){return new XMLHttpRequest},fu.prototype.i=function(){return{}},Ff=new fu;function Qr(u,m,y,N){this.j=u,this.i=m,this.l=y,this.R=N||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new N0}function N0(){this.i=null,this.g="",this.h=!1}var A0={},Uf={};function $f(u,m,y){u.L=1,u.v=vu(xr(m)),u.m=y,u.P=!0,R0(u,null)}function R0(u,m){u.F=Date.now(),pu(u),u.A=xr(u.v);var y=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),H0(y.i,"t",N),u.C=0,y=u.j.J,u.h=new N0,u.g=lw(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Lf(f(u.Y,u,u.g),u.O)),m=u.U,y=u.g,N=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Qa[0]=M.toString()),M=Qa);for(var V=0;V<M.length;V++){var W=Ut(y,M[V],N||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ya(),wR(u.i,u.u,u.A,u.l,u.R,u.m)}Qr.prototype.ca=function(u){u=u.target;const m=this.M;m&&_r(u)==3?m.j():this.Y(u)},Qr.prototype.Y=function(u){try{if(u==this.g)e:{const Nt=_r(this.g);var m=this.g.Ba();const Zi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||X0(this.g)))){this.J||Nt!=4||m==7||(m==8||0>=Zi?Ya(3):Ya(2)),Bf(this);var y=this.g.Z();this.X=y;t:if(P0(this)){var N=X0(this.g);u="";var M=N.length,V=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),Za(this);var W="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,u+=this.h.i.decode(N[m],{stream:!(V&&m==M-1)});N.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=y==200,xR(this.i,this.u,this.A,this.l,this.R,Nt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,wt=this.g;if((Oe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Oe)){var Ne=Oe;break t}}Ne=null}if(y=Ne)Yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zf(this,y);else{this.o=!1,this.s=3,$t(12),ci(this),Za(this);break e}}if(this.P){y=!0;let Pn;for(;!this.J&&this.C<W.length;)if(Pn=bR(this,W),Pn==Uf){Nt==4&&(this.s=4,$t(14),y=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==A0){this.s=4,$t(15),Yi(this.i,this.l,W,"[Invalid Chunk]"),y=!1;break}else Yi(this.i,this.l,Pn,null),zf(this,Pn);if(P0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||W.length!=0||this.h.h||(this.s=1,$t(16),y=!1),this.o=this.o&&y,!y)Yi(this.i,this.l,W,"[Invalid Chunked Response]"),ci(this),Za(this);else if(0<W.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Qf(Ct),Ct.M=!0,$t(11))}}else Yi(this.i,this.l,W,null),zf(this,W);Nt==4&&ci(this),this.o&&!this.J&&(Nt==4?sw(this.j,this):(this.o=!1,pu(this)))}else UR(this.g),y==400&&0<W.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),ci(this),Za(this)}}}catch{}finally{}};function P0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bR(u,m){var y=u.C,N=m.indexOf(`
`,y);return N==-1?Uf:(y=Number(m.substring(y,N)),isNaN(y)?A0:(N+=1,N+y>m.length?Uf:(m=m.slice(N,N+y),u.C=N+y,m)))}Qr.prototype.cancel=function(){this.J=!0,ci(this)};function pu(u){u.S=Date.now()+u.I,k0(u,u.I)}function k0(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xa(f(u.ba,u),m)}function Bf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Qr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(_R(this.i,this.A),this.L!=2&&(Ya(),$t(17)),ci(this),this.s=2,Za(this)):k0(this,this.S-u)};function Za(u){u.j.G==0||u.J||sw(u.j,u)}function ci(u){Bf(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,uu(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function zf(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||Hf(y.h,u))){if(!u.K&&Hf(y.h,u)&&y.G==3){try{var N=y.Da.g.parse(m)}catch{N=null}if(Array.isArray(N)&&N.length==3){var M=N;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)bu(y),_u(y);else break e;Kf(y),$t(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Xa(f(y.Za,y),6e3));if(1>=O0(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else di(y,11)}else if((u.K||y.g==u)&&bu(y),!w(m))for(M=y.Da.g.parse(m),m=0;m<M.length;m++){let Ne=M[m];if(y.T=Ne[0],Ne=Ne[1],y.G==2)if(Ne[0]=="c"){y.K=Ne[1],y.ia=Ne[2];const Ct=Ne[3];Ct!=null&&(y.la=Ct,y.j.info("VER="+y.la));const Nt=Ne[4];Nt!=null&&(y.Aa=Nt,y.j.info("SVER="+y.Aa));const Zi=Ne[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(N=1.5*Zi,y.L=N,y.j.info("backChannelRequestTimeoutMs_="+N)),N=y;const Pn=u.g;if(Pn){const Su=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var V=N.h;V.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Wf(V,V.h),V.h=null))}if(N.D){const Yf=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yf&&(N.ya=Yf,Ve(N.I,N.D,Yf))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),N=y;var W=u;if(N.qa=aw(N,N.J?N.ia:null,N.W),W.K){M0(N.h,W);var Oe=W,wt=N.L;wt&&(Oe.I=wt),Oe.B&&(Bf(Oe),pu(Oe)),N.g=W}else nw(N);0<y.i.length&&Eu(y)}else Ne[0]!="stop"&&Ne[0]!="close"||di(y,7);else y.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?di(y,7):Gf(y):Ne[0]!="noop"&&y.l&&y.l.ta(Ne),y.v=0)}}Ya(4)}catch{}}var TR=class{constructor(u,m){this.g=u,this.map=m}};function j0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function D0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function O0(u){return u.h?1:u.g?u.g.size:0}function Hf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Wf(u,m){u.g?u.g.add(m):u.h=m}function M0(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}j0.prototype.cancel=function(){if(this.i=L0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function L0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return v(u.i)}function SR(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var m=[],y=u.length,N=0;N<y;N++)m.push(u[N]);return m}m=[],y=0;for(N in u)m[y++]=u[N];return m}function IR(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const N in u)m[y++]=N;return m}}}function V0(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=IR(u),N=SR(u),M=N.length,V=0;V<M;V++)m.call(void 0,N[V],y&&y[V],u)}var F0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CR(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var N=u[y].indexOf("="),M=null;if(0<=N){var V=u[y].substring(0,N);M=u[y].substring(N+1)}else V=u[y];m(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ui(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ui){this.h=u.h,mu(this,u.j),this.o=u.o,this.g=u.g,gu(this,u.s),this.l=u.l;var m=u.i,y=new nl;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),U0(this,y),this.m=u.m}else u&&(m=String(u).match(F0))?(this.h=!1,mu(this,m[1]||"",!0),this.o=el(m[2]||""),this.g=el(m[3]||"",!0),gu(this,m[4]),this.l=el(m[5]||"",!0),U0(this,m[6]||"",!0),this.m=el(m[7]||"")):(this.h=!1,this.i=new nl(null,this.h))}ui.prototype.toString=function(){var u=[],m=this.j;m&&u.push(tl(m,$0,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(tl(m,$0,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(tl(y,y.charAt(0)=="/"?RR:AR,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",tl(y,kR)),u.join("")};function xr(u){return new ui(u)}function mu(u,m,y){u.j=y?el(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gu(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function U0(u,m,y){m instanceof nl?(u.i=m,jR(u.i,u.h)):(y||(m=tl(m,PR)),u.i=new nl(m,u.h))}function Ve(u,m,y){u.i.set(m,y)}function vu(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function el(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tl(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,NR),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function NR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $0=/[#\/\?@]/g,AR=/[#\?:]/g,RR=/[#\?]/g,PR=/[#\?@]/g,kR=/#/g;function nl(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Yr(u){u.g||(u.g=new Map,u.h=0,u.i&&CR(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}t=nl.prototype,t.add=function(u,m){Yr(this),this.i=null,u=Xi(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function B0(u,m){Yr(u),m=Xi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function z0(u,m){return Yr(u),m=Xi(u,m),u.g.has(m)}t.forEach=function(u,m){Yr(this),this.g.forEach(function(y,N){y.forEach(function(M){u.call(m,M,N,this)},this)},this)},t.na=function(){Yr(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let N=0;N<m.length;N++){const M=u[N];for(let V=0;V<M.length;V++)y.push(m[N])}return y},t.V=function(u){Yr(this);let m=[];if(typeof u=="string")z0(this,u)&&(m=m.concat(this.g.get(Xi(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},t.set=function(u,m){return Yr(this),this.i=null,u=Xi(this,u),z0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function H0(u,m,y){B0(u,m),0<y.length&&(u.i=null,u.g.set(Xi(u,m),v(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var N=m[y];const V=encodeURIComponent(String(N)),W=this.V(N);for(N=0;N<W.length;N++){var M=V;W[N]!==""&&(M+="="+encodeURIComponent(String(W[N]))),u.push(M)}}return this.i=u.join("&")};function Xi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function jR(u,m){m&&!u.j&&(Yr(u),u.i=null,u.g.forEach(function(y,N){var M=N.toLowerCase();N!=M&&(B0(this,N),H0(this,M,y))},u)),u.j=m}function DR(u,m){const y=new Ja;if(a.Image){const N=new Image;N.onload=x(Xr,y,"TestLoadImage: loaded",!0,m,N),N.onerror=x(Xr,y,"TestLoadImage: error",!1,m,N),N.onabort=x(Xr,y,"TestLoadImage: abort",!1,m,N),N.ontimeout=x(Xr,y,"TestLoadImage: timeout",!1,m,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else m(!1)}function OR(u,m){const y=new Ja,N=new AbortController,M=setTimeout(()=>{N.abort(),Xr(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:N.signal}).then(V=>{clearTimeout(M),V.ok?Xr(y,"TestPingServer: ok",!0,m):Xr(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Xr(y,"TestPingServer: error",!1,m)})}function Xr(u,m,y,N,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),N(y)}catch{}}function MR(){this.g=new Vf}function LR(u,m,y){const N=y||"";try{V0(u,function(M,V){let W=M;d(M)&&(W=li(M)),m.push(N+V+"="+encodeURIComponent(W))})}catch(M){throw m.push(N+"type="+encodeURIComponent("_badmap")),M}}function yu(u){this.l=u.Ub||null,this.j=u.eb||!1}S(yu,ae),yu.prototype.g=function(){return new wu(this.l,this.j)},yu.prototype.i=function(u){return function(){return u}}({});function wu(u,m){st.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(wu,st),t=wu.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,sl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function W0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rl(this):sl(this),this.readyState==3&&W0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,rl(this))},t.Qa=function(u){this.g&&(this.response=u,rl(this))},t.ga=function(){this.g&&rl(this)};function rl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,sl(u)}t.setRequestHeader=function(u,m){this.u.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function sl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function q0(u){let m="";return O(u,function(y,N){m+=N,m+=":",m+=y,m+=`\r
`}),m}function qf(u,m,y){e:{for(N in y){var N=!1;break e}N=!0}N||(y=q0(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ve(u,m,y))}function Xe(u){st.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xe,st);var VR=/^https?$/i,FR=["POST","PUT"];t=Xe.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,m,y,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ff.g(),this.v=this.o?je(this.o):je(Ff),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(V){G0(this,V);return}if(u=y||"",y=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var M in N)y.set(M,N[M]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())y.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(FR,m,void 0))||N||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of y)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Y0(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){G0(this,V)}};function G0(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,K0(u),xu(u)}function K0(u){u.A||(u.A=!0,Ye(u,"complete"),Ye(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ye(this,"complete"),Ye(this,"abort"),xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),Xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Q0(this):this.bb())},t.bb=function(){Q0(this)};function Q0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||_r(u)!=4||u.Z()!=2)){if(u.u&&_r(u)==4)yr(u.Ea,0,u);else if(Ye(u,"readystatechange"),_r(u)==4){u.h=!1;try{const W=u.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var N;if(N=W===0){var M=String(u.D).match(F0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),N=!VR.test(M?M.toLowerCase():"")}y=N}if(y)Ye(u,"complete"),Ye(u,"success");else{u.m=6;try{var V=2<_r(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",K0(u)}}finally{xu(u)}}}}function xu(u,m){if(u.g){Y0(u);const y=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ye(u,"ready");try{y.onreadystatechange=N}catch{}}}function Y0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function _r(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Jn(m)}};function X0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function UR(u){const m={};u=(u.g&&2<=_r(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(w(u[N]))continue;var y=j(u[N]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=m[M]||[];m[M]=V,V.push(y)}I(m,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function il(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function J0(u){this.Aa=0,this.i=[],this.j=new Ja,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=il("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=il("baseRetryDelayMs",5e3,u),this.cb=il("retryDelaySeedMs",1e4,u),this.Wa=il("forwardChannelMaxRetries",2,u),this.wa=il("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new j0(u&&u.concurrentRequestLimit),this.Da=new MR,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=J0.prototype,t.la=8,t.G=1,t.connect=function(u,m,y,N){$t(0),this.W=u,this.H=m||{},y&&N!==void 0&&(this.H.OSID=y,this.H.OAID=N),this.F=this.X,this.I=aw(this,null,this.W),Eu(this)};function Gf(u){if(Z0(u),u.G==3){var m=u.U++,y=xr(u.I);if(Ve(y,"SID",u.K),Ve(y,"RID",m),Ve(y,"TYPE","terminate"),ol(u,y),m=new Qr(u,u.j,m),m.L=2,m.v=vu(xr(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=m.v,y=!0),y||(m.g=lw(m.j,null),m.g.ea(m.v)),m.F=Date.now(),pu(m)}ow(u)}function _u(u){u.g&&(Qf(u),u.g.cancel(),u.g=null)}function Z0(u){_u(u),u.u&&(a.clearTimeout(u.u),u.u=null),bu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Eu(u){if(!D0(u.h)&&!u.s){u.s=!0;var m=u.Ga;re||J(),L||(re(),L=!0),z.add(m,u),u.B=0}}function $R(u,m){return O0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xa(f(u.Ga,u,m),iw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Qr(this,this.j,u);let V=this.o;if(this.S&&(V?(V=C(V),A(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var N=this.i[y];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(m+=N,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=tw(this,M,m),y=xr(this.I),Ve(y,"RID",u),Ve(y,"CVER",22),this.D&&Ve(y,"X-HTTP-Session-Id",this.D),ol(this,y),V&&(this.O?m="headers="+encodeURIComponent(String(q0(V)))+"&"+m:this.m&&qf(y,this.m,V)),Wf(this.h,M),this.Ua&&Ve(y,"TYPE","init"),this.P?(Ve(y,"$req",m),Ve(y,"SID","null"),M.T=!0,$f(M,y,null)):$f(M,y,m),this.G=2}}else this.G==3&&(u?ew(this,u):this.i.length==0||D0(this.h)||ew(this))};function ew(u,m){var y;m?y=m.l:y=u.U++;const N=xr(u.I);Ve(N,"SID",u.K),Ve(N,"RID",y),Ve(N,"AID",u.T),ol(u,N),u.m&&u.o&&qf(N,u.m,u.o),y=new Qr(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tw(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Wf(u.h,y),$f(y,N,m)}function ol(u,m){u.H&&O(u.H,function(y,N){Ve(m,N,y)}),u.l&&V0({},function(y,N){Ve(m,N,y)})}function tw(u,m,y){y=Math.min(u.i.length,y);var N=u.l?f(u.l.Na,u.l,u):null;e:{var M=u.i;let V=-1;for(;;){const W=["count="+y];V==-1?0<y?(V=M[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let Oe=!0;for(let wt=0;wt<y;wt++){let Ne=M[wt].g;const Ct=M[wt].map;if(Ne-=V,0>Ne)V=Math.max(0,M[wt].g-100),Oe=!1;else try{LR(Ct,W,"req"+Ne+"_")}catch{N&&N(Ct)}}if(Oe){N=W.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,N}function nw(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;re||J(),L||(re(),L=!0),z.add(m,u),u.v=0}}function Kf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xa(f(u.Fa,u),iw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,rw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xa(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),_u(this),rw(this))};function Qf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function rw(u){u.g=new Qr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=xr(u.qa);Ve(m,"RID","rpc"),Ve(m,"SID",u.K),Ve(m,"AID",u.T),Ve(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(m,"TO",u.ja),Ve(m,"TYPE","xmlhttp"),ol(u,m),u.m&&u.o&&qf(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=vu(xr(m)),y.m=null,y.P=!0,R0(y,u)}t.Za=function(){this.C!=null&&(this.C=null,_u(this),Kf(this),$t(19))};function bu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function sw(u,m){var y=null;if(u.g==m){bu(u),Qf(u),u.g=null;var N=2}else if(Hf(u.h,m))y=m.D,M0(u.h,m),N=1;else return;if(u.G!=0){if(m.o)if(N==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var M=u.B;N=du(),Ye(N,new I0(N,y)),Eu(u)}else nw(u);else if(M=m.s,M==3||M==0&&0<m.X||!(N==1&&$R(u,m)||N==2&&Kf(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),M){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function iw(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=f(u.fb,u),N=u.Xa;const M=!N;N=new ui(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mu(N,"https"),vu(N),M?DR(N.toString(),y):OR(N.toString(),y)}else $t(2);u.G=0,u.l&&u.l.sa(m),ow(u),Z0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function ow(u){if(u.G=0,u.ka=[],u.l){const m=L0(u.h);(m.length!=0||u.i.length!=0)&&(b(u.ka,m),b(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function aw(u,m,y){var N=y instanceof ui?xr(y):new ui(y);if(N.g!="")m&&(N.g=m+"."+N.g),gu(N,N.s);else{var M=a.location;N=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var V=new ui(null);N&&mu(V,N),m&&(V.g=m),M&&gu(V,M),y&&(V.l=y),N=V}return y=u.D,m=u.ya,y&&m&&Ve(N,y,m),Ve(N,"VER",u.la),ol(u,N),N}function lw(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new yu({eb:y})):new Xe(u.pa),m.Ha(u.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cw(){}t=cw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tu(){}Tu.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){st.call(this),this.g=new J0(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!w(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}S(sn,st),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Gf(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=li(u),u=y);m.i.push(new TR(m.Ya++,u)),m.G==3&&Eu(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,sn.aa.N.call(this)};function uw(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(uw,Kt);function dw(){Kr.call(this),this.status=1}S(dw,Kr);function Ji(u){this.g=u}S(Ji,cw),Ji.prototype.ua=function(){Ye(this.g,"a")},Ji.prototype.ta=function(u){Ye(this.g,new uw(u))},Ji.prototype.sa=function(u){Ye(this.g,new dw)},Ji.prototype.ra=function(){Ye(this.g,"b")},Tu.prototype.createWebChannel=Tu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,YI=function(){return new Tu},QI=function(){return du()},KI=wr,vg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hu.NO_ERROR=0,hu.TIMEOUT=8,hu.HTTP_ERROR=6,bd=hu,C0.COMPLETE="complete",GI=C0,Pe.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",st.prototype.listen=st.prototype.K,Tl=Pe,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,qI=Xe}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",S_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new py("@firebase/firestore");function so(){return Li.logLevel}function K(t,...e){if(Li.logLevel<=we.DEBUG){const n=e.map(vy);Li.debug(`Firestore (${Aa}): ${t}`,...n)}}function Fr(t,...e){if(Li.logLevel<=we.ERROR){const n=e.map(vy);Li.error(`Firestore (${Aa}): ${t}`,...n)}}function ua(t,...e){if(Li.logLevel<=we.WARN){const n=e.map(vy);Li.warn(`Firestore (${Aa}): ${t}`,...n)}}function vy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,XI(t,r,n)}function XI(t,e,n){let r=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fr(r),new Error(r)}function Re(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||XI(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class w3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x3{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new JI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class _3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=T3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function yg(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return pe(r,s);{const i=ZI(),o=S3(i.encode(C_(t,n)),i.encode(C_(e,n)));return o!==0?o:pe(r,s)}}n+=r>65535?2:1}return pe(t.length,e.length)}function C_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function S3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return pe(t[n],e[n]);return pe(t.length,e.length)}function da(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=-62135596800,A_=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*A_);return new ht(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N_)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A_}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-N_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new ht(0,0))}static max(){return new le(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="__name__";class tr{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=tr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return pe(e.length,n.length)}static compareSegments(e,n){const r=tr.isNumericId(e),s=tr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?tr.extractNumericId(e).compare(tr.extractNumericId(n)):yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ds.fromString(e.substring(4,e.length-2))}}class $e extends tr{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends tr{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R_}static keyField(){return new Et([R_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se($e.fromString(e))}static fromName(e){return new se($e.fromString(e).popFirst(5))}static empty(){return new se($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function C3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Hs(s,se.empty(),e)}function N3(t){return new Hs(t.readTime,t.key,xc)}class Hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hs(le.min(),se.empty(),xc)}static max(){return new Hs(le.max(),se.empty(),xc)}}function A3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==R3)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function k3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ff.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy=-1;function pf(t){return t==null}function vh(t){return t===0&&1/t==-1/0}function j3(t){return typeof t=="number"&&Number.isInteger(t)&&!vh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="";function D3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=P_(e)),e=O3(t.get(n),e);return P_(e)}function O3(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case tC:n+="";break;default:n+=i}}return n}function P_(t){return t+tC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ed(this.root,e,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ed(this.root,e,this.comparator,!0)}}class ed{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw oe(27949);return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw oe(57766)}get value(){throw oe(16141)}get color(){throw oe(16727)}get left(){throw oe(29726)}get right(){throw oe(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new j_(this.data.getIterator())}getIteratorFrom(e){return new j_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class j_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new fn([])}unionWith(e){let n=new ft(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rC("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const M3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=M3.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="server_timestamp",iC="__type__",oC="__previous_value__",aC="__local_write_time__";function wy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[iC])===null||n===void 0?void 0:n.stringValue)===sC}function mf(t){const e=t.mapValue.fields[oC];return wy(e)?mf(e):e}function _c(t){const e=Ws(t.mapValue.fields[aC].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const yh="(default)";class Ec{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="__type__",cC="__max__",td={mapValue:{fields:{__type__:{stringValue:cC}}}},uC="__vector__",wh="value";function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wy(t)?4:F3(t)?9007199254740991:V3(t)?10:11:oe(28295,{value:t})}function mr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ws(s.timestampValue),a=Ws(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return qs(s.bytesValue).isEqual(qs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return et(s.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(s.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return et(s.integerValue)===et(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=et(s.doubleValue),a=et(i.doubleValue);return o===a?vh(o)===vh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(k_(o)!==k_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!mr(o[l],a[l])))return!1;return!0}(t,e);default:return oe(52216,{left:t})}}function bc(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=et(i.integerValue||i.doubleValue),l=et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return D_(t.timestampValue,e.timestampValue);case 4:return D_(_c(t),_c(e));case 5:return yg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=qs(i),l=qs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=pe(a[d],l[d]);if(h!==0)return h}return pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=pe(et(i.latitude),et(o.latitude));return a!==0?a:pe(et(i.longitude),et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return O_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const p=i.fields||{},f=o.fields||{},x=(a=p[wh])===null||a===void 0?void 0:a.arrayValue,S=(l=f[wh])===null||l===void 0?void 0:l.arrayValue,v=pe(((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0,((h=S==null?void 0:S.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:O_(x,S)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===td.mapValue&&o===td.mapValue)return 0;if(i===td.mapValue)return 1;if(o===td.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=yg(l[p],h[p]);if(f!==0)return f;const x=ha(a[l[p]],d[h[p]]);if(x!==0)return x}return pe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw oe(23264,{Pe:n})}}function D_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=Ws(t),r=Ws(e),s=pe(n.seconds,r.seconds);return s!==0?s:pe(n.nanos,r.nanos)}function O_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ha(n[s],r[s]);if(i)return i}return pe(n.length,r.length)}function fa(t){return wg(t)}function wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${wg(n.fields[o])}`;return s+"}"}(t.mapValue):oe(61005,{value:t})}function Td(t){switch(Gs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(t);return e?16+Td(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Td(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ti(r.fields,(i,o)=>{s+=i.length+Td(o)}),s}(t.mapValue);default:throw oe(13486,{value:t})}}function M_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xg(t){return!!t&&"integerValue"in t}function xy(t){return!!t&&"arrayValue"in t}function L_(t){return!!t&&"nullValue"in t}function V_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sd(t){return!!t&&"mapValue"in t}function V3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lC])===null||n===void 0?void 0:n.stringValue)===uC}function $l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function F3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===cC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=$l(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ti(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Jt($l(this.value))}}function dC(t){const e=[];return ti(t.fields,(n,r)=>{const s=new Et([n]);if(Sd(r)){const i=dC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,le.min(),le.min(),le.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,le.min(),le.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,le.min(),le.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function F_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=ha(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function U_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function U3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{}class at extends hC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B3(e,n,r):n==="array-contains"?new W3(e,r):n==="in"?new q3(e,r):n==="not-in"?new G3(e,r):n==="array-contains-any"?new K3(e,r):new at(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new z3(e,r):new H3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ha(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends hC{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Gn(e,n)}matches(e){return fC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function fC(t){return t.op==="and"}function pC(t){return $3(t)&&fC(t)}function $3(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function _g(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(pC(t))return t.filters.map(e=>_g(e)).join(",");{const e=t.filters.map(n=>_g(n)).join(",");return`${t.op}(${e})`}}function mC(t,e){return t instanceof at?function(r,s){return s instanceof at&&r.op===s.op&&r.field.isEqual(s.field)&&mr(r.value,s.value)}(t,e):t instanceof Gn?function(r,s){return s instanceof Gn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mC(o,s.filters[a]),!0):!1}(t,e):void oe(19439)}function gC(t){return t instanceof at?function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(gC).join(" ,")+"}"}(t):"Filter"}class B3 extends at{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class z3 extends at{constructor(e,n){super(e,"in",n),this.keys=vC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H3 extends at{constructor(e,n){super(e,"not-in",n),this.keys=vC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class W3 extends at{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xy(n)&&bc(n.arrayValue,this.value)}}class q3 extends at{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bc(this.value.arrayValue,n)}}class G3 extends at{constructor(e,n){super(e,"not-in",n)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bc(this.value.arrayValue,n)}}class K3 extends at{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Ie=null}}function $_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Q3(t,e,n,r,s,i,o)}function _y(t){const e=ue(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.Ie=n}return e.Ie}function Ey(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U_(t.startAt,e.startAt)&&U_(t.endAt,e.endAt)}function Eg(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Y3(t,e,n,r,s,i,o,a){return new ka(t,e,n,r,s,i,o,a)}function by(t){return new ka(t)}function B_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yC(t){return t.collectionGroup!==null}function Bl(t){const e=ue(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Tc(i,r))}),n.has(Et.keyField().canonicalString())||e.Ee.push(new Tc(Et.keyField(),r))}return e.Ee}function ur(t){const e=ue(t);return e.de||(e.de=X3(e,Bl(t))),e.de}function X3(t,e){if(t.limitType==="F")return $_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Tc(s.field,i)});const n=t.endAt?new xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xh(t.startAt.position,t.startAt.inclusive):null;return $_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bg(t,e){const n=t.filters.concat([e]);return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Ey(ur(t),ur(e))&&t.limitType===e.limitType}function wC(t){return`${_y(ur(t))}|lt:${t.limitType}`}function io(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gC(s)).join(", ")}]`),pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fa(s)).join(",")),`Target(${r})`}(ur(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Bl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=F_(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Bl(r),s)||r.endAt&&!function(o,a,l){const d=F_(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Bl(r),s))}(t,e)}function J3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xC(t){return(e,n)=>{let r=!1;for(const s of Bl(t)){const i=Z3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Z3(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?ha(l,d):oe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eF=new Qe(se.comparator);function Ur(){return eF}const _C=new Qe(se.comparator);function Sl(...t){let e=_C;for(const n of t)e=e.insert(n.key,n);return e}function EC(t){let e=_C;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xi(){return zl()}function bC(){return zl()}function zl(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const tF=new Qe(se.comparator),nF=new ft(se.comparator);function xe(...t){let e=nF;for(const n of t)e=e.add(n);return e}const rF=new ft(pe);function sF(){return rF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function TC(t){return{integerValue:""+t}}function iF(t,e){return j3(e)?TC(e):Ty(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this._=void 0}}function oF(t,e,n){return t instanceof Sc?function(s,i){const o={fields:{[iC]:{stringValue:sC},[aC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&wy(i)&&(i=mf(i)),i&&(o.fields[oC]=i),{mapValue:o}}(n,e):t instanceof Ic?IC(t,e):t instanceof Cc?CC(t,e):function(s,i){const o=SC(s,i),a=z_(o)+z_(s.Re);return xg(o)&&xg(s.Re)?TC(a):Ty(s.serializer,a)}(t,e)}function aF(t,e,n){return t instanceof Ic?IC(t,e):t instanceof Cc?CC(t,e):n}function SC(t,e){return t instanceof _h?function(r){return xg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Sc extends yf{}class Ic extends yf{constructor(e){super(),this.elements=e}}function IC(t,e){const n=NC(e);for(const r of t.elements)n.some(s=>mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cc extends yf{constructor(e){super(),this.elements=e}}function CC(t,e){let n=NC(e);for(const r of t.elements)n=n.filter(s=>!mr(s,r));return{arrayValue:{values:n}}}class _h extends yf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function z_(t){return et(t.integerValue||t.doubleValue)}function NC(t){return xy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n){this.field=e,this.transform=n}}function cF(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ic&&s instanceof Ic||r instanceof Cc&&s instanceof Cc?da(r.elements,s.elements,mr):r instanceof _h&&s instanceof _h?mr(r.Re,s.Re):r instanceof Sc&&s instanceof Sc}(t.transform,e.transform)}class uF{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function AC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sy(t.key,zn.none()):new Jc(t.key,t.data,zn.none());{const n=t.data,r=Jt.empty();let s=new ft(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ni(t.key,r,new fn(s.toArray()),zn.none())}}function dF(t,e,n){t instanceof Jc?function(s,i,o){const a=s.value.clone(),l=W_(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ni?function(s,i,o){if(!Id(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=W_(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(RC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hl(t,e,n,r){return t instanceof Jc?function(i,o,a,l){if(!Id(i.precondition,o))return a;const d=i.value.clone(),h=q_(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ni?function(i,o,a,l){if(!Id(i.precondition,o))return a;const d=q_(i.fieldTransforms,l,o),h=o.data;return h.setAll(RC(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Id(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hF(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=SC(r.transform,s||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,i))}return n||null}function H_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&da(r,s,(i,o)=>cF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jc extends wf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ni extends wf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function RC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function W_(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,aF(o,a,n[s]))}return r}function q_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,oF(i,o,e))}return r}class Sy extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fF extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dF(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=bC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=AC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>H_(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>H_(n,r))}}class Iy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return tF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Iy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,Ee;function vF(t){switch(t){case F.OK:return oe(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return oe(15467,{code:t})}}function PC(t){if(t===void 0)return Fr("GRPC error has no .code"),F.UNKNOWN;switch(t){case it.OK:return F.OK;case it.CANCELLED:return F.CANCELLED;case it.UNKNOWN:return F.UNKNOWN;case it.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case it.INTERNAL:return F.INTERNAL;case it.UNAVAILABLE:return F.UNAVAILABLE;case it.UNAUTHENTICATED:return F.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case it.NOT_FOUND:return F.NOT_FOUND;case it.ALREADY_EXISTS:return F.ALREADY_EXISTS;case it.PERMISSION_DENIED:return F.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case it.ABORTED:return F.ABORTED;case it.OUT_OF_RANGE:return F.OUT_OF_RANGE;case it.UNIMPLEMENTED:return F.UNIMPLEMENTED;case it.DATA_LOSS:return F.DATA_LOSS;default:return oe(39323,{code:t})}}(Ee=it||(it={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=new Ds([4294967295,4294967295],0);function G_(t){const e=ZI().encode(t),n=new WI;return n.update(e),new Uint8Array(n.digest())}function K_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ds([n,r],0),new Ds([s,i],0)]}class Cy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ds.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ds.fromNumber(r)));return s.compare(yF)===1&&(s=new Ds([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=G_(e),[r,s]=K_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Cy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=G_(e),[r,s]=K_(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xf(le.min(),s,new Qe(pe),Ur(),xe())}}class Zc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zc(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class kC{constructor(e,n){this.targetId=e,this.Ce=n}}class jC{constructor(e,n,r=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Q_{constructor(){this.Fe=0,this.Me=Y_(),this.xe=St.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=xe(),n=xe(),r=xe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe(38017,{changeType:i})}}),new Zc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Y_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Re(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class wF{constructor(e){this.ze=e,this.je=new Map,this.He=Ur(),this.Je=nd(),this.Ye=nd(),this.Ze=new Qe(pe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:oe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Eg(i))if(r===0){const o=new se(i.path);this.tt(n,o,Mt.newNoDocument(o,le.min()))}else Re(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(l){if(l instanceof rC)return ua("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Cy(o,s,i)}catch(l){return ua(l instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const a=this._t(o);if(a){if(i.current&&Eg(a.target)){const l=new se(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Mt.newNoDocument(l,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=xe();this.Ye.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this._t(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new xf(e,n,this.Ze,this.He,r);return this.He=Ur(),this.Je=nd(),this.Ye=nd(),this.Ze=new Qe(pe),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Q_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ft(pe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ft(pe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Q_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function nd(){return new Qe(se.comparator)}function Y_(){return new Qe(se.comparator)}const xF={asc:"ASCENDING",desc:"DESCENDING"},_F={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EF={and:"AND",or:"OR"};class bF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Sg(t,e){return t.useProto3Json||pf(e)?e:{value:e}}function Eh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TF(t,e){return Eh(t,e.toTimestamp())}function dr(t){return Re(!!t,49232),le.fromTimestamp(function(n){const r=Ws(n);return new ht(r.seconds,r.nanos)}(t))}function Ny(t,e){return Ig(t,e).canonicalString()}function Ig(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OC(t){const e=$e.fromString(t);return Re(UC(e),10190,{key:e.toString()}),e}function Cg(t,e){return Ny(t.databaseId,e.path)}function Wp(t,e){const n=OC(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(LC(n))}function MC(t,e){return Ny(t.databaseId,e)}function SF(t){const e=OC(t);return e.length===4?$e.emptyPath():LC(e)}function Ng(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LC(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function X_(t,e,n){return{name:Cg(t,e),fields:n.value.mapValue.fields}}function IF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Re(h===void 0||typeof h=="string",58123),St.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?F.UNKNOWN:PC(d.code);return new Q(h,d.message||"")}(o);n=new jC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wp(t,r.document.name),i=dr(r.document.updateTime),o=r.document.createTime?dr(r.document.createTime):le.min(),a=new Jt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Cd(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wp(t,r.document),i=r.readTime?dr(r.readTime):le.min(),o=Mt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wp(t,r.document),i=r.removedTargetIds||[];n=new Cd([],i,s,null)}else{if(!("filter"in e))return oe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gF(s,i),a=r.targetId;n=new kC(a,o)}}return n}function CF(t,e){let n;if(e instanceof Jc)n={update:X_(t,e.key,e.value)};else if(e instanceof Sy)n={delete:Cg(t,e.key)};else if(e instanceof ni)n={update:X_(t,e.key,e.data),updateMask:MF(e.fieldMask)};else{if(!(e instanceof fF))return oe(16599,{ft:e.type});n={verify:Cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _h)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw oe(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:TF(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe(27497)}(t,e.precondition)),n}function NF(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?dr(s.updateTime):dr(i);return o.isEqual(le.min())&&(o=dr(i)),new uF(o,s.transformResults||[])}(n,e))):[]}function AF(t,e){return{documents:[MC(t,e.path)]}}function RF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MC(t,s);const i=function(d){if(d.length!==0)return FC(Gn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(f){return{field:oo(f.field),direction:jF(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Sg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function PF(t){let e=SF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=VC(p);return f instanceof Gn&&pC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(S){return new Tc(ao(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,pf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,x=p.values||[];return new xh(x,f)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const f=!p.before,x=p.values||[];return new xh(x,f)}(n.endAt)),Y3(e,s,o,i,a,"F",l,d)}function kF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ao(n.unaryFilter.field);return at.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ao(n.unaryFilter.field);return at.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ao(n.unaryFilter.field);return at.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ao(n.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return oe(61313);default:return oe(60726)}}(t):t.fieldFilter!==void 0?function(n){return at.create(ao(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return oe(58110);default:return oe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(r=>VC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe(1026)}}(n.compositeFilter.op))}(t):oe(30097,{filter:t})}function jF(t){return xF[t]}function DF(t){return _F[t]}function OF(t){return EF[t]}function oo(t){return{fieldPath:t.canonicalString()}}function ao(t){return Et.fromServerFormat(t.fieldPath)}function FC(t){return t instanceof at?function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(L_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(L_(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:DF(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const r=n.getFilters().map(s=>FC(s));return r.length===1?r[0]:{compositeFilter:{op:OF(n.op),filters:r}}}(t):oe(54877,{filter:t})}function MF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,s,i=le.min(),o=le.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e){this.wt=e}}function VF(t){const e=PF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(){this.Cn=new UF}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Hs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class UF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ft($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ft($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$C=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt($C,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new pa(0)}static lr(){return new pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="LruGarbageCollector",$F=1048576;function e1([t,e],[n,r]){const s=pe(t,n);return s===0?pe(e,r):s}class BF{constructor(e){this.Er=e,this.buffer=new ft(e1),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();e1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){K(Z_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pa(n)?K(Z_,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.mr(3e5)})}}class HF{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(ff.le);const r=new BF(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(J_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(d=Date.now(),so()<=we.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${p} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function WF(t,e){return new HF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Hl(r.mutation,s,fn.empty(),ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Sl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ur();const o=zl(),a=function(){return zl()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ni)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Hl(h.mutation,d,h.mutation.getFieldMask(),ht.now())):o.set(d.key,fn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var p;return a.set(d,new GF(h,(p=o.get(d))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=zl();let s=new Qe((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||fn.empty();h=a.applyToLocalView(d,h),r.set(l,h);const p=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,p=bC();h.forEach(f=>{if(!i.has(f)){const x=AC(n.get(f),r.get(f));x!==null&&p.set(f,x),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(xi());let a=xc,l=i;return o.next(d=>U.forEach(d,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,xe())).next(h=>({batchId:a,changes:EC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Sl();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,l=>{const d=function(p,f){return new ka(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Mt.newInvalidDocument(h)))});let a=Sl();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Hl(h.mutation,d,fn.empty(),ht.now()),vf(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return U.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:dr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:VF(s.bundledQuery),readTime:dr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.overlays=new Qe(se.comparator),this.Qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=xi(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=xi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=xi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mF(n,r));let i=this.Qr.get(n);i===void 0&&(i=xe(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(){this.$r=new ft(pt.Ur),this.Kr=new ft(pt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new pt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new pt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new se(new $e([])),r=new pt(n,e),s=new pt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new se(new $e([])),r=new pt(n,e),s=new pt(n,e+1);let i=xe();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new pt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return se.comparator(e.key,n.key)||pe(e.Zr,n.Zr)}static Wr(e,n){return pe(e.Zr,n.Zr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new ft(pt.Ur)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pF(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Xr=this.Xr.add(new pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?yy:this.nr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pt(n,0),s=new pt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const a=this.ei(o.Zr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(pe);return n.forEach(s=>{const i=new pt(s,0),o=new pt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],a=>{r=r.add(a.Zr)})}),U.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new pt(new se(i),0);let a=new ft(pe);return this.Xr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Zr)),!0)},o),U.resolve(this.ni(a))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return U.forEach(n.mutations,s=>{const i=new pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new pt(n,0),s=this.Xr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.ii=e,this.docs=function(){return new Qe(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Ur();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ur();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||A3(N3(h),r)<=0||(s.has(h.key)||vf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe(9500)}si(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new e6(this)}getSize(e){return U.resolve(this.size)}}class e6 extends qF{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e){this.persistence=e,this.oi=new qi(n=>_y(n),Ey),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this._i=0,this.ai=new Ay,this.targetCount=0,this.ui=pa.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),U.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new pa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Tr(n),U.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.ci={},this.overlays={},this.li=new ff(0),this.hi=!1,this.hi=!0,this.Pi=new XF,this.referenceDelegate=e(this),this.Ti=new t6(this),this.indexManager=new FF,this.remoteDocumentCache=function(s){return new ZF(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new LF(n),this.Ei=new QF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new JF(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const s=new n6(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return U.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class n6 extends P3{constructor(e){super(),this.currentSequenceNumber=e}}class Ry{constructor(e){this.persistence=e,this.Vi=new Ay,this.mi=null}static fi(e){return new Ry(e)}get gi(){if(this.mi)return this.mi;throw oe(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.gi,r=>{const s=se.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,le.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return U.or([()=>U.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.yi=new qi(r=>D3(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=WF(this,n)}static fi(e,n){return new bh(e,n)}di(){}Ai(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return U.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,le.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),U.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Td(e.data.value)),n}Dr(e,n,r){return U.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Py(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return JL()?8:k3(Ft())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new r6;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.fs)return this.Ds(e,n,o,a.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(so()<=we.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),U.resolve()):(so()<=we.DEBUG&&K("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(so()<=we.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(n))):U.resolve())}ws(e,n){if(B_(n))return U.resolve(null);let r=ur(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tg(n,null,"F"),r=ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.ys.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.vs(n,a);return this.Cs(n,d,o,l.readTime)?this.ws(e,Tg(n,null,"F")):this.Fs(e,d,n,l)}))})))}bs(e,n,r,s){return B_(n)||s.isEqual(le.min())?U.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(so()<=we.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),io(n)),this.Fs(e,o,n,C3(s,xc)).next(a=>a))})}vs(e,n){let r=new ft(xC(e));return n.forEach((s,i)=>{vf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return so()<=we.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",io(n)),this.ys.getDocumentsMatchingQuery(e,n,Hs.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="LocalStore",i6=3e8;class o6{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Qe(pe),this.Os=new qi(i=>_y(i),Ey),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KF(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function a6(t,e,n,r){return new o6(t,e,n,r)}async function zC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=xe();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:a}))})})}function l6(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const p=d.batch,f=p.keys();let x=U.resolve();return f.forEach(S=>{x=x.next(()=>h.getEntry(l,S)).next(v=>{const b=d.docVersions.get(S);Re(b!==null,48541),v.version.compareTo(b)<0&&(p.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function c6(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.Ti.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(i,h.addedDocuments,p)));let x=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?x=x.withResumeToken(St.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),s=s.insert(p,x),function(v,b,E){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=i6?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(f,x,h)&&a.push(n.Ti.updateTargetData(i,x))});let l=Ur(),d=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(u6(i,o,e.documentUpdates).next(h=>{l=h.qs,d=h.Qs})),!r.isEqual(le.min())){const h=n.Ti.getLastRemoteSnapshotVersion(i).next(p=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.xs=s,i))}function u6(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ur();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K(ky,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{qs:o,Qs:s}})}function d6(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=yy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function h6(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new _s(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Ag(t,e,n){const r=ue(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pa(o))throw o;K(ky,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function t1(t,e,n){const r=ue(t);let s=le.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const p=ue(l),f=p.Os.get(h);return f!==void 0?U.resolve(p.xs.get(f)):p.Ti.getTargetData(d,h)}(r,o,ur(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:le.min(),n?i:xe())).next(a=>(f6(r,J3(e),a),{documents:a,$s:i})))}function f6(t,e,n){let r=t.Ns.get(e)||le.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class n1{constructor(){this.activeTargetIds=sF()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class p6{constructor(){this.xo=new n1,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new n1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="ConnectivityMonitor";class s1{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){K(r1,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){K(r1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd=null;function Rg(){return rd===null?rd=function(){return 268435456+Math.round(2147483648*Math.random())}():rd++,"0x"+rd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RestConnection",g6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===yh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Rg(),a=this.jo(e,n.toUriEncodedString());K(qp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(l,s,i);const{host:d}=new URL(a),h=Ca(d);return this.Jo(e,a,l,r,h).then(p=>(K(qp,`Received RPC '${e}' ${o}: `,p),p),p=>{throw ua(qp,`RPC '${e}' ${o} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=g6[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt="WebChannelConnection";class w6 extends v6{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Rg();return new Promise((a,l)=>{const d=new qI;d.setWithCredentials(!0),d.listenOnce(GI.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bd.NO_ERROR:const p=d.getResponseJson();K(kt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),a(p);break;case bd.TIMEOUT:K(kt,`RPC '${e}' ${o} timed out`),l(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const f=d.getStatus();if(K(kt,`RPC '${e}' ${o} failed with status:`,f,"response text:",d.getResponseText()),f>0){let x=d.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const v=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(S.status);l(new Q(v,S.message))}else l(new Q(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new Q(F.UNAVAILABLE,"Connection failed."));break;default:oe(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{K(kt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);K(kt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}I_(e,n,r){const s=Rg(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YI(),a=QI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");K(kt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);this.E_(p);let f=!1,x=!1;const S=new y6({Zo:b=>{x?K(kt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(f||(K(kt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),K(kt,`RPC '${e}' stream ${s} sending:`,b),p.send(b))},Xo:()=>p.close()}),v=(b,E,w)=>{b.listen(E,T=>{try{w(T)}catch(R){setTimeout(()=>{throw R},0)}})};return v(p,Tl.EventType.OPEN,()=>{x||(K(kt,`RPC '${e}' stream ${s} transport opened.`),S.__())}),v(p,Tl.EventType.CLOSE,()=>{x||(x=!0,K(kt,`RPC '${e}' stream ${s} transport closed`),S.u_(),this.d_(p))}),v(p,Tl.EventType.ERROR,b=>{x||(x=!0,ua(kt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),S.u_(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),v(p,Tl.EventType.MESSAGE,b=>{var E;if(!x){const w=b.data[0];Re(!!w,16349);const T=w,R=(T==null?void 0:T.error)||((E=T[0])===null||E===void 0?void 0:E.error);if(R){K(kt,`RPC '${e}' stream ${s} received error:`,R);const D=R.status;let O=function(_){const A=it[_];if(A!==void 0)return PC(A)}(D),I=R.message;O===void 0&&(O=F.INTERNAL,I="Unknown error status: "+D+" with message "+R.message),x=!0,S.u_(new Q(O,I)),p.close()}else K(kt,`RPC '${e}' stream ${s} received:`,w),S.c_(w)}}),v(a,KI.STAT_EVENT,b=>{b.stat===vg.PROXY?K(kt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===vg.NOPROXY&&K(kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){return new bF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&K("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="PersistentStream";class qC{constructor(e,n,r,s,i,o,a,l){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new WC(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Fr(n.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return K(i1,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(K(i1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x6 extends qC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=IF(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?dr(o.readTime):le.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Ng(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Eg(l)?{documents:AF(i,l)}:{query:RF(i,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DC(i,o.resumeToken);const d=Sg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(le.min())>0){a.readTime=Eh(i,o.snapshotVersion.toTimestamp());const d=Sg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=kF(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Ng(this.serializer),n.removeTarget=e,this.Q_(n)}}class _6 extends qC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=NF(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Ng(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CF(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{}class b6 extends E6{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Ig(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(F.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Yo(e,Ig(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class T6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fr(n),this.ua=!1):K("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="RemoteStore";class S6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{Gi(this)&&(K(Vi,"Restarting streams for network reachability change."),await async function(l){const d=ue(l);d.da.add(4),await eu(d),d.Va.set("Unknown"),d.da.delete(4),await Ef(d)}(this))})}),this.Va=new T6(r,s)}}async function Ef(t){if(Gi(t))for(const e of t.Aa)await e(!0)}async function eu(t){for(const e of t.Aa)await e(!1)}function GC(t,e){const n=ue(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),My(n)?Oy(n):ja(n).N_()&&Dy(n,e))}function jy(t,e){const n=ue(t),r=ja(n);n.Ea.delete(e),r.N_()&&KC(n,e),n.Ea.size===0&&(r.N_()?r.k_():Gi(n)&&n.Va.set("Unknown"))}function Dy(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).Z_(e)}function KC(t,e){t.ma.Ke(e),ja(t).X_(e)}function Oy(t){t.ma=new wF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.Va.ca()}function My(t){return Gi(t)&&!ja(t).O_()&&t.Ea.size>0}function Gi(t){return ue(t).da.size===0}function QC(t){t.ma=void 0}async function I6(t){t.Va.set("Online")}async function C6(t){t.Ea.forEach((e,n)=>{Dy(t,e)})}async function N6(t,e){QC(t),My(t)?(t.Va.Pa(e),Oy(t)):t.Va.set("Unknown")}async function A6(t,e,n){if(t.Va.set("Online"),e instanceof jC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ea.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ea.delete(a),s.ma.removeTarget(a))}(t,e)}catch(r){K(Vi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(t,r)}else if(e instanceof Cd?t.ma.Xe(e):e instanceof kC?t.ma.ot(e):t.ma.nt(e),!n.isEqual(le.min()))try{const r=await HC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.ma.It(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ea.get(d);h&&i.Ea.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ea.get(l);if(!h)return;i.Ea.set(l,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),KC(i,l);const p=new _s(h.target,l,d,h.sequenceNumber);Dy(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K(Vi,"Failed to raise snapshot:",r),await Th(t,r)}}async function Th(t,e,n){if(!Pa(e))throw e;t.da.add(1),await eu(t),t.Va.set("Offline"),n||(n=()=>HC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Vi,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Ef(t)})}function YC(t,e){return e().catch(n=>Th(t,n,e))}async function bf(t){const e=ue(t),n=Ks(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:yy;for(;R6(e);)try{const s=await d6(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,P6(e,s)}catch(s){await Th(e,s)}XC(e)&&JC(e)}function R6(t){return Gi(t)&&t.Ia.length<10}function P6(t,e){t.Ia.push(e);const n=Ks(t);n.N_()&&n.ea&&n.ta(e.mutations)}function XC(t){return Gi(t)&&!Ks(t).O_()&&t.Ia.length>0}function JC(t){Ks(t).start()}async function k6(t){Ks(t).ia()}async function j6(t){const e=Ks(t);for(const n of t.Ia)e.ta(n.mutations)}async function D6(t,e,n){const r=t.Ia.shift(),s=Iy.from(r,e,n);await YC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bf(t)}async function O6(t,e){e&&Ks(t).ea&&await async function(r,s){if(function(o){return vF(o)&&o!==F.ABORTED}(s.code)){const i=r.Ia.shift();Ks(r).L_(),await YC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bf(r)}}(t,e),XC(t)&&JC(t)}async function o1(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),K(Vi,"RemoteStore received new credentials");const r=Gi(n);n.da.add(3),await eu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Ef(n)}async function M6(t,e){const n=ue(t);e?(n.da.delete(2),await Ef(n)):e||(n.da.add(2),await eu(n),n.Va.set("Unknown"))}function ja(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.oa(),new x6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:I6.bind(null,t),n_:C6.bind(null,t),i_:N6.bind(null,t),Y_:A6.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),My(t)?Oy(t):t.Va.set("Unknown")):(await t.fa.stop(),QC(t))})),t.fa}function Ks(t){return t.ga||(t.ga=function(n,r,s){const i=ue(n);return i.oa(),new _6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:k6.bind(null,t),i_:O6.bind(null,t),na:j6.bind(null,t),ra:D6.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await bf(t)):(await t.ga.stop(),t.Ia.length>0&&(K(Vi,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ly(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(t,e){if(Fr("AsyncQueue",`${e}: ${t}`),Pa(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{static emptySet(e){return new jo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Sl(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.pa=new Qe(se.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):oe(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class ma{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ma(e,n,jo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class V6{constructor(){this.queries=l1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=l1(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}}function l1(){return new qi(t=>wC(t),gf)}async function ZC(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new L6,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Vy(o,`Initialization of query '${io(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&Fy(n)}async function eN(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function F6(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Ma(s)&&(r=!0);o.ba=s}}r&&Fy(n)}function U6(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Fy(t){t.Ca.forEach(e=>{e.next()})}var Pg,c1;(c1=Pg||(Pg={})).xa="default",c1.Cache="cache";class tN{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ma(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.key=e}}class rN{constructor(e){this.key=e}}class $6{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xe(),this.mutatedKeys=xe(),this.Za=xC(e),this.Xa=new jo(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new a1,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),x=vf(this.query,p)?p:null,S=!!f&&this.mutatedKeys.has(f.key),v=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;f&&x?f.data.isEqual(x.data)?S!==v&&(r.track({type:3,doc:x}),b=!0):this.ru(f,x)||(r.track({type:2,doc:x}),b=!0,(l&&this.Za(x,l)>0||d&&this.Za(x,d)<0)&&(a=!0)):!f&&x?(r.track({type:0,doc:x}),b=!0):f&&!x&&(r.track({type:1,doc:f}),b=!0,(l||d)&&(a=!0)),b&&(x?(o=o.add(x),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Xa:o,nu:r,Cs:a,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((h,p)=>function(x,S){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe(20277,{Vt:b})}};return v(x)-v(S)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),s=s!=null&&s;const a=n&&!s?this.su():[],l=this.Ya.size===0&&this.current&&!s?1:0,d=l!==this.Ja;return this.Ja=l,o.length!==0||d?{snapshot:new ma(this.query,e.Xa,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new a1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=xe(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new rN(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new nN(r))}),n}au(e){this.Ha=e.$s,this.Ya=xe();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ma.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Uy="SyncEngine";class B6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class z6{constructor(e){this.key=e,this.cu=!1}}class H6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new qi(a=>wC(a),gf),this.Pu=new Map,this.Tu=new Set,this.Iu=new Qe(se.comparator),this.Eu=new Map,this.du=new Ay,this.Au={},this.Ru=new Map,this.Vu=pa.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function W6(t,e,n=!0){const r=cN(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await sN(r,e,n,!0),s}async function q6(t,e){const n=cN(t);await sN(n,e,!0,!1)}async function sN(t,e,n,r){const s=await h6(t.localStore,ur(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await G6(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&GC(t.remoteStore,s),a}async function G6(t,e,n,r,s){t.fu=(p,f,x)=>async function(v,b,E,w){let T=b.view.tu(E);T.Cs&&(T=await t1(v.localStore,b.query,!1).then(({documents:I})=>b.view.tu(I,T)));const R=w&&w.targetChanges.get(b.targetId),D=w&&w.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(T,v.isPrimaryClient,R,D);return d1(v,b.targetId,O.ou),O.snapshot}(t,p,f,x);const i=await t1(t.localStore,e,!0),o=new $6(e,i.$s),a=o.tu(i.documents),l=Zc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);d1(t,n,d.ou);const h=new B6(e,n,o);return t.hu.set(e,h),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function K6(t,e,n){const r=ue(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!gf(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ag(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jy(r.remoteStore,s.targetId),kg(r,s.targetId)}).catch(Ra)):(kg(r,s.targetId),await Ag(r.localStore,s.targetId,!0))}async function Q6(t,e){const n=ue(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jy(n.remoteStore,r.targetId))}async function Y6(t,e,n){const r=r5(t);try{const s=await function(o,a){const l=ue(o),d=ht.now(),h=a.reduce((x,S)=>x.add(S.key),xe());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=Ur(),v=xe();return l.Bs.getEntries(x,h).next(b=>{S=b,S.forEach((E,w)=>{w.isValidDocument()||(v=v.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(x,S)).next(b=>{p=b;const E=[];for(const w of a){const T=hF(w,p.get(w.key).overlayedDocument);T!=null&&E.push(new ni(w.key,T,dC(T.value.mapValue),zn.exists(!0)))}return l.mutationQueue.addMutationBatch(x,d,E,a)}).next(b=>{f=b;const E=b.applyToLocalDocumentSet(p,v);return l.documentOverlayCache.saveOverlays(x,b.batchId,E)})}).then(()=>({batchId:f.batchId,changes:EC(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Au[o.currentUser.toKey()];d||(d=new Qe(pe)),d=d.insert(a,l),o.Au[o.currentUser.toKey()]=d}(r,s.batchId,n),await tu(r,s.changes),await bf(r.remoteStore)}catch(s){const i=Vy(s,"Failed to persist write");n.reject(i)}}async function iN(t,e){const n=ue(t);try{const r=await c6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?Re(o.cu,14607):s.removedDocuments.size>0&&(Re(o.cu,42227),o.cu=!1))}),await tu(n,r,e)}catch(r){await Ra(r)}}function u1(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const a=o.view.Fa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let d=!1;l.queries.forEach((h,p)=>{for(const f of p.Sa)f.Fa(a)&&(d=!0)}),d&&Fy(l)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X6(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Qe(se.comparator);o=o.insert(i,Mt.newNoDocument(i,le.min()));const a=xe().add(i),l=new xf(le.min(),new Map,new Qe(pe),o,a);await iN(r,l),r.Iu=r.Iu.remove(i),r.Eu.delete(e),$y(r)}else await Ag(r.localStore,e,!1).then(()=>kg(r,e,n)).catch(Ra)}async function J6(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await l6(n.localStore,e);aN(n,r,null),oN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,s)}catch(s){await Ra(s)}}async function Z6(t,e,n){const r=ue(t);try{const s=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(p=>(Re(p!==null,37113),h=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);aN(r,e,n),oN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,s)}catch(s){await Ra(s)}}function oN(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function aN(t,e,n){const r=ue(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||lN(t,r)})}function lN(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(jy(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),$y(t))}function d1(t,e,n){for(const r of n)r instanceof nN?(t.du.addReference(r.key,e),e5(t,r)):r instanceof rN?(K(Uy,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||lN(t,r.key)):oe(19791,{pu:r})}function e5(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(K(Uy,"New document in limbo: "+n),t.Tu.add(r),$y(t))}function $y(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new se($e.fromString(e)),r=t.Vu.next();t.Eu.set(r,new z6(n)),t.Iu=t.Iu.insert(n,r),GC(t.remoteStore,new _s(ur(by(n.path)),r,"TargetPurposeLimboResolution",ff.le))}}async function tu(t,e,n){const r=ue(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((a,l)=>{o.push(r.fu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(d){s.push(d);const p=Py.Rs(l.targetId,d);i.push(p)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(l,d){const h=ue(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(d,f=>U.forEach(f.ds,x=>h.persistence.referenceDelegate.addReference(p,f.targetId,x)).next(()=>U.forEach(f.As,x=>h.persistence.referenceDelegate.removeReference(p,f.targetId,x)))))}catch(p){if(!Pa(p))throw p;K(ky,"Failed to update sequence numbers: "+p)}for(const p of d){const f=p.targetId;if(!p.fromCache){const x=h.xs.get(f),S=x.snapshotVersion,v=x.withLastLimboFreeSnapshotVersion(S);h.xs=h.xs.insert(f,v)}}}(r.localStore,i))}async function t5(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){K(Uy,"User change. New user:",e.toKey());const r=await zC(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(a=>{a.forEach(l=>{l.reject(new Q(F.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.ks)}}function n5(t,e){const n=ue(t),r=n.Eu.get(e);if(r&&r.cu)return xe().add(r.key);{let s=xe();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const a=n.hu.get(o);s=s.unionWith(a.view.eu)}return s}}function cN(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X6.bind(null,e),e.lu.Y_=F6.bind(null,e.eventManager),e.lu.gu=U6.bind(null,e.eventManager),e}function r5(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z6.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return a6(this.persistence,new s6,e.initialUser,this.serializer)}Su(e){return new BC(Ry.fi,this.serializer)}bu(e){return new p6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class s5 extends Sh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Re(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zF(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new BC(r=>bh.fi(r,n),this.serializer)}}class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t5.bind(null,this.syncEngine),await M6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V6}()}createDatastore(e){const n=_f(e.databaseInfo.databaseId),r=function(i){return new w6(i)}(e.databaseInfo);return function(i,o,a,l){return new b6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new S6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u1(this.syncEngine,n,0),function(){return s1.C()?new s1:new m6}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const p=new H6(s,i,o,a,l,d);return h&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);K(Vi,"RemoteStore shutting down."),i.da.add(5),await eu(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="FirestoreClient";class i5{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=eC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{K(Qs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K(Qs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kp(t,e){t.asyncQueue.verifyOperationInProgress(),K(Qs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function h1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await o5(t);K(Qs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>o1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>o1(e.remoteStore,s)),t._onlineComponents=e}async function o5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Qs,"Using user provided OfflineComponentProvider");try{await Kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await Kp(t,new Sh)}}else K(Qs,"Using default OfflineComponentProvider"),await Kp(t,new s5(void 0));return t._offlineComponents}async function dN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Qs,"Using user provided OnlineComponentProvider"),await h1(t,t._uninitializedComponentsProvider._online)):(K(Qs,"Using default OnlineComponentProvider"),await h1(t,new jg))),t._onlineComponents}function a5(t){return dN(t).then(e=>e.syncEngine)}async function hN(t){const e=await dN(t),n=e.eventManager;return n.onListen=W6.bind(null,e.syncEngine),n.onUnlisten=K6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q6.bind(null,e.syncEngine),n}function l5(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new uN({next:f=>{h.xu(),o.enqueueAndForget(()=>eN(i,p));const x=f.docs.has(a);!x&&f.fromCache?d.reject(new Q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&f.fromCache&&l&&l.source==="server"?d.reject(new Q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),p=new tN(by(a.path),h,{includeMetadataChanges:!0,Qa:!0});return ZC(i,p)}(await hN(t),t.asyncQueue,e,n,r)),r.promise}function c5(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new uN({next:f=>{h.xu(),o.enqueueAndForget(()=>eN(i,p)),f.fromCache&&l.source==="server"?d.reject(new Q(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),p=new tN(a,h,{includeMetadataChanges:!0,Qa:!0});return ZC(i,p)}(await hN(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function u5(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function p1(t){if(!se.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function m1(t){if(se.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe(12329,{type:typeof t})}function $r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN="firestore.googleapis.com",g1=!0;class v1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mN,this.ssl=g1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:g1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$C;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$F)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}u5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y3;switch(r.type){case"firstParty":return new E3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=f1.get(n);r&&(K("ComponentProvider","Removing Datastore"),f1.delete(n),r.terminate())}(this),Promise.resolve()}}function d5(t,e,n,r={}){var s;t=$r(t,Sf);const i=Ca(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(LI(`https://${l}`),VI("Firestore",!0)),o.host!==mN&&o.host!==l&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!Oi(d,a)&&(t._setSettings(d),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Dt.MOCK_USER;else{h=zL(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Dt(f)}t._authCredentials=new w3(new JI(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ki(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Os extends Ki{constructor(e,n,r){super(e,n,by(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new se(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function ga(t,e,...n){if(t=vt(t),pN("collection","path",e),t instanceof Sf){const r=$e.fromString(e,...n);return m1(r),new Os(t,null,r)}{if(!(t instanceof rn||t instanceof Os))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return m1(r),new Os(t.firestore,null,r)}}function ri(t,e,...n){if(t=vt(t),arguments.length===1&&(e=eC.newId()),pN("doc","path",e),t instanceof Sf){const r=$e.fromString(e,...n);return p1(r),new rn(t,null,new se(r))}{if(!(t instanceof rn||t instanceof Os))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return p1(r),new rn(t.firestore,t instanceof Os?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="AsyncQueue";class w1{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new WC(this,"async_queue_retry"),this.rc=()=>{const r=Gp();r&&K(y1,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Pr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Pa(e))throw e;K(y1,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Fr("INTERNAL UNHANDLED ERROR: ",x1(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Ly.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&oe(47125,{cc:x1(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function x1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Da extends Sf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new w1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w1(e),this._firestoreClient=void 0,await e}}}function h5(t,e){const n=typeof t=="object"?t:BI(),r=typeof t=="string"?t:yh,s=gy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=$L("firestore");i&&d5(s,...i)}return s}function By(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f5(t),t._firestoreClient}function f5(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,d,h){return new L3(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new i5(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(St.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new va(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5=/^__.*__$/;class m5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ni(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class gN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ni(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe(40011,{Ic:t})}}class Wy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Wy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ih(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(vN(this.Ic)&&p5.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class g5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_f(e)}bc(e,n,r,s=!1){return new Wy({Ic:e,methodName:n,wc:r,path:Et.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qy(t){const e=t._freezeSettings(),n=_f(t._databaseId);return new g5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function v5(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);Ky("Data must be an object, but it was:",o,r);const a=yN(r,o);let l,d;if(i.merge)l=new fn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=Dg(e,p,n);if(!o.contains(f))throw new Q(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xN(h,f)||h.push(f)}l=new fn(h),d=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=o.fieldTransforms;return new m5(new Jt(a),l,d)}class Nf extends Cf{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}class Gy extends Cf{_toFieldTransform(e){return new lF(e.path,new Sc)}isEqual(e){return e instanceof Gy}}function y5(t,e,n,r){const s=t.bc(1,e,n);Ky("Data must be an object, but it was:",s,r);const i=[],o=Jt.empty();ti(r,(l,d)=>{const h=Qy(e,l,n);d=vt(d);const p=s.mc(h);if(d instanceof Nf)i.push(h);else{const f=nu(d,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new fn(i);return new gN(o,a,s.fieldTransforms)}function w5(t,e,n,r,s,i){const o=t.bc(1,e,n),a=[Dg(e,r,n)],l=[s];if(i.length%2!=0)throw new Q(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Dg(e,i[f])),l.push(i[f+1]);const d=[],h=Jt.empty();for(let f=a.length-1;f>=0;--f)if(!xN(d,a[f])){const x=a[f];let S=l[f];S=vt(S);const v=o.mc(x);if(S instanceof Nf)d.push(x);else{const b=nu(S,v);b!=null&&(d.push(x),h.set(x,b))}}const p=new fn(d);return new gN(h,p,o.fieldTransforms)}function x5(t,e,n,r=!1){return nu(n,t.bc(r?4:3,e))}function nu(t,e){if(wN(t=vt(t)))return Ky("Unsupported field value:",e,t),yN(t,e);if(t instanceof Cf)return function(r,s){if(!vN(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=nu(a,s.fc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iF(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ht.fromDate(r);return{timestampValue:Eh(s.serializer,i)}}if(r instanceof ht){const i=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Eh(s.serializer,i)}}if(r instanceof zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof va)return{bytesValue:DC(s.serializer,r._byteString)};if(r instanceof rn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ny(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Hy)return function(o,a){return{mapValue:{fields:{[lC]:{stringValue:uC},[wh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.gc("VectorValues must only contain numeric values.");return Ty(a.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Tf(r)}`)}(t,e)}function yN(t,e){const n={};return nC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,(r,s)=>{const i=nu(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function wN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof zy||t instanceof va||t instanceof rn||t instanceof Cf||t instanceof Hy)}function Ky(t,e,n){if(!wN(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Tf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Dg(t,e,n){if((e=vt(e))instanceof If)return e._internalPath;if(typeof e=="string")return Qy(t,e);throw Ih("Field path arguments must be of type string or ",t,!1,void 0,n)}const _5=new RegExp("[~\\*/\\[\\]]");function Qy(t,e,n){if(e.search(_5)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new If(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ih(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Q(F.INVALID_ARGUMENT,a+t+l)}function xN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E5 extends _N{data(){return super.data()}}function Yy(t,e){return typeof e=="string"?Qy(t,e):e instanceof If?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class EN extends Xy{}function Jy(t,e,...n){let r=[];e instanceof Xy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof e0).length,a=i.filter(l=>l instanceof Zy).length;if(o>1||o>0&&a>0)throw new Q(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Zy extends EN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zy(e,n,r)}_apply(e){const n=this._parse(e);return bN(e._query,n),new Ki(e.firestore,e.converter,bg(e._query,n))}_parse(e){const n=qy(e.firestore);return function(i,o,a,l,d,h,p){let f;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){E1(p,h);const S=[];for(const v of p)S.push(_1(l,i,v));f={arrayValue:{values:S}}}else f=_1(l,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||E1(p,h),f=x5(a,o,p,h==="in"||h==="not-in");return at.create(d,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class e0 extends Xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Gn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)bN(o,l),o=bg(o,l)}(e._query,n),new Ki(e.firestore,e.converter,bg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t0 extends EN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(i,o)}(e._query,this._field,this._direction);return new Ki(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ka(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function n0(t,e="asc"){const n=e,r=Yy("orderBy",t);return t0._create(r,n)}function _1(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new Q(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yC(e)&&n.indexOf("/")!==-1)throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!se.isDocumentKey(r))throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return M_(t,new se(r))}if(n instanceof rn)return M_(t,n._key);throw new Q(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function E1(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bN(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T5{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ti(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[wh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>et(o.doubleValue));return new Hy(i)}convertGeoPoint(e){return new zy(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Re(UC(r),9688,{name:e});const s=new Ec(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Fr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TN extends _N{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nd extends TN{data(e={}){return super.data(e)}}class I5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Cl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nd(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Nd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Cl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Nd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Cl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:C5(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function C5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){t=$r(t,rn);const e=$r(t.firestore,Da);return l5(By(e),t._key).then(n=>N5(e,t,n))}class IN extends T5{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function r0(t){t=$r(t,Ki);const e=$r(t.firestore,Da),n=By(e),r=new IN(e);return b5(t._query),c5(n,t._query).then(s=>new I5(e,r,t,s))}function CN(t,e,n,...r){t=$r(t,rn);const s=$r(t.firestore,Da),i=qy(s);let o;return o=typeof(e=vt(e))=="string"||e instanceof If?w5(i,"updateDoc",t._key,e,n,r):y5(i,"updateDoc",t._key,e),o0(s,[o.toMutation(t._key,zn.exists(!0))])}function s0(t){return o0($r(t.firestore,Da),[new Sy(t._key,zn.none())])}function i0(t,e){const n=$r(t.firestore,Da),r=ri(t),s=S5(t.converter,e);return o0(n,[v5(qy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function o0(t,e){return function(r,s){const i=new Pr;return r.asyncQueue.enqueueAndForget(async()=>Y6(await a5(r),s,i)),i.promise}(By(t),e)}function N5(t,e,n){const r=n.docs.get(e._key),s=new IN(t);return new TN(t,s,e._key,r,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}function Ch(){return new Gy("serverTimestamp")}(function(e,n=!0){(function(s){Aa=s})(Na),ca(new Mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Da(new x3(r.getProvider("auth-internal")),new b3(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),js(T_,S_,e),js(T_,S_,"esm2017")})();function NN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A5=NN,AN=new Yc("auth","Firebase",NN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new py("@firebase/auth");function R5(t,...e){Nh.logLevel<=we.WARN&&Nh.warn(`Auth (${Na}): ${t}`,...e)}function Ad(t,...e){Nh.logLevel<=we.ERROR&&Nh.error(`Auth (${Na}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw a0(t,...e)}function hr(t,...e){return a0(t,...e)}function RN(t,e,n){const r=Object.assign(Object.assign({},A5()),{[e]:n});return new Yc("auth","Firebase",r).create(e,{appName:t.name})}function Ms(t){return RN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function a0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AN.create(t,...e)}function ie(t,e,...n){if(!t)throw a0(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ad(e),new Error(e)}function Br(t,e){t||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function P5(){return b1()==="http:"||b1()==="https:"}function b1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P5()||QL()||"connection"in navigator)?navigator.onLine:!0}function j5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=qL()||YL()}get(){return k5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M5=new ru(3e4,6e4);function Qi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function si(t,e,n,r,s={}){return kN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Xc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return KL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(d.credentials="include"),PN.fetch()(await jN(t,t.config.apiHost,n,a),d)})}async function kN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},D5),e);try{const s=new V5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw RN(t,h,d);Kn(t,h)}}catch(s){if(s instanceof Hr)throw s;Kn(t,"network-request-failed",{message:String(s)})}}async function Af(t,e,n,r,s={}){const i=await si(t,e,n,r,s);return"mfaPendingCredential"in i&&Kn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function jN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?l0(t.config,s):`${t.config.apiScheme}://${s}`;return O5.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function L5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class V5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),M5.get())})}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hr(t,e,r);return s.customData._tokenResponse=n,s}function T1(t){return t!==void 0&&t.enterprise!==void 0}class F5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return L5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U5(t,e){return si(t,"GET","/v2/recaptchaConfig",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function Ah(t,e){return si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B5(t,e=!1){const n=vt(t),r=await n.getIdToken(e),s=c0(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Wl(Qp(s.auth_time)),issuedAtTime:Wl(Qp(s.iat)),expirationTime:Wl(Qp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function c0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const s=jI(n);return s?JSON.parse(s):(Ad("Failed to decode base64 JWT payload"),null)}catch(s){return Ad("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function S1(t){const e=c0(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Hr&&z5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Nc(t,Ah(n,{idToken:r}));ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?DN(i.providerUserInfo):[],a=q5(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Mg(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function W5(t){const e=vt(t);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function DN(t){return t.map(e=>{var{providerId:n}=e,r=Wc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e){const n=await kN(t,{},async()=>{const r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await jN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ca(t.emulatorConfig.host)&&(l.credentials="include"),PN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function K5(t,e){return si(t,"POST","/v2/accounts:revokeToken",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):S1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=S1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await G5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Do;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Wc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new H5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Mg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B5(this,e)}reload(){return W5(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await Nc(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,d,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,S=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(d=n.createdAt)!==null&&d!==void 0?d:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:R,isAnonymous:D,providerData:O,stsTokenManager:I}=n;ie(T&&I,e,"internal-error");const C=Do.fromJSON(this.name,I);ie(typeof T=="string",e,"internal-error"),ts(p,e.name),ts(f,e.name),ie(typeof R=="boolean",e,"internal-error"),ie(typeof D=="boolean",e,"internal-error"),ts(x,e.name),ts(S,e.name),ts(v,e.name),ts(b,e.name),ts(E,e.name),ts(w,e.name);const _=new Un({uid:T,auth:e,email:f,emailVerified:R,displayName:p,isAnonymous:D,photoURL:S,phoneNumber:x,tenantId:v,stsTokenManager:C,createdAt:E,lastLoginAt:w});return O&&Array.isArray(O)&&(_.providerData=O.map(A=>Object.assign({},A))),b&&(_._redirectEventId=b),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Do;s.updateFromServerResponse(n);const i=new Un({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Rh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?DN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Do;a.updateFromIdToken(r);const l=new Un({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=new Map;function Ar(t){Br(t instanceof Function,"Expected a class definition");let e=I1.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,I1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ON.type="NONE";const C1=ON;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){return`firebase:${t}:${e}:${n}`}class Oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Rd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Rd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oo(Ar(C1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ar(C1);const o=Rd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let p;if(typeof h=="string"){const f=await Ah(e,{idToken:h}).catch(()=>{});if(!f)break;p=await Un._fromGetAccountInfoResponse(e,f,h)}else p=Un._fromJSON(e,h);d!==i&&(a=p),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Oo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Oo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(MN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($N(e))return"Blackberry";if(BN(e))return"Webos";if(LN(e))return"Safari";if((e.includes("chrome/")||VN(e))&&!e.includes("edge/"))return"Chrome";if(UN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function MN(t=Ft()){return/firefox\//i.test(t)}function LN(t=Ft()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VN(t=Ft()){return/crios\//i.test(t)}function FN(t=Ft()){return/iemobile/i.test(t)}function UN(t=Ft()){return/android/i.test(t)}function $N(t=Ft()){return/blackberry/i.test(t)}function BN(t=Ft()){return/webos/i.test(t)}function u0(t=Ft()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q5(t=Ft()){var e;return u0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Y5(){return XL()&&document.documentMode===10}function zN(t=Ft()){return u0(t)||UN(t)||BN(t)||$N(t)||/windows phone/i.test(t)||FN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e=[]){let n;switch(t){case"Browser":n=N1(Ft());break;case"Worker":n=`${N1(Ft())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Na}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J5(t,e={}){return si(t,"GET","/v2/passwordPolicy",Qi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=6;class eU{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Z5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A1(this),this.idTokenSubscription=new A1(this),this.beforeStateQueue=new X5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),r=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(Ms(this));const n=e?vt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J5(this),n=new eU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await K5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Oa(t){return vt(t)}class A1{constructor(e){this.auth=e,this.observer=null,this.addObserver=iV(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nU(t){Rf=t}function WN(t){return Rf.loadJS(t)}function rU(){return Rf.recaptchaEnterpriseScript}function sU(){return Rf.gapiScript}function iU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oU{constructor(){this.enterprise=new aU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lU="recaptcha-enterprise",qN="NO_RECAPTCHA";class cU{constructor(e){this.type=lU,this.auth=Oa(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{U5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new F5(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;T1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(qN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&T1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=rU();l.length!==0&&(l+=a),WN(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function R1(t,e,n,r=!1,s=!1){const i=new cU(t);let o;if(s)o=qN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function P1(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await R1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await R1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t,e){const n=gy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Oi(i,e??{}))return s;Kn(s,"already-initialized")}return n.initialize({options:e})}function dU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hU(t,e,n){const r=Oa(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GN(e),{host:o,port:a}=fU(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Oi(d,r.config.emulator)&&Oi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ca(o)?(LI(`${i}//${o}${l}`),VI("Auth",!0)):pU()}function GN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fU(t){const e=GN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:k1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:k1(o)}}}function k1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function mU(t,e){return si(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e){return Af(t,"POST","/v1/accounts:signInWithPassword",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t,e){return Af(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}async function yU(t,e){return Af(t,"POST","/v1/accounts:signInWithEmailLink",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends d0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P1(e,n,"signInWithPassword",gU);case"emailLink":return vU(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P1(e,r,"signUpPassword",mU);case"emailLink":return yU(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e){return Af(t,"POST","/v1/accounts:signInWithIdp",Qi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU="http://localhost";class Fi extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Wc(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Fi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){const e={requestUri:wU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _U(t){const e=El(bl(t)).link,n=e?El(bl(e)).deep_link_id:null,r=El(bl(t)).deep_link_id;return(r?El(bl(r)).link:null)||r||n||e||t}class h0{constructor(e){var n,r,s,i,o,a;const l=El(bl(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,p=xU((s=l.mode)!==null&&s!==void 0?s:null);ie(d&&h&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_U(e);try{return new h0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.providerId=Ma.PROVIDER_ID}static credential(e,n){return Ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=h0.parseLink(n);return ie(r,"argument-error"),Ac._fromEmailAndCode(e,r.code,r.tenantId)}}Ma.PROVIDER_ID="password";Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends KN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends su{constructor(){super("facebook.com")}static credential(e){return Fi._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fi._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return us.credential(n,r)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends su{constructor(){super("github.com")}static credential(e){return Fi._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ds.credential(e.oauthAccessToken)}catch{return null}}}ds.GITHUB_SIGN_IN_METHOD="github.com";ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends su{constructor(){super("twitter.com")}static credential(e,n){return Fi._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return hs.credential(n,r)}catch{return null}}}hs.TWITTER_SIGN_IN_METHOD="twitter.com";hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Un._fromIdTokenResponse(e,r,s),o=j1(r);return new ya({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=j1(r);return new ya({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function j1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Hr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ph(e,n,r,s)}}function QN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,i,e,r):i})}async function EU(t,e,n=!1){const r=await Nc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ya._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e,n=!1){const{auth:r}=t;if(Fn(r.app))return Promise.reject(Ms(r));const s="reauthenticate";try{const i=await Nc(t,QN(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=c0(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),ya._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ms(t));const r="signIn",s=await QN(t,r,e),i=await ya._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function TU(t,e){return YN(Oa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SU(t){const e=Oa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function IU(t,e,n){return Fn(t.app)?Promise.reject(Ms(t)):TU(vt(t),Ma.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SU(t),r})}function CU(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function NU(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function AU(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function RU(t){return vt(t).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1e3,kU=10;class JN extends XN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Y5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kU):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JN.type="LOCAL";const jU=JN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN extends XN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZN.type="SESSION";const eA=ZN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await DU(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=f0("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function MU(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function LU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FU(){return tA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",UU=1,jh="firebaseLocalStorage",rA="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kf(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function $U(){const t=indexedDB.deleteDatabase(nA);return new iu(t).toPromise()}function Lg(){const t=indexedDB.open(nA,UU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jh,{keyPath:rA})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await $U(),e(await Lg()))})})}async function D1(t,e,n){const r=kf(t,!0).put({[rA]:e,value:n});return new iu(r).toPromise()}async function BU(t,e){const n=kf(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function O1(t,e){const n=kf(t,!0).delete(e);return new iu(n).toPromise()}const zU=800,HU=3;class sA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>HU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pf._getInstance(FU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LU(),!this.activeServiceWorker)return;this.sender=new OU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lg();return await D1(e,kh,"1"),await O1(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>BU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>O1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kf(s,!1).getAll();return new iu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sA.type="LOCAL";const WU=sA;new ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t,e){return e?Ar(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0 extends d0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GU(t){return YN(t.auth,new p0(t),t.bypassAuthState)}function KU(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),bU(n,new p0(t),t.bypassAuthState)}async function QU(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),EU(n,new p0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GU;case"linkViaPopup":case"linkViaRedirect":return QU;case"reauthViaPopup":case"reauthViaRedirect":return KU;default:Kn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new ru(2e3,1e4);class _o extends iA{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=f0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YU.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="pendingRedirect",Pd=new Map;class JU extends iA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const r=await ZU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZU(t,e){const n=n9(e),r=t9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function e9(t,e){Pd.set(t._key(),e)}function t9(t){return Ar(t._redirectPersistence)}function n9(t){return Rd(XU,t.config.apiKey,t.name)}async function r9(t,e,n=!1){if(Fn(t.app))return Promise.reject(Ms(t));const r=Oa(t),s=qU(r,e),o=await new JU(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=10*60*1e3;class i9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oA(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s9&&this.cachedEventUids.clear(),this.cachedEventUids.has(M1(e))}saveEventToCache(e){this.cachedEventUids.add(M1(e)),this.lastProcessedEventTime=Date.now()}}function M1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function o9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e={}){return si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c9=/^https?/;async function u9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a9(t);for(const n of e)try{if(d9(n))return}catch{}Kn(t,"unauthorized-domain")}function d9(t){const e=Og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c9.test(n))return!1;if(l9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=new ru(3e4,6e4);function L1(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f9(t){return new Promise((e,n)=>{var r,s,i;function o(){L1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L1(),n(hr(t,"network-request-failed"))},timeout:h9.get()})}if(!((s=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=fr().gapi)===null||i===void 0)&&i.load)o();else{const a=iU("iframefcb");return fr()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},WN(`${sU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw kd=null,e})}let kd=null;function p9(t){return kd=kd||f9(t),kd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new ru(5e3,15e3),g9="__/auth/iframe",v9="emulator/auth/iframe",y9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x9(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?l0(e,v9):`https://${t.config.authDomain}/${g9}`,r={apiKey:e.apiKey,appName:t.name,v:Na},s=w9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Xc(r).slice(1)}`}async function _9(t){const e=await p9(t),n=fr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:x9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=fr().setTimeout(()=>{i(o)},m9.get());function l(){fr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},b9=500,T9=600,S9="_blank",I9="http://localhost";class V1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function C9(t,e,n,r=b9,s=T9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E9),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Ft().toLowerCase();n&&(a=VN(d)?S9:n),MN(d)&&(e=e||I9,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[x,S])=>`${f}${x}=${S},`,"");if(Q5(d)&&a!=="_self")return N9(e||"",a),new V1(null);const p=window.open(e||"",a,h);ie(p,t,"popup-blocked");try{p.focus()}catch{}return new V1(p)}function N9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="__/auth/handler",R9="emulator/auth/handler",P9=encodeURIComponent("fac");async function F1(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Na,eventId:s};if(e instanceof KN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",sV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof su){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${P9}=${encodeURIComponent(l)}`:"";return`${k9(t)}?${Xc(a).slice(1)}${d}`}function k9({config:t}){return t.emulator?l0(t,R9):`https://${t.authDomain}/${A9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class j9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=r9,this._overrideRedirectResult=e9}async _openPopup(e,n,r,s){var i;Br((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await F1(e,n,r,Og(),s);return C9(e,o,f0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await F1(e,n,r,Og(),s);return MU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _9(e),r=new i9(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Yp];o!==void 0&&n(!!o),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zN()||LN()||u0()}}const D9=j9;var U1="@firebase/auth",$1="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L9(t){ca(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HN(t)},d=new tU(r,s,i,l);return dU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ca(new Mi("auth-internal",e=>{const n=Oa(e.getProvider("auth").getImmediate());return(r=>new O9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(U1,$1,M9(t)),js(U1,$1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=5*60,F9=MI("authIdTokenMaxAge")||V9;let B1=null;const U9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>F9)return;const s=n==null?void 0:n.token;B1!==s&&(B1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function $9(t=BI()){const e=gy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uU(t,{popupRedirectResolver:D9,persistence:[WU,jU,eA]}),r=MI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=U9(i.toString());NU(n,o,()=>o(n.currentUser)),CU(n,a=>o(a))}}const s=DI("auth");return s&&hU(n,`http://${s}`),n}function B9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=hr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",B9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L9("Browser");const z1={apiKey:"AIzaSyDB5zgbD0oaCba8o2gKd1XoArMSmKhaPA",authDomain:"ironi-dorot-tiberias.firebaseapp.com",projectId:"ironi-dorot-tiberias",storageBucket:"ironi-dorot-tiberias.firebasestorage.app",messagingSenderId:"448047076729",appId:"1:448047076729:web:0397ce0dd371a5c06ccba8",measurementId:"G-EEQE60DDDV"};let Xp,De,mi;try{z1.apiKey!=="demo-api-key"?(Xp=$I(z1),De=h5(Xp),mi=$9(Xp),console.log("Firebase initialized successfully")):console.warn("Firebase not configured - using demo mode")}catch(t){console.error("Failed to initialize Firebase:",t)}const z9=t=>{const e=t.email||"";let n="user",r="משתמש אורח";return e==="admin@tiberias.com"?(n="admin",r="מנהל מערכת"):e==="editor@tiberias.com"&&(n="editor",r="עורך תוכן"),{uid:t.uid,email:e,role:n,name:r}},H9={"admin@tiberias.com":{password:"admin123",role:"admin",name:"מנהל מערכת",uid:"demo-admin-uid"},"editor@tiberias.com":{password:"editor123",role:"editor",name:"עורך תוכן",uid:"demo-editor-uid"}},ou=()=>{const[t,e]=g.useState(null),[n,r]=g.useState(!0);return g.useEffect(()=>{if(!mi){console.warn("Firebase auth not available - running in demo mode"),r(!1);return}const a=AU(mi,l=>{e(l?z9(l):null),r(!1)});return()=>a()},[]),{user:t,isLoading:n,login:async(a,l)=>{if(!mi){console.log("Using demo authentication");const d=H9[a];if(d&&d.password===l){const h={uid:d.uid,email:a,role:d.role,name:d.name};return e(h),!0}else return console.log("Demo login failed - invalid credentials"),!1}try{return await IU(mi,a,l),!0}catch(d){return console.error("Firebase login error:",d),!1}},logout:async()=>{if(!mi){console.log("Demo logout"),e(null);return}try{await RU(mi)}catch(a){console.error("Firebase logout error:",a)}},hasPermission:a=>{if(!t)return!1;switch(a){case"add_news":case"edit_news":case"add_game":case"edit_game":case"add_video":case"edit_video":return t.role==="admin"||t.role==="editor";case"delete_news":case"delete_game":case"delete_video":return t.role==="admin";case"manage_users":return t.role==="admin";default:return!1}},isAuthenticated:!!t}},W9="/assets/ccb18f9d-a882-4a2b-917a-ec289bf2bdba-D0KwGgkK.png",q9="/assets/8bb54cc5-8f24-41e6-aa2b-c554ae0e0136-Bhdb3F_F.png",H1="/assets/Ironi%20Tiberias-B9tTnOc0.webp",Rn=()=>{const[t,e]=g.useState(!1),n=Ia(),{user:r,logout:s,isAuthenticated:i}=ou(),o=[{name:"עמוד ראשי",href:"/"},{name:"המועדון",href:"/club"},{name:"הקבוצה",href:"/team"},{name:"משחקים",href:"/games"},{name:"TV טבריה",href:"/tv"},{name:"מחלקת הנוער",href:"/youth"}],a=d=>n.pathname===d,l=async()=>{await s(),e(!1)};return c.jsxs("div",{children:[c.jsx("div",{className:"bg-white py-4 border-b",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between md:justify-center md:relative",children:[c.jsx("a",{href:"https://www.go-out.co/event/1749454502160",target:"_blank",rel:"noopener noreferrer",className:"md:absolute md:left-4 md:top-1/2 md:-translate-y-1/2 transition-transform duration-300 hover:scale-105",children:c.jsx(Se,{variant:"secondary",className:"text-white",children:"לרכישת מנוי"})}),c.jsxs("div",{className:"flex items-center justify-end md:justify-center space-x-2 md:space-x-8 space-x-reverse",children:[c.jsx("a",{href:"https://www.facebook.com/groupdorot",target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:W9,alt:"Facebook",className:"h-10 md:h-12 object-contain"})}),c.jsx("a",{href:"https://www.ginosar.co.il/",target:"_blank",rel:"noopener noreferrer",children:c.jsx("img",{src:q9,alt:"YouTube",className:"h-10 md:h-12 object-contain"})})]})]})})}),c.jsx("header",{className:"bg-gradient-to-r from-team-primary via-team-secondary to-team-primary text-white shadow-xl sticky top-0 z-50 backdrop-blur-sm",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsxs("div",{className:"flex items-center justify-between h-20",children:[c.jsxs(dn,{to:"/",className:"flex items-center space-x-4 space-x-reverse group",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:H1,alt:"עירוני דורות טבריה לוגו",className:"w-16 h-16 rounded-full shadow-lg ring-4 ring-white/20 transition-transform duration-300 group-hover:scale-110"}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-transparent to-black/10"})]}),c.jsx("div",{className:"text-right",children:c.jsx("h1",{className:"text-2xl font-bold tracking-wide",children:"עירוני 'דורות' טבריה"})})]}),c.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1",children:c.jsx("div",{className:"flex items-center space-x-2 space-x-reverse bg-white/10 backdrop-blur-md rounded-full px-6 py-2 border border-white/20",children:o.map(d=>c.jsx(dn,{to:d.href,className:`px-4 py-2 text-sm font-medium rounded-full transition-all duration-300 hover:bg-white/20 hover:backdrop-blur-sm relative ${a(d.href)?"bg-white text-team-primary shadow-lg":"text-white hover:text-white"}`,children:d.name},d.name))})}),c.jsxs("div",{className:"hidden md:flex items-center space-x-3 space-x-reverse",children:[c.jsx("a",{href:"https://www.facebook.com/Tiberias.FC/",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/10 backdrop-blur-md text-white hover:bg-white hover:text-team-primary transition-all duration-300 hover:scale-110 border border-white/20",children:c.jsx(Ym,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://www.instagram.com/iron_tiberias_f.c?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/10 backdrop-blur-md text-white hover:bg-white hover:text-team-primary transition-all duration-300 hover:scale-110 border border-white/20",children:c.jsx(Xm,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://www.youtube.com/@IroniDorotTiberiasF.C.Official",className:"p-3 rounded-full bg-white/10 backdrop-blur-md text-white hover:bg-white hover:text-team-primary transition-all duration-300 hover:scale-110 border border-white/20",children:c.jsx(Zm,{className:"h-5 w-5"})}),i?c.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium",children:r==null?void 0:r.name}),c.jsx("p",{className:"text-xs opacity-80",children:r==null?void 0:r.email})]}),c.jsx(Se,{onClick:l,variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-full p-2",children:c.jsx(oh,{className:"h-4 w-4"})})]}):c.jsx(dn,{to:"/login",children:c.jsx(Se,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-full p-2",children:c.jsx(Jm,{className:"h-4 w-4"})})})]}),c.jsxs(CL,{open:t,onOpenChange:e,children:[c.jsx(NL,{asChild:!0,children:c.jsx(Se,{variant:"ghost",size:"sm",className:"md:hidden text-white hover:bg-white/20 rounded-full p-3",children:c.jsx(mj,{className:"h-6 w-6"})})}),c.jsx(RI,{side:"right",className:"w-80 bg-gradient-to-b from-team-primary to-team-secondary border-team-secondary backdrop-blur-md",children:c.jsxs("div",{className:"flex flex-col h-full pt-6",children:[c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx("img",{src:H1,alt:"עירוני דורות טבריה לוגו",className:"w-12 h-12 rounded-full ml-3 ring-2 ring-white/30"}),c.jsx("div",{className:"text-right",children:c.jsx("h2",{className:"text-xl font-bold text-white",children:"עירוני דורות טבריה"})})]}),c.jsx("nav",{className:"flex flex-col space-y-2",children:o.map(d=>c.jsx(dn,{to:d.href,onClick:()=>e(!1),className:`text-right py-3 px-6 rounded-xl transition-all duration-300 border ${a(d.href)?"bg-white text-team-primary shadow-lg border-white":"text-white hover:bg-white/20 border-white/20 hover:border-white/40"}`,children:d.name},d.name))}),c.jsx("div",{className:"mt-8",children:i?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-right p-4 bg-white/10 rounded-xl",children:[c.jsx("p",{className:"text-white font-medium",children:r==null?void 0:r.name}),c.jsx("p",{className:"text-white/80 text-sm",children:r==null?void 0:r.email})]}),c.jsxs(Se,{onClick:l,variant:"ghost",className:"w-full text-white hover:bg-white/20 border border-white/20",children:[c.jsx(oh,{className:"h-4 w-4 ml-2"}),"התנתק"]})]}):c.jsxs(dn,{to:"/login",onClick:()=>e(!1),className:"block text-right py-3 px-6 rounded-xl transition-all duration-300 border text-white hover:bg-white/20 border-white/20 hover:border-white/40",children:[c.jsx(Jm,{className:"h-4 w-4 ml-2 inline"}),"התחברות"]})}),c.jsxs("div",{className:"flex items-center justify-center space-x-4 space-x-reverse mt-8",children:[c.jsx("a",{href:"https://www.facebook.com/Tiberias.FC/",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/20 text-white hover:bg-white hover:text-team-primary transition-all duration-300",children:c.jsx(Ym,{className:"h-6 w-6"})}),c.jsx("a",{href:"https://www.instagram.com/iron_tiberias_f.c?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"p-3 rounded-full bg-white/20 text-white hover:bg-white hover:text-team-primary transition-all duration-300",children:c.jsx(Xm,{className:"h-6 w-6"})}),c.jsx("a",{href:"#",className:"p-3 rounded-full bg-white/20 text-white hover:bg-white hover:text-team-primary transition-all duration-300",children:c.jsx(Zm,{className:"h-6 w-6"})})]})]})})]})]})})})]})},Qn=()=>c.jsx("footer",{className:"bg-team-dark text-white",children:c.jsxs("div",{className:"container mx-auto px-4 py-5",children:[c.jsx("div",{className:"flex flex-col md:flex-row justify-end items-center text-sm",children:c.jsxs("div",{className:"flex items-start space-x-16 space-x-reverse",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("h4",{className:"font-semibold mb-3 text-base",children:"צור קשר"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-end",children:[c.jsx("a",{href:"mailto:office@tiberias-fc.co.il",className:"text-blue-200 hover:text-white transition-colors ml-2",children:"office@tiberias-fc.co.il"}),c.jsx(pj,{className:"h-4 w-4 text-blue-300"})]}),c.jsxs("div",{className:"flex items-center justify-end",children:[c.jsx("span",{className:"text-blue-200 ml-2",children:"04-6721234"}),c.jsx(gj,{className:"h-4 w-4 text-blue-300"})]}),c.jsx("div",{className:"text-blue-200 text-right pt-1",children:"בר כוכבא, טבריה"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("h4",{className:"font-semibold mb-3 text-base",children:"עקבו אחרינו"}),c.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse",children:[c.jsx("a",{href:"https://www.facebook.com/Tiberias.FC/",target:"_blank",rel:"noopener noreferrer",className:"bg-team-secondary/20 p-2 rounded-full hover:bg-team-secondary transition-colors",children:c.jsx(Ym,{className:"h-5 w-5"})}),c.jsx("a",{href:"https://www.instagram.com/iron_tiberias_f.c?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==",target:"_blank",rel:"noopener noreferrer",className:"bg-team-secondary/20 p-2 rounded-full hover:bg-team-secondary transition-colors",children:c.jsx(Xm,{className:"h-5 w-5"})}),c.jsx("a",{href:"#",className:"bg-team-secondary/20 p-2 rounded-full hover:bg-team-secondary transition-colors",children:c.jsx(Zm,{className:"h-5 w-5"})})]})]})]})}),c.jsx("div",{className:"border-t border-team-secondary/20 mt-5 pt-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center text-sm",children:[c.jsx("p",{className:"text-blue-200",children:"© 2025 עירוני טבריה. כל הזכויות שמורות."}),c.jsxs("div",{className:"flex space-x-6 space-x-reverse mt-2 md:mt-0",children:[c.jsx(dn,{to:"/terms",className:"text-blue-200 hover:text-white transition-colors",children:"תנאי שימוש"}),c.jsx(dn,{to:"/privacy",className:"text-blue-200 hover:text-white transition-colors",children:"מדיניות פרטיות"})]})]})})]})}),Sn=g.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:ce("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Sn.displayName="Input";const Rc=g.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Rc.displayName="Textarea";const ar=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ce("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ar.displayName="Card";const au=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ce("flex flex-col space-y-1.5 p-6",t),...e}));au.displayName="CardHeader";const m0=g.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:ce("text-2xl font-semibold leading-none tracking-tight",t),...e}));m0.displayName="CardTitle";const aA=g.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));aA.displayName="CardDescription";const Ls=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ce("p-6 pt-0",t),...e}));Ls.displayName="CardContent";const g0=g.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ce("flex items-center p-6 pt-0",t),...e}));g0.displayName="CardFooter";var lA="AlertDialog",[G9,lB]=Fc(lA,[hI]),Wr=hI(),cA=t=>{const{__scopeAlertDialog:e,...n}=t,r=Wr(e);return c.jsx(hy,{...r,...n,modal:!0})};cA.displayName=lA;var K9="AlertDialogTrigger",uA=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Wr(n);return c.jsx(NI,{...s,...r,ref:e})});uA.displayName=K9;var Q9="AlertDialogPortal",dA=t=>{const{__scopeAlertDialog:e,...n}=t,r=Wr(e);return c.jsx(fy,{...r,...n})};dA.displayName=Q9;var Y9="AlertDialogOverlay",hA=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Wr(n);return c.jsx(qc,{...s,...r,ref:e})});hA.displayName=Y9;var Lo="AlertDialogContent",[X9,J9]=G9(Lo),fA=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Wr(n),o=g.useRef(null),a=Me(e,o),l=g.useRef(null);return c.jsx(bL,{contentName:Lo,titleName:pA,docsSlug:"alert-dialog",children:c.jsx(X9,{scope:n,cancelRef:l,children:c.jsxs(Gc,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:de(s.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[c.jsx(Lv,{children:r}),c.jsx(e$,{contentRef:o})]})})})});fA.displayName=Lo;var pA="AlertDialogTitle",mA=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Wr(n);return c.jsx(Kc,{...s,...r,ref:e})});mA.displayName=pA;var gA="AlertDialogDescription",vA=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Wr(n);return c.jsx(Qc,{...s,...r,ref:e})});vA.displayName=gA;var Z9="AlertDialogAction",yA=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Wr(n);return c.jsx(df,{...s,...r,ref:e})});yA.displayName=Z9;var wA="AlertDialogCancel",xA=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=J9(wA,n),i=Wr(n),o=Me(e,s);return c.jsx(df,{...i,...r,ref:o})});xA.displayName=wA;var e$=({contentRef:t})=>{const e=`\`${Lo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Lo}\` by passing a \`${gA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Lo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},t$=cA,n$=uA,r$=dA,_A=hA,EA=fA,bA=yA,TA=xA,SA=mA,IA=vA;const ql=t$,Gl=n$,s$=r$,CA=g.forwardRef(({className:t,...e},n)=>c.jsx(_A,{className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));CA.displayName=_A.displayName;const Vo=g.forwardRef(({className:t,...e},n)=>c.jsxs(s$,{children:[c.jsx(CA,{}),c.jsx(EA,{ref:n,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Vo.displayName=EA.displayName;const Fo=({className:t,...e})=>c.jsx("div",{className:ce("flex flex-col space-y-2 text-center sm:text-left",t),...e});Fo.displayName="AlertDialogHeader";const Uo=({className:t,...e})=>c.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Uo.displayName="AlertDialogFooter";const $o=g.forwardRef(({className:t,...e},n)=>c.jsx(SA,{ref:n,className:ce("text-lg font-semibold",t),...e}));$o.displayName=SA.displayName;const Bo=g.forwardRef(({className:t,...e},n)=>c.jsx(IA,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));Bo.displayName=IA.displayName;const zo=g.forwardRef(({className:t,...e},n)=>c.jsx(bA,{ref:n,className:ce(iy(),t),...e}));zo.displayName=bA.displayName;const Ho=g.forwardRef(({className:t,...e},n)=>c.jsx(TA,{ref:n,className:ce(iy({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ho.displayName=TA.displayName;const i$=Bc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pc({className:t,variant:e,...n}){return c.jsx("div",{className:ce(i$({variant:e}),t),...n})}const o$=({id:t,title:e,excerpt:n,image:r,date:s,category:i,views:o=0,featured:a=!1,showDelete:l=!1,onDelete:d})=>{const h=()=>{d&&d(t)};return c.jsxs(ar,{className:`group relative hover:shadow-lg transition-all duration-300 overflow-hidden ${a?"ring-2 ring-team-secondary":""}`,children:[l&&c.jsxs(ql,{children:[c.jsx(Gl,{asChild:!0,children:c.jsx(Se,{variant:"destructive",size:"icon",className:"absolute top-2 left-2 z-10 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",title:"מחק חדשה",children:c.jsx(Fl,{className:"h-4 w-4"})})}),c.jsxs(Vo,{dir:"rtl",children:[c.jsxs(Fo,{children:[c.jsx($o,{children:"האם אתה בטוח?"}),c.jsx(Bo,{children:"פעולה זו תמחק את החדשה לצמיתות. לא ניתן לשחזר את הפעולה."})]}),c.jsxs(Uo,{children:[c.jsx(Ho,{children:"ביטול"}),c.jsx(zo,{onClick:h,className:"bg-destructive hover:bg-destructive/90",children:"מחק"})]})]})]}),c.jsxs(dn,{to:`/article/${t}`,className:"cursor-pointer",children:[c.jsx(au,{className:"p-0",children:c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("img",{src:r,alt:e,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),a&&c.jsx(Pc,{className:"absolute top-3 right-3 bg-team-secondary hover:bg-team-secondary",children:"מומלץ"}),c.jsx(Pc,{variant:"secondary",className:"absolute bottom-3 right-3 bg-white/90",children:i})]})}),c.jsxs(Ls,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-right mb-2 group-hover:text-team-primary transition-colors",children:e}),c.jsx("p",{className:"text-muted-foreground text-right text-sm leading-relaxed",children:n})]}),c.jsxs(g0,{className:"px-4 pb-4 pt-0 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c.jsx("span",{className:"ml-1",children:o}),c.jsx($v,{className:"h-3 w-3"})]}),c.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c.jsx("span",{className:"ml-1",children:s}),c.jsx(ls,{className:"h-3 w-3"})]})]})]})]})},W1=[{id:"demo-1",title:"ברוכים הבאים לאתר עירוני טבריה",excerpt:"האתר הרשמי של מועדון הכדורגל עירוני טבריה",content:"ברוכים הבאים לאתר הרשמי של מועדון הכדורגל עירוני טבריה. כאן תוכלו למצוא את כל החדשות, המשחקים והעדכונים על המועדון.",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&h=400&fit=crop",date:new Date().toLocaleDateString("he-IL"),category:"כללי",views:0,featured:!0},{id:"demo-2",title:"משחק הבית הבא",excerpt:"המועדון יארח את הקבוצה הבאה בשבת הקרובה",content:"בשבת הקרובה יארח המועדון את הקבוצה הבאה באצטדיון הבית. צפויה להיות משחק מרגש עם תמיכה גדולה מהקהל.",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&h=400&fit=crop",date:new Date(Date.now()-864e5).toLocaleDateString("he-IL"),category:"משחקים",views:0,featured:!1}],a$=()=>{const{toast:t}=Zs(),{user:e,logout:n,hasPermission:r,isAuthenticated:s}=ou(),[i,o]=g.useState([]),[a,l]=g.useState(!0),[d,h]=g.useState(!1),[p,f]=g.useState(null),[x,S]=g.useState(""),[v,b]=g.useState({title:"",excerpt:"",content:"",category:"כללי",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&h=400&fit=crop"});g.useEffect(()=>{(async()=>{if(l(!0),!De){console.warn("Firebase not available - using demo data"),o(W1),l(!1);return}try{const I=ga(De,"news"),C=Jy(I,n0("date","desc")),A=(await r0(C)).docs.map(j=>({...j.data(),id:j.id}));o(A)}catch(I){console.error("Error fetching news from Firestore: ",I),t({title:"שגיאה בטעינת החדשות",variant:"destructive"}),o(W1)}finally{l(!1)}})()},[t]);const E=O=>{var C;const I=(C=O.target.files)==null?void 0:C[0];if(I){f(I);const _=new FileReader;_.onload=A=>{var k;const j=(k=A.target)==null?void 0:k.result;S(j),b({...v,image:j})},_.readAsDataURL(I)}},w=async()=>{if(!v.title||!v.excerpt){t({title:"נא למלא את כל השדות",variant:"destructive"});return}if(!De){t({title:"Firebase לא זמין - לא ניתן להוסיף חדשות",variant:"destructive"});return}try{const O=ga(De,"news"),I=await i0(O,{...v,date:new Date().toISOString(),views:0,featured:!1});o(C=>[{id:I.id,...v,date:new Date().toLocaleDateString("he-IL"),views:0,featured:!1},...C]),h(!1),b({title:"",excerpt:"",content:"",category:"כללי",image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&h=400&fit=crop"}),f(null),S(""),t({title:"החדשה נוספה בהצלחה!"})}catch(O){console.error("Error adding document: ",O),t({title:"שגיאה בהוספת חדשה",variant:"destructive"})}},T=async O=>{if(!De){t({title:"Firebase לא זמין - לא ניתן למחוק חדשות",variant:"destructive"});return}try{const I=ri(De,"news",O);await s0(I),o(C=>C.filter(_=>_.id!==O)),t({title:"החדשה נמחקה בהצלחה"})}catch(I){console.error("Error deleting document: ",I),t({title:"שגיאה במחיקת חדשה",variant:"destructive"})}},R=()=>{n(),t({title:"התנתקת בהצלחה מהמערכת."})},D=["כללי","משחקים","העברות","נוער","אימונים"];return a?c.jsx("div",{className:"text-center py-12",children:"טוען חדשות..."}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"relative flex justify-center items-center",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"חדשות ועדכונים"}),c.jsxs("div",{className:"absolute right-0 flex items-center space-x-2 space-x-reverse",children:[s&&r("add_news")&&De&&c.jsxs(Se,{onClick:()=>h(O=>!O),className:"bg-team-primary hover:bg-team-secondary",children:[c.jsx(Bv,{className:"h-4 w-4 ml-2"}),d?"בטל":"הוסף חדשה"]}),s&&c.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:["שלום, ",e==null?void 0:e.name]}),c.jsxs(Se,{variant:"outline",size:"sm",onClick:R,children:[c.jsx(oh,{className:"h-4 w-4 ml-1"}),"התנתק"]})]})]})]}),!De&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-right",children:c.jsxs("p",{className:"text-yellow-800",children:[c.jsx("strong",{children:"מצב הדגמה:"})," Firebase לא מוגדר. מציג נתוני דגמה בלבד."]})}),d&&c.jsxs(ar,{className:"animate-fade-in",children:[c.jsx(au,{children:c.jsx(m0,{className:"text-right",children:"הוסף חדשה חדשה"})}),c.jsxs(Ls,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-right block",children:"כותרת"}),c.jsx(Sn,{value:v.title,onChange:O=>b({...v,title:O.target.value}),placeholder:"הכנס כותרת לחדשה...",className:"text-right"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-right block",children:"תקציר"}),c.jsx(Rc,{value:v.excerpt,onChange:O=>b({...v,excerpt:O.target.value}),placeholder:"הכנס תקציר קצר...",className:"text-right",rows:3})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-right block",children:"תוכן מלא"}),c.jsx(Rc,{value:v.content,onChange:O=>b({...v,content:O.target.value}),placeholder:"הכנס את תוכן הכתבה המלא...",className:"text-right",rows:6})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-right block",children:"קטגוריה"}),c.jsx("select",{value:v.category,onChange:O=>b({...v,category:O.target.value}),className:"w-full p-2 border rounded-md text-right",children:D.map(O=>c.jsx("option",{value:O,children:O},O))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-right block",children:"תמונה"}),c.jsxs("div",{className:"flex flex-col space-y-2",children:[c.jsx(Sn,{type:"file",accept:"image/*",onChange:E,className:"text-right"}),x&&c.jsx("div",{className:"relative w-full h-32 rounded-md overflow-hidden",children:c.jsx("img",{src:x,alt:"תצוגה מקדימה",className:"w-full h-full object-cover"})})]})]}),c.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[c.jsx(Se,{onClick:w,className:"bg-team-primary hover:bg-team-secondary",children:"פרסם חדשה"}),c.jsx(Se,{variant:"outline",onClick:()=>h(!1),children:"ביטול"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(O=>c.jsx(o$,{...O,showDelete:s&&r("delete_news"),onDelete:()=>T(O.id)},O.id))}),!a&&i.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"אין חדשות להצגה"})})]})},l$="/assets/ae653618-f246-48c4-84fb-31e6114b0b25-ve-SXlrQ.png",c$="/assets/3eca3ff4-bae0-4b66-9c31-46793b15f049-CGOMje4B.png",La="/assets/burger-saloon-CJzyqC9I.jpg",Va="/assets/dorot-D4up87b8.png",Fa="/assets/go-out-CkiiQPFu.png",Ua="/assets/nof-ginosar-7w1AUMgT.png",$a="/assets/league-manager-rkklZEGU.png",Jp=768;function Ba(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Jp-1}px)`),r=()=>{e(window.innerWidth<Jp)};return n.addEventListener("change",r),e(window.innerWidth<Jp),()=>n.removeEventListener("change",r)},[]),!!t}const za="/assets/mobile%20sponsors-DeU-QMW2.png",u$=()=>{const[t,e]=g.useState(0);Zs();const n=Ba(),r=[l$,c$];return g.useEffect(()=>{const s=setInterval(()=>{e(i=>(i+1)%r.length)},5e3);return()=>clearInterval(s)},[r.length]),c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsxs("section",{className:"relative h-96 md:h-[500px] overflow-hidden",children:[r.map((s,i)=>c.jsxs("div",{className:`absolute inset-0 w-full h-full transition-opacity duration-1000 ${i===t?"opacity-100":"opacity-0"}`,children:[c.jsx("img",{src:s,alt:`עירוני טבריה ${i+1}`,className:"w-full h-full object-cover object-center"}),c.jsx("div",{className:"absolute inset-0 bg-black/20"})]},i)),c.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2 space-x-reverse",children:r.map((s,i)=>c.jsx("button",{onClick:()=>e(i),className:`w-3 h-3 rounded-full transition-colors ${i===t?"bg-white":"bg-white/50"}`},i))})]}),c.jsx("section",{className:"py-16",children:c.jsx("div",{className:"container mx-auto px-4",children:c.jsx(a$,{})})}),c.jsx("section",{className:"py-10 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[!n&&c.jsxs("div",{className:"hidden md:grid grid-cols-2 gap-x-6 gap-y-8 md:grid-cols-5 items-center",children:[c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:La,alt:"Burger Saloon",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Va,alt:"Dorot Group",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Fa,alt:"Go-Out",className:"h-20 md:h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Ua,alt:"Nof Ginosar",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:$a,alt:"מנהלת הליגות לכדורגל",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})})]}),n&&c.jsx("div",{className:"md:hidden flex justify-center items-center",children:c.jsx("img",{src:za,alt:"Sponsors",className:"w-full max-w-xs object-contain"})})]})}),c.jsx(Qn,{})]})},d$="/assets/club%20page%20banner-By22BONx.png",h$=()=>{const t=Ba();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("section",{className:"w-full",children:c.jsxs("div",{className:"relative h-64 md:h-96",children:[c.jsx("img",{src:d$,alt:"אצטדיון טבריה",className:"w-full h-full object-cover object-top"}),c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center"})]})}),c.jsx("div",{className:"container mx-auto px-4 py-12",children:c.jsx("section",{className:"mb-16",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-bold mb-6 text-team-dark",children:"אודות המועדון"}),c.jsxs("div",{className:"space-y-6 text-muted-foreground leading-relaxed text-lg max-w-4xl mx-auto text-right",children:[c.jsx("p",{children:`מועדון הכדורגל עירוני 'דורות' טבריה מייצג את העיר טבריה ומשחק כיום בליגת העל – לראשונה בתולדותיו. המועדון נושא עבר עשיר וייחודי, הכולל עשרות שנות פעילות תחת השם בית"ר טבריה, עד לאיחוד בשנת 2004 עם הפועל גליל תחתון ושינוי שמו לעירוני טבריה.`}),c.jsx("p",{children:"לאורך השנים צמחה הקבוצה מליגות נמוכות והפכה לאחד הסיפורים המרגשים בכדורגל הישראלי. לאחר עליות, ירידות ואתגרים רבים – המהפך האמיתי התרחש בשנת 2021, כשניהול המועדון עבר לידי קבוצת דורות, סוכנות ביטוח מובילה, בראשות אריה קלמנזון ומיקי ביתן. מאז, הפך המועדון למקצועי ומסודר יותר, והשיג רצף הישגים יוצאי דופן."}),c.jsx("p",{children:"במרץ 2022 העפילה הקבוצה לליגה הלאומית, ובעונת 2023/2024 רשמה את ההישג הגדול בתולדותיה – העפלה לליגת העל, לאחר עונה דרמטית שבסיומה הקדימה את בני יהודה בזכות הפרש שערים. בנוסף, זכתה הקבוצה בגביע הטוטו והגיעה לשמינית גמר גביע המדינה."}),c.jsx("p",{children:"בעונת הבכורה בליגת העל (2024/2025), הבטיחה את הישארותה בליגה במשחק האחרון של העונה מול מכבי פתח תקווה."}),c.jsx("h3",{className:"text-2xl font-bold text-team-dark mt-8 mb-4",children:"בית מקצועי וגאווה עירונית"}),c.jsx("p",{children:"המועדון חרט על דגלו ערכים של מצוינות, קידום שחקנים צעירים, מחויבות לקהילה ופיתוח הכדורגל בצפון הארץ. עירוני טבריה מהווה סמל לגאווה מקומית עבור תושבי העיר והאזור כולו."}),c.jsx("h3",{className:"text-2xl font-bold text-team-dark mt-8 mb-4",children:"מתקני הבית"}),c.jsx("p",{children:"המועדון ממתין לסיום בניית האצטדיון החדש בטבריה, שיכלול כ-7,500 מקומות ישיבה. עד אז מארחת הקבוצה את משחקיה הביתיים באצטדיון גרין שבנוף הגליל."})]})]})})}),c.jsx("section",{className:"py-10 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[!t&&c.jsxs("div",{className:"hidden md:grid grid-cols-2 gap-x-6 gap-y-8 md:grid-cols-5 items-center",children:[c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:La,alt:"Burger Saloon",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Va,alt:"Dorot Group",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Fa,alt:"Go-Out",className:"h-20 md:h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Ua,alt:"Nof Ginosar",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:$a,alt:"מנהלת הליגות לכדורגל",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})})]}),t&&c.jsx("div",{className:"md:hidden flex justify-center items-center",children:c.jsx("img",{src:za,alt:"Sponsors",className:"w-full max-w-xs object-contain"})})]})}),c.jsx(Qn,{})]})},f$="/assets/Ido%20Sharon-BJNIHLRK.png",p$="/assets/Ondrej%20Baco-0ONpENI4.png",m$="/assets/Samba-BCnd5ZWL.png",g$="/assets/Omer%20Yitzhak-CWAV53cr.png",v$="/assets/Haroon%20Shapso-DdDIOY37.png",y$="/assets/Eli%20Balilti-DoR9PXL7.png",w$="/assets/Ron%20Unger-Bl0S8rWR.png",x$="/assets/David%20Keltjens-CO4WBO4v.webp",_$="/assets/Ilay%20Elmkies-Cbixipgi.webp",E$="/assets/Usman-DpTqSjfP.png",b$="/assets/Yonatan%20Teper-CVPjciOe.webp",T$="/assets/Niv%20Gotliv-De8FGfUq.png",S$="/assets/Waheb%20Habiballah-BzD38qui.webp",I$="/assets/Stanislav%20Bilenkyi-BnoxiHcu.webp",C$="/assets/Idan%20Dahan-DtFqJc60.png",N$="/assets/Eliran-k4AjwFBF.jpg",A$="/assets/Moti-CrqWDnnj.png",q1="/assets/53254-DVTzPlnK.png",R$=()=>{const t=[{name:"עידו שרון",position:"שוער",number:1,age:23,image:f$,country:"ישראל"},{name:"אונדז'יי באצ'ו",position:"הגנה",number:37,age:29,image:p$,country:"צ'כיה"},{name:"סמביניה",position:"הגנה",number:4,age:32,image:m$,country:"גינאה-ביסאו"},{name:"עומר יצחק",position:"הגנה",number:17,age:24,image:g$,country:"ישראל"},{name:"הארון שפסו",position:"הגנה",number:99,age:26,image:v$,country:"ישראל"},{name:"אלי בלילתי",position:"הגנה",number:15,age:31,image:y$,country:"ישראל"},{name:"רון אונגר",position:"הגנה",number:2,age:23,image:w$,country:"ישראל"},{name:"דויד קלטינס",position:"קשר",number:3,age:30,image:x$,country:"ישראל"},{name:"עילאי אלמקייס",position:"קשר",number:10,age:25,image:_$,country:"ישראל"},{name:"מוחמד אוסמן",position:"קשר",number:10,age:31,image:E$,country:"ניגריה"},{name:"יונתן טפר",position:"קשר",number:5,age:24,image:b$,country:"ישראל"},{name:"ניב גוטליב",position:"קשר",number:80,age:22,image:T$,country:"ישראל"},{name:"וואהיב חביבאללה",position:"התקפה",number:14,age:27,image:S$,country:"ישראל"},{name:"סטניסלב בילנקי",position:"התקפה",number:9,age:26,image:I$,country:"אוקראינה"},{name:"עידן דהאן",position:"התקפה",number:11,age:24,image:C$,country:"ישראל"}],e=[{name:"אלירן חודדה",position:"מאמן ראשי",image:N$},{name:"מוטי קריספיל",position:"עוזר מאמן",image:A$},{name:"דודו גורש",position:"מאמן שוערים",image:q1},{name:"שלומי ורדרו",position:"מאמן כושר",image:q1}],n=t.filter(l=>l.position==="שוער"),r=t.filter(l=>l.position==="הגנה"),s=t.filter(l=>l.position==="קשר"),i=t.filter(l=>l.position==="התקפה"),o=(l,d)=>c.jsx("div",{className:"relative w-full h-64 md:h-80 group perspective-1000",children:c.jsxs("div",{className:"relative w-full h-full transition-transform duration-700 transform-style-preserve-3d group-hover:rotate-y-180",children:[c.jsx("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-lg overflow-hidden shadow-lg",children:c.jsxs("div",{className:"relative w-full h-full",children:[c.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover object-top"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"})]})}),c.jsxs("div",{className:"absolute inset-0 w-full h-full backface-hidden rounded-lg overflow-hidden shadow-lg bg-gradient-to-br from-team-primary to-team-dark rotate-y-180",children:[c.jsx("img",{src:l.image,alt:"",className:"absolute inset-0 w-full h-full object-cover object-top opacity-30"}),c.jsx("div",{className:"absolute inset-0 w-full h-full bg-team-dark/60"}),c.jsxs("div",{className:"relative flex flex-col justify-center items-center h-full p-4 md:p-6 text-white text-center",children:[c.jsx("h3",{className:"text-xl md:text-2xl font-bold mb-4",children:l.name}),c.jsxs("div",{className:"flex flex-col items-center space-y-2 md:space-y-3 text-base md:text-lg",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"גיל:"})," ",l.age]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"עמדה:"})," ",l.position]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-semibold",children:"מדינה:"})," ",l.country]}),c.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white/20 rounded-full flex items-center justify-center mt-3 md:mt-4",children:c.jsx("span",{className:"text-lg md:text-xl font-bold",children:l.number})})]})]})]})]})},d),a=Ba();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("section",{className:"bg-gradient-to-l from-team-primary to-team-dark text-white py-16",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"הקבוצה"}),c.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"הכירו את השחקנים והצוות המקצועי של עירוני דורות טבריה"})]})}),c.jsxs("div",{className:"container mx-auto px-4 py-12",children:[c.jsxs("section",{className:"mb-16",children:[c.jsxs("div",{className:"mb-12",children:[c.jsx("h3",{className:"text-2xl font-bold mb-6 text-right text-team-primary border-r-4 border-team-secondary pr-4",children:"שוערים"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:n.map(o)})]}),c.jsxs("div",{className:"mb-12",children:[c.jsx("h3",{className:"text-2xl font-bold mb-6 text-right text-team-primary border-r-4 border-team-secondary pr-4",children:"הגנה"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:r.map(o)})]}),c.jsxs("div",{className:"mb-12",children:[c.jsx("h3",{className:"text-2xl font-bold mb-6 text-right text-team-primary border-r-4 border-team-secondary pr-4",children:"קישור"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:s.map(o)})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold mb-6 text-right text-team-primary border-r-4 border-team-secondary pr-4",children:"התקפה"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:i.map(o)})]})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-3xl font-bold mb-8 text-right text-team-dark",children:"הצוות המקצועי"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6",children:e.map((l,d)=>c.jsxs(ar,{className:"relative w-full h-64 md:h-80 rounded-lg overflow-hidden shadow-lg group",children:[c.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover object-top transition-transform duration-300 group-hover:scale-105"}),c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent rounded-lg"}),c.jsxs("div",{className:"absolute bottom-4 right-4 text-right",children:[c.jsx("h3",{className:"text-white font-bold text-lg md:text-xl mb-1",children:l.name}),c.jsx("div",{className:"w-full h-0.5 bg-team-secondary mb-2"}),c.jsx("p",{className:"text-white/80 text-sm",children:l.position})]})]})]},d))})]})]}),c.jsx("section",{className:"py-10 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[!a&&c.jsxs("div",{className:"hidden md:grid grid-cols-2 gap-x-6 gap-y-8 md:grid-cols-5 items-center",children:[c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:La,alt:"Burger Saloon",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Va,alt:"Dorot Group",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Fa,alt:"Go-Out",className:"h-20 md:h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Ua,alt:"Nof Ginosar",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:$a,alt:"מנהלת הליגות לכדורגל",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})})]}),a&&c.jsx("div",{className:"md:hidden flex justify-center items-center",children:c.jsx("img",{src:za,alt:"Sponsors",className:"w-full max-w-xs object-contain"})})]})}),c.jsx(Qn,{})]})},NA=hy,P$=fy,AA=g.forwardRef(({className:t,...e},n)=>c.jsx(qc,{ref:n,className:ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));AA.displayName=qc.displayName;const v0=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(P$,{children:[c.jsx(AA,{}),c.jsxs(Gc,{ref:r,className:ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(df,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(zv,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));v0.displayName=Gc.displayName;const y0=({className:t,...e})=>c.jsx("div",{className:ce("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});y0.displayName="DialogHeader";const w0=({className:t,...e})=>c.jsx("div",{className:ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});w0.displayName="DialogFooter";const x0=g.forwardRef(({className:t,...e},n)=>c.jsx(Kc,{ref:n,className:ce("text-lg font-semibold leading-none tracking-tight",t),...e}));x0.displayName=Kc.displayName;const _0=g.forwardRef(({className:t,...e},n)=>c.jsx(Qc,{ref:n,className:ce("text-sm text-muted-foreground",t),...e}));_0.displayName=Qc.displayName;var k$="Label",RA=g.forwardRef((t,e)=>c.jsx(be.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));RA.displayName=k$;var PA=RA;const j$=Bc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qt=g.forwardRef(({className:t,...e},n)=>c.jsx(PA,{ref:n,className:ce(j$(),t),...e}));Qt.displayName=PA.displayName;function G1(t,[e,n]){return Math.min(n,Math.max(e,t))}var D$=g.createContext(void 0);function O$(t){const e=g.useContext(D$);return t||e||"ltr"}function M$(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var L$=[" ","Enter","ArrowUp","ArrowDown"],V$=[" ","Enter"],lu="Select",[jf,Df,F$]=ET(lu),[Ha,cB]=Fc(lu,[F$,rf]),Of=rf(),[U$,ii]=Ha(lu),[$$,B$]=Ha(lu),kA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:p,disabled:f,required:x,form:S}=t,v=Of(e),[b,E]=g.useState(null),[w,T]=g.useState(null),[R,D]=g.useState(!1),O=O$(d),[I=!1,C]=ih({prop:r,defaultProp:s,onChange:i}),[_,A]=ih({prop:o,defaultProp:a,onChange:l}),j=g.useRef(null),k=b?S||!!b.closest("form"):!0,[P,B]=g.useState(new Set),ee=Array.from(P).map(Y=>Y.props.value).join(";");return c.jsx(FO,{...v,children:c.jsxs(U$,{required:x,scope:e,trigger:b,onTriggerChange:E,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:R,onValueNodeHasChildrenChange:D,contentId:Ro(),value:_,onValueChange:A,open:I,onOpenChange:C,dir:O,triggerPointerDownPosRef:j,disabled:f,children:[c.jsx(jf.Provider,{scope:e,children:c.jsx($$,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Y=>{B(re=>new Set(re).add(Y))},[]),onNativeOptionRemove:g.useCallback(Y=>{B(re=>{const L=new Set(re);return L.delete(Y),L})},[]),children:n})}),k?c.jsxs(rR,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:p,value:_,onChange:Y=>A(Y.target.value),disabled:f,form:S,children:[_===void 0?c.jsx("option",{value:""}):null,Array.from(P)]},ee):null]})})};kA.displayName=lu;var jA="SelectTrigger",DA=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Of(n),o=ii(jA,n),a=o.disabled||r,l=Me(e,o.onTriggerChange),d=Df(n),h=g.useRef("touch"),[p,f,x]=sR(v=>{const b=d().filter(T=>!T.disabled),E=b.find(T=>T.value===o.value),w=iR(b,v,E);w!==void 0&&o.onValueChange(w.value)}),S=v=>{a||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return c.jsx(SS,{asChild:!0,...i,children:c.jsx(be.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":nR(o.value)?"":void 0,...s,ref:l,onClick:de(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&S(v)}),onPointerDown:de(s.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:de(s.onKeyDown,v=>{const b=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(b&&v.key===" ")&&L$.includes(v.key)&&(S(),v.preventDefault())})})})});DA.displayName=jA;var OA="SelectValue",MA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=ii(OA,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,p=Me(e,l.onValueNodeChange);return Vt(()=>{d(h)},[d,h]),c.jsx(be.span,{...a,ref:p,style:{pointerEvents:"none"},children:nR(l.value)?c.jsx(c.Fragment,{children:o}):i})});MA.displayName=OA;var z$="SelectIcon",LA=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(be.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});LA.displayName=z$;var H$="SelectPortal",VA=t=>c.jsx(Xh,{asChild:!0,...t});VA.displayName=H$;var Ui="SelectContent",FA=g.forwardRef((t,e)=>{const n=ii(Ui,t.__scopeSelect),[r,s]=g.useState();if(Vt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?zi.createPortal(c.jsx(UA,{scope:t.__scopeSelect,children:c.jsx(jf.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx($A,{...t,ref:e})});FA.displayName=Ui;var jn=10,[UA,oi]=Ha(Ui),W$="SelectContentImpl",$A=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:b,...E}=t,w=ii(Ui,n),[T,R]=g.useState(null),[D,O]=g.useState(null),I=Me(e,te=>R(te)),[C,_]=g.useState(null),[A,j]=g.useState(null),k=Df(n),[P,B]=g.useState(!1),ee=g.useRef(!1);g.useEffect(()=>{if(T)return uI(T)},[T]),nI();const Y=g.useCallback(te=>{const[Te,...He]=k().map(ye=>ye.ref.current),[ge]=He.slice(-1),_e=document.activeElement;for(const ye of te)if(ye===_e||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===Te&&D&&(D.scrollTop=0),ye===ge&&D&&(D.scrollTop=D.scrollHeight),ye==null||ye.focus(),document.activeElement!==_e))return},[k,D]),re=g.useCallback(()=>Y([C,T]),[Y,C,T]);g.useEffect(()=>{P&&re()},[P,re]);const{onOpenChange:L,triggerPointerDownPosRef:z}=w;g.useEffect(()=>{if(T){let te={x:0,y:0};const Te=ge=>{var _e,ye;te={x:Math.abs(Math.round(ge.pageX)-(((_e=z.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((ye=z.current)==null?void 0:ye.y)??0))}},He=ge=>{te.x<=10&&te.y<=10?ge.preventDefault():T.contains(ge.target)||L(!1),document.removeEventListener("pointermove",Te),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",He,{capture:!0})}}},[T,L,z]),g.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[J,G]=sR(te=>{const Te=k().filter(_e=>!_e.disabled),He=Te.find(_e=>_e.ref.current===document.activeElement),ge=iR(Te,te,He);ge&&setTimeout(()=>ge.ref.current.focus())}),Z=g.useCallback((te,Te,He)=>{const ge=!ee.current&&!He;(w.value!==void 0&&w.value===Te||ge)&&(_(te),ge&&(ee.current=!0))},[w.value]),ne=g.useCallback(()=>T==null?void 0:T.focus(),[T]),Ce=g.useCallback((te,Te,He)=>{const ge=!ee.current&&!He;(w.value!==void 0&&w.value===Te||ge)&&j(te)},[w.value]),ze=r==="popper"?Vg:BA,me=ze===Vg?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:x,sticky:S,hideWhenDetached:v,avoidCollisions:b}:{};return c.jsx(UA,{scope:n,content:T,viewport:D,onViewportChange:O,itemRefCallback:Z,selectedItem:C,onItemLeave:ne,itemTextRefCallback:Ce,focusSelectedItem:re,selectedItemText:A,position:r,isPositioned:P,searchRef:J,children:c.jsx(ay,{as:ki,allowPinchZoom:!0,children:c.jsx(oy,{asChild:!0,trapped:w.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:de(s,te=>{var Te;(Te=w.trigger)==null||Te.focus({preventScroll:!0}),te.preventDefault()}),children:c.jsx(Uc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:c.jsx(ze,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:te=>te.preventDefault(),...E,...me,onPlaced:()=>B(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:de(E.onKeyDown,te=>{const Te=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!Te&&te.key.length===1&&G(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ge=k().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const _e=te.target,ye=ge.indexOf(_e);ge=ge.slice(ye+1)}setTimeout(()=>Y(ge)),te.preventDefault()}})})})})})})});$A.displayName=W$;var q$="SelectItemAlignedPosition",BA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=ii(Ui,n),o=oi(Ui,n),[a,l]=g.useState(null),[d,h]=g.useState(null),p=Me(e,I=>h(I)),f=Df(n),x=g.useRef(!1),S=g.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:E,focusSelectedItem:w}=o,T=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&b&&E){const I=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),_=i.valueNode.getBoundingClientRect(),A=E.getBoundingClientRect();if(i.dir!=="rtl"){const _e=A.left-C.left,ye=_.left-_e,ct=I.left-ye,yt=I.width+ct,xn=Math.max(yt,C.width),Ut=window.innerWidth-jn,vr=G1(ye,[jn,Math.max(jn,Ut-xn)]);a.style.minWidth=yt+"px",a.style.left=vr+"px"}else{const _e=C.right-A.right,ye=window.innerWidth-_.right-_e,ct=window.innerWidth-I.right-ye,yt=I.width+ct,xn=Math.max(yt,C.width),Ut=window.innerWidth-jn,vr=G1(ye,[jn,Math.max(jn,Ut-xn)]);a.style.minWidth=yt+"px",a.style.right=vr+"px"}const j=f(),k=window.innerHeight-jn*2,P=v.scrollHeight,B=window.getComputedStyle(d),ee=parseInt(B.borderTopWidth,10),Y=parseInt(B.paddingTop,10),re=parseInt(B.borderBottomWidth,10),L=parseInt(B.paddingBottom,10),z=ee+Y+P+L+re,J=Math.min(b.offsetHeight*5,z),G=window.getComputedStyle(v),Z=parseInt(G.paddingTop,10),ne=parseInt(G.paddingBottom,10),Ce=I.top+I.height/2-jn,ze=k-Ce,me=b.offsetHeight/2,te=b.offsetTop+me,Te=ee+Y+te,He=z-Te;if(Te<=Ce){const _e=j.length>0&&b===j[j.length-1].ref.current;a.style.bottom="0px";const ye=d.clientHeight-v.offsetTop-v.offsetHeight,ct=Math.max(ze,me+(_e?ne:0)+ye+re),yt=Te+ct;a.style.height=yt+"px"}else{const _e=j.length>0&&b===j[0].ref.current;a.style.top="0px";const ct=Math.max(Ce,ee+v.offsetTop+(_e?Z:0)+me)+He;a.style.height=ct+"px",v.scrollTop=Te-Ce+v.offsetTop}a.style.margin=`${jn}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[f,i.trigger,i.valueNode,a,d,v,b,E,i.dir,r]);Vt(()=>T(),[T]);const[R,D]=g.useState();Vt(()=>{d&&D(window.getComputedStyle(d).zIndex)},[d]);const O=g.useCallback(I=>{I&&S.current===!0&&(T(),w==null||w(),S.current=!1)},[T,w]);return c.jsx(K$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:c.jsx(be.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});BA.displayName=q$;var G$="SelectPopperPosition",Vg=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=jn,...i}=t,o=Of(n);return c.jsx(IS,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vg.displayName=G$;var[K$,E0]=Ha(Ui,{}),Fg="SelectViewport",zA=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=oi(Fg,n),o=E0(Fg,n),a=Me(e,i.onViewportChange),l=g.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(jf.Slot,{scope:n,children:c.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const x=Math.abs(l.current-h.scrollTop);if(x>0){const S=window.innerHeight-jn*2,v=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),E=Math.max(v,b);if(E<S){const w=E+x,T=Math.min(S,w),R=w-T;p.style.height=T+"px",p.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});zA.displayName=Fg;var HA="SelectGroup",[Q$,Y$]=Ha(HA),X$=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ro();return c.jsx(Q$,{scope:n,id:s,children:c.jsx(be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});X$.displayName=HA;var WA="SelectLabel",qA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Y$(WA,n);return c.jsx(be.div,{id:s.id,...r,ref:e})});qA.displayName=WA;var Dh="SelectItem",[J$,GA]=Ha(Dh),KA=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=ii(Dh,n),l=oi(Dh,n),d=a.value===r,[h,p]=g.useState(i??""),[f,x]=g.useState(!1),S=Me(e,w=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,w,r,s)}),v=Ro(),b=g.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(J$,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:g.useCallback(w=>{p(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:c.jsx(jf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(be.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":d&&f,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:de(o.onFocus,()=>x(!0)),onBlur:de(o.onBlur,()=>x(!1)),onClick:de(o.onClick,()=>{b.current!=="mouse"&&E()}),onPointerUp:de(o.onPointerUp,()=>{b.current==="mouse"&&E()}),onPointerDown:de(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:de(o.onPointerMove,w=>{var T;b.current=w.pointerType,s?(T=l.onItemLeave)==null||T.call(l):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:de(o.onKeyDown,w=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&w.key===" "||(V$.includes(w.key)&&E(),w.key===" "&&w.preventDefault())})})})})});KA.displayName=Dh;var Nl="SelectItemText",QA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=ii(Nl,n),a=oi(Nl,n),l=GA(Nl,n),d=B$(Nl,n),[h,p]=g.useState(null),f=Me(e,E=>p(E),l.onItemTextChange,E=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,E,l.value,l.disabled)}),x=h==null?void 0:h.textContent,S=g.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:x},l.value),[l.disabled,l.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=d;return Vt(()=>(v(S),()=>b(S)),[v,b,S]),c.jsxs(c.Fragment,{children:[c.jsx(be.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?zi.createPortal(i.children,o.valueNode):null]})});QA.displayName=Nl;var YA="SelectItemIndicator",XA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return GA(YA,n).isSelected?c.jsx(be.span,{"aria-hidden":!0,...r,ref:e}):null});XA.displayName=YA;var Ug="SelectScrollUpButton",JA=g.forwardRef((t,e)=>{const n=oi(Ug,t.__scopeSelect),r=E0(Ug,t.__scopeSelect),[s,i]=g.useState(!1),o=Me(e,r.onScrollButtonChange);return Vt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(eR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});JA.displayName=Ug;var $g="SelectScrollDownButton",ZA=g.forwardRef((t,e)=>{const n=oi($g,t.__scopeSelect),r=E0($g,t.__scopeSelect),[s,i]=g.useState(!1),o=Me(e,r.onScrollButtonChange);return Vt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(eR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});ZA.displayName=$g;var eR=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=oi("SelectScrollButton",n),o=g.useRef(null),a=Df(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),Vt(()=>{var h;const d=a().find(p=>p.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:de(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:de(s.onPointerLeave,()=>{l()})})}),Z$="SelectSeparator",tR=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(be.div,{"aria-hidden":!0,...r,ref:e})});tR.displayName=Z$;var Bg="SelectArrow",e8=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Of(n),i=ii(Bg,n),o=oi(Bg,n);return i.open&&o.position==="popper"?c.jsx(CS,{...s,...r,ref:e}):null});e8.displayName=Bg;function nR(t){return t===""||t===void 0}var rR=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Me(e,s),o=M$(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),c.jsx($c,{asChild:!0,children:c.jsx("select",{...r,ref:i,defaultValue:n})})});rR.displayName="BubbleSelect";function sR(t){const e=vn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function iR(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=t8(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function t8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var n8=kA,oR=DA,r8=MA,s8=LA,i8=VA,aR=FA,o8=zA,lR=qA,cR=KA,a8=QA,l8=XA,uR=JA,dR=ZA,hR=tR;const jd=n8,Dd=r8,Kl=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(oR,{ref:r,className:ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(s8,{asChild:!0,children:c.jsx(YT,{className:"h-4 w-4 opacity-50"})})]}));Kl.displayName=oR.displayName;const fR=g.forwardRef(({className:t,...e},n)=>c.jsx(uR,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(hj,{className:"h-4 w-4"})}));fR.displayName=uR.displayName;const pR=g.forwardRef(({className:t,...e},n)=>c.jsx(dR,{ref:n,className:ce("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(YT,{className:"h-4 w-4"})}));pR.displayName=dR.displayName;const Ql=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx(i8,{children:c.jsxs(aR,{ref:s,className:ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(fR,{}),c.jsx(o8,{className:ce("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(pR,{})]})}));Ql.displayName=aR.displayName;const c8=g.forwardRef(({className:t,...e},n)=>c.jsx(lR,{ref:n,className:ce("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));c8.displayName=lR.displayName;const Eo=g.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(cR,{ref:r,className:ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(l8,{children:c.jsx(dj,{className:"h-4 w-4"})})}),c.jsx(a8,{children:e})]}));Eo.displayName=cR.displayName;const u8=g.forwardRef(({className:t,...e},n)=>c.jsx(hR,{ref:n,className:ce("-mx-1 my-1 h-px bg-muted",t),...e}));u8.displayName=hR.displayName;const d8="/assets/Beitar%20Jerusalem-DUYWdKso.webp",h8="/assets/FC%20Ashdod-D14hKZHX.webp",f8="/assets/Hapoel%20Beer%20Sheva-CmZl1yZ6.webp",p8="/assets/Hapoel%20Hadera-CAI2d7Vx.webp",m8="/assets/Hapoel%20Haifa-B0J8zA1w.webp",g8="/assets/Hapoel%20Jerusalem-DPA4icgd.webp",v8="/assets/Hapoel%20Petach%20Tikva-BUPmMr5n.png",y8="/assets/Hapoel%20Tel%20Aviv-BBD5pSKX.png",w8="/assets/Ihud%20Bnei%20Sakhnin-BAjAT2Vc.webp",x8="/assets/Ironi%20Kiryat%20Shmona-Drnz9OVA.webp",_8="/assets/Maccabi%20Bnei%20Reineh-LeUQ4N5q.webp",E8="/assets/Maccabi%20Haifa-Ui-Am-2l.webp",b8="/assets/Maccabi%20Netanya-CXIYPex4.webp",T8="/assets/Maccabi%20Petah%20Tikva-D29r_nmV.webp",S8="/assets/Maccabi%20Tel%20Aviv-CWJtTseH.webp",I8="/assets/Ironi%20Tiberias-B9tTnOc0.webp",C8="/placeholder.svg",mR={"עירוני טבריה":I8,"מכבי חיפה":E8,"מכבי תל אביב":S8,"הפועל באר שבע":f8,"הפועל חיפה":m8,"מכבי בני ריינה":_8,"הפועל ירושלים":g8,"מכבי פתח תקוה":T8,"הפועל חדרה":p8,"הפועל תל אביב":y8,"מ.ס. אשדוד":h8,'בית"ר ירושלים':d8,"מכבי נתניה":b8,"הפועל פתח תקוה":v8,"איחוד בני סכנין":w8,"עירוני קרית שמונה":x8},_n=t=>mR[t]||C8,N8=Object.keys(mR),A8="/assets/LIGA-C1G6_0bu.png",R8="/assets/TOTO-CTZufROZ.png",P8="/assets/GAVIA-vRusrAQB.png",k8="/placeholder.svg",gR={"ליגת העל":A8,"גביע המדינה":P8,"גביע הטוטו":R8},id=t=>gR[t]||k8,j8=Object.keys(gR),D8=({isOpen:t,onClose:e,onGameAdded:n,onGameUpdated:r,gameToEdit:s})=>{const[i,o]=g.useState("senior"),[a,l]=g.useState(""),[d,h]=g.useState(""),[p,f]=g.useState(""),[x,S]=g.useState(""),[v,b]=g.useState(""),[E,w]=g.useState(""),[T,R]=g.useState(""),[D,O]=g.useState(""),{toast:I}=Zs(),C=!!s;g.useEffect(()=>{C&&s?(o(s.team||"senior"),l(s.opponent||""),h(s.date?new Date(s.date).toISOString().substring(0,16):""),f(s.venue||""),S(s.competition||""),b(s.stage||""),R(s.score||""),w(s.ticketLink||""),O(s.notes||"")):(o("senior"),l(""),h(""),f(""),S(""),b(""),R(""),w(""),O(""))},[s,C,t]);const _=(k,P)=>{if(P)return"result";const B=new Date;return new Date(k)<B?"result":"upcoming"},A=k=>{if(!k||!k.includes("-"))return null;const P=k.split("-").map(Y=>parseInt(Y.trim(),10));if(isNaN(P[0])||isNaN(P[1]))return null;const[B,ee]=P;return B>ee?!0:B<ee?!1:null},j=async k=>{if(k.preventDefault(),!a||!d||!x||!v){I({title:"נא למלא את כל שדות החובה",variant:"destructive"});return}const P={team:i,opponent:a,date:d,venue:p,competition:x,stage:v,score:T,notes:D,ticketLink:E,status:_(d,T),won:A(T),lastUpdated:Ch()};try{if(C){const B=ri(De,"games",s.id);await CN(B,P),r({...P,id:s.id}),I({title:"המשחק עודכן בהצלחה"})}else{const B=await i0(ga(De,"games"),{...P,createdAt:Ch()});n({...P,id:B.id}),I({title:"המשחק נוסף בהצלחה"})}e()}catch(B){console.error("Error saving game: ",B),I({title:C?"שגיאה בעדכון המשחק":"שגיאה בהוספת המשחק",variant:"destructive"})}};return c.jsx(NA,{open:t,onOpenChange:e,children:c.jsxs(v0,{className:"sm:max-w-2xl",dir:"rtl",children:[c.jsxs(y0,{children:[c.jsx(x0,{children:C?"עריכת משחק":"הוספת משחק חדש"}),c.jsx(_0,{children:C?"עדכן את פרטי המשחק כאן.":"מלא את פרטי המשחק החדש כאן."})]}),c.jsxs("form",{onSubmit:j,children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-3 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"team",children:"קבוצה"}),c.jsxs(jd,{value:i,onValueChange:o,children:[c.jsx(Kl,{children:c.jsx(Dd,{placeholder:"בחר קבוצה"})}),c.jsxs(Ql,{children:[c.jsx(Eo,{value:"senior",children:"קבוצה בוגרת"}),c.jsx(Eo,{value:"youth",children:"קבוצת נוער"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"venue",children:"אצטדיון"}),c.jsx(Sn,{id:"venue",value:p,onChange:k=>f(k.target.value),placeholder:"לדוגמה: אצטדיון עירוני טבריה"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"opponent",children:"יריבה*"}),c.jsxs(jd,{value:a,onValueChange:l,children:[c.jsx(Kl,{children:c.jsx(Dd,{placeholder:"בחר יריבה"})}),c.jsx(Ql,{children:N8.map(k=>c.jsx(Eo,{value:k,children:k},k))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"date",children:"תאריך ושעה*"}),c.jsx(Sn,{id:"date",type:"datetime-local",value:d,onChange:k=>h(k.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"competition",children:"מפעל*"}),c.jsxs(jd,{value:x,onValueChange:S,children:[c.jsx(Kl,{children:c.jsx(Dd,{placeholder:"בחר מפעל"})}),c.jsx(Ql,{children:j8.map(k=>c.jsx(Eo,{value:k,children:k},k))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"stage",children:"שלב/מחזור*"}),c.jsx(Sn,{id:"stage",value:v,onChange:k=>b(k.target.value),placeholder:"לדוגמה: מחזור 14"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"ticketLink",children:"קישור לכרטיסים"}),c.jsx(Sn,{id:"ticketLink",value:E,onChange:k=>w(k.target.value),placeholder:"הדבק קישור כאן"})]}),c.jsxs("div",{className:"space-y-2 md:col-span-2",children:[c.jsx(Qt,{htmlFor:"score",children:"תוצאה"}),c.jsx(Sn,{id:"score",value:T,onChange:k=>R(k.target.value),placeholder:"לדוגמה: 2-1 (התוצאה שלנו קודם)"})]}),c.jsxs("div",{className:"space-y-2 md:col-span-2",children:[c.jsx(Qt,{htmlFor:"notes",children:"הערות"}),c.jsx(Rc,{id:"notes",value:D,onChange:k=>O(k.target.value),placeholder:"הערות נוספות (כובשים, כרטיסים וכו')"})]}),c.jsx("p",{className:"text-sm text-muted-foreground md:col-span-2",children:"* שדה חובה"})]}),c.jsxs(w0,{children:[c.jsx(Se,{type:"button",variant:"outline",onClick:e,children:"ביטול"}),c.jsx(Se,{type:"submit",children:C?"שמור שינויים":"הוסף משחק"})]})]})]})})};var O8="Separator",K1="horizontal",M8=["horizontal","vertical"],vR=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=K1,...s}=t,i=L8(r)?r:K1,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return c.jsx(be.div,{"data-orientation":i,...a,...s,ref:e})});vR.displayName=O8;function L8(t){return M8.includes(t)}var yR=vR;const gi=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>c.jsx(yR,{ref:s,decorative:n,orientation:e,className:ce("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));gi.displayName=yR.displayName;const V8="/assets/fans-hero-wYZMlB-x.jpg",F8=()=>{const[t,e]=g.useState("senior"),[n,r]=g.useState([]),[s,i]=g.useState(!0),[o,a]=g.useState(!1),[l,d]=g.useState(null),{isAuthenticated:h,hasPermission:p}=ou(),{toast:f}=Zs(),x=Ba(),S=[{position:7,team:"הפועל ירושלים",played:33,won:11,drawn:11,lost:11,goalsFor:47,goalsAgainst:42,points:44},{position:8,team:"מכבי בני ריינה",played:33,won:12,drawn:5,lost:16,goalsFor:36,goalsAgainst:43,points:41},{position:9,team:"עירוני קרית שמונה",played:33,won:11,drawn:4,lost:18,goalsFor:32,goalsAgainst:52,points:37},{position:10,team:"איחוד בני סכנין",played:33,won:10,drawn:7,lost:16,goalsFor:26,goalsAgainst:44,points:36},{position:11,team:"מ.ס. אשדוד",played:33,won:8,drawn:11,lost:14,goalsFor:48,goalsAgainst:55,points:35},{position:12,team:"עירוני טבריה",played:33,won:8,drawn:11,lost:14,goalsFor:28,goalsAgainst:45,points:35},{position:13,team:"מכבי פתח תקוה",played:33,won:8,drawn:9,lost:16,goalsFor:31,goalsAgainst:50,points:33},{position:14,team:"הפועל חדרה",played:33,won:5,drawn:12,lost:16,goalsFor:31,goalsAgainst:57,points:27}];g.useEffect(()=>{(async()=>{if(!De){console.warn("Firebase not available. Using hardcoded data."),i(!1);return}try{const A=ga(De,"games"),j=Jy(A,n0("date","desc")),P=(await r0(j)).docs.map(B=>({id:B.id,...B.data()}));r(P)}catch(A){console.error("Error fetching games:",A),f({title:"שגיאה בטעינת המשחקים",variant:"destructive"})}finally{i(!1)}})()},[f]);const v=_=>{r(A=>[_,...A].sort((j,k)=>new Date(k.date).getTime()-new Date(j.date).getTime()))},b=_=>{r(A=>A.map(j=>j.id===_.id?_:j))},E=async _=>{if(!p("delete_game")){f({title:"אין לך הרשאה למחוק משחקים",variant:"destructive"});return}try{await s0(ri(De,"games",_)),r(A=>A.filter(j=>j.id!==_)),f({title:"המשחק נמחק בהצלחה"})}catch(A){console.error("Error deleting game: ",A),f({title:"שגיאה במחיקת המשחק",variant:"destructive"})}},w=_=>{d(_),a(!0)},T=()=>{a(!1),d(null)},R=n.filter(_=>_.team===t&&_.status==="upcoming"),D=n.filter(_=>_.team===t&&_.status==="result"),O=R.sort((_,A)=>new Date(_.date).getTime()-new Date(A.date).getTime()),I=O.length>0?O[0]:null,C=O.slice(1);return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("section",{className:"w-full",children:c.jsxs("div",{className:"relative h-64 md:h-96",children:[c.jsx("img",{src:V8,alt:"אוהדים עירוני טבריה",className:"w-full h-full object-cover object-center"}),c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:c.jsx("div",{className:"container mx-auto px-4 text-center z-10"})})]})}),c.jsxs("div",{className:"container mx-auto px-4 py-12",children:[c.jsxs("section",{className:"mb-8 flex justify-center items-center gap-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse bg-gray-200/50 backdrop-blur-md rounded-full p-2 border border-gray-300/60 shadow-inner",children:[c.jsx(Se,{variant:"ghost",onClick:()=>e("senior"),className:`px-8 py-2 text-sm font-semibold rounded-full transition-all duration-300 ${t==="senior"?"bg-white text-team-primary shadow-md":"text-team-primary/70 hover:text-team-primary"}`,children:"הקבוצה הבוגרת"}),c.jsx(Se,{variant:"ghost",onClick:()=>e("youth"),className:`px-8 py-2 text-sm font-semibold rounded-full transition-all duration-300 ${t==="youth"?"bg-white text-team-primary shadow-md":"text-team-primary/70 hover:text-team-primary"}`,children:"קבוצת הנוער"})]}),h&&p("add_game")&&c.jsxs(Se,{onClick:()=>a(!0),className:"bg-team-primary hover:bg-team-secondary rounded-full",children:[c.jsx(Bv,{className:"h-4 w-4 ml-2"}),"הוסף משחק"]})]}),o&&c.jsx(D8,{isOpen:o,onClose:T,onGameAdded:v,onGameUpdated:b,gameToEdit:l}),I&&c.jsxs("section",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold mb-8 text-right text-team-dark",children:"המשחק הבא"}),c.jsx("div",{className:"space-y-4",children:c.jsxs(ar,{className:"hover:shadow-lg transition-shadow relative group border-2 border-team-primary",children:[h&&c.jsxs("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[p("edit_game")&&c.jsx(Se,{variant:"outline",size:"icon",className:"h-8 w-8 bg-white",onClick:()=>w(I),children:c.jsx(Cp,{className:"h-4 w-4"})}),p("delete_game")&&c.jsxs(ql,{children:[c.jsx(Gl,{asChild:!0,children:c.jsx(Se,{variant:"destructive",size:"icon",className:"h-8 w-8",children:c.jsx(Fl,{className:"h-4 w-4"})})}),c.jsxs(Vo,{dir:"rtl",children:[c.jsx(Fo,{children:c.jsx($o,{children:"האם למחוק את המשחק?"})}),c.jsx(Bo,{children:"פעולה זו לא ניתנת לשחזור."}),c.jsxs(Uo,{children:[c.jsx(Ho,{children:"ביטול"}),c.jsx(zo,{onClick:()=>E(I.id),children:"מחק"})]})]})]})]}),c.jsxs("div",{className:"hidden md:flex flex-row items-center p-4 gap-4 justify-between",children:[c.jsxs("div",{className:"flex-grow flex items-center justify-center gap-4 md:gap-8",children:[c.jsxs("div",{className:"flex items-center flex-row-reverse gap-3",children:[c.jsx("h3",{className:"text-lg font-bold text-right hidden sm:block",children:"עירוני טבריה"}),c.jsx("img",{src:_n("עירוני טבריה"),alt:"עירוני טבריה",className:"w-12 h-12 object-contain"})]}),c.jsx("span",{className:"text-xl font-light text-muted-foreground",children:"VS"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:_n(I.opponent),alt:I.opponent,className:"w-12 h-12 object-contain"}),c.jsx("h3",{className:"text-lg font-bold text-left hidden sm:block",children:I.opponent})]})]}),c.jsx(gi,{orientation:"vertical",className:"h-16 hidden md:block"}),c.jsxs("div",{className:"hidden md:flex flex-col gap-2 text-right text-sm w-48",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs("span",{children:[I.competition,I.stage&&` - ${I.stage}`]}),c.jsx("img",{src:id(I.competition),alt:I.competition,className:"h-8 w-8 object-contain"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsx(ls,{className:"w-4 h-4"}),c.jsxs("span",{children:[new Date(I.date).toLocaleDateString("he-IL"),", ",new Date(I.date).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsx(ml,{className:"w-4 h-4"}),c.jsx("span",{children:I.venue})]})]}),c.jsx("div",{className:"pr-4",children:I.ticketLink&&c.jsx(Se,{asChild:!0,className:"bg-team-primary hover:bg-team-secondary",children:c.jsx("a",{href:I.ticketLink,target:"_blank",rel:"noopener noreferrer",children:"קנה כרטיסים"})})})]}),c.jsxs(Ls,{className:"md:hidden flex flex-col gap-4 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col items-center text-center w-20",children:[c.jsx("img",{src:_n("עירוני טבריה"),alt:"עירוני טבריה",className:"w-12 h-12 object-contain"}),c.jsx("h4",{className:"font-semibold text-sm mt-1",children:"עירוני טבריה"})]}),c.jsx("span",{className:"text-xl font-light text-muted-foreground",children:"VS"}),c.jsxs("div",{className:"flex flex-col items-center text-center w-20",children:[c.jsx("img",{src:_n(I.opponent),alt:I.opponent,className:"w-12 h-12 object-contain"}),c.jsx("h4",{className:"font-semibold text-sm mt-1",children:I.opponent})]})]}),c.jsx(gi,{}),c.jsxs("div",{className:"text-sm text-right space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs("span",{children:[I.competition,I.stage&&` - ${I.stage}`]}),c.jsx("img",{src:id(I.competition),alt:I.competition,className:"h-6 w-6 object-contain"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsxs("span",{children:[new Date(I.date).toLocaleDateString("he-IL"),", ",new Date(I.date).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})]}),c.jsx(ls,{className:"w-4 h-4"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsx("span",{children:I.venue}),c.jsx(ml,{className:"w-4 h-4"})]})]}),I.ticketLink&&c.jsx(Se,{asChild:!0,className:"bg-team-primary hover:bg-team-secondary w-full mt-2",children:c.jsx("a",{href:I.ticketLink,target:"_blank",rel:"noopener noreferrer",children:"קנה כרטיסים"})})]})]})})]}),C.length>0&&c.jsxs("section",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold mb-8 text-right text-team-dark",children:"משחקים קרובים"}),c.jsx("div",{className:"space-y-4",children:C.map(_=>c.jsxs(ar,{className:"hover:shadow-lg transition-shadow relative group",children:[h&&c.jsxs("div",{className:"absolute top-2 right-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[p("edit_game")&&c.jsx(Se,{variant:"outline",size:"icon",className:"h-8 w-8 bg-white",onClick:()=>w(_),children:c.jsx(Cp,{className:"h-4 w-4"})}),p("delete_game")&&c.jsxs(ql,{children:[c.jsx(Gl,{asChild:!0,children:c.jsx(Se,{variant:"destructive",size:"icon",className:"h-8 w-8",children:c.jsx(Fl,{className:"h-4 w-4"})})}),c.jsxs(Vo,{dir:"rtl",children:[c.jsx(Fo,{children:c.jsx($o,{children:"האם למחוק את המשחק?"})}),c.jsx(Bo,{children:"פעולה זו לא ניתנת לשחזור."}),c.jsxs(Uo,{children:[c.jsx(Ho,{children:"ביטול"}),c.jsx(zo,{onClick:()=>E(_.id),children:"מחק"})]})]})]})]}),c.jsxs("div",{className:"hidden md:flex flex-row items-center p-4 gap-4 justify-between",children:[c.jsxs("div",{className:"flex-grow flex items-center justify-center gap-4 md:gap-8",children:[c.jsxs("div",{className:"flex items-center flex-row-reverse gap-3",children:[c.jsx("h3",{className:"text-lg font-bold text-right hidden sm:block",children:"עירוני טבריה"}),c.jsx("img",{src:_n("עירוני טבריה"),alt:"עירוני טבריה",className:"w-12 h-12 object-contain"})]}),c.jsx("span",{className:"text-xl font-light text-muted-foreground",children:"VS"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:_n(_.opponent),alt:_.opponent,className:"w-12 h-12 object-contain"}),c.jsx("h3",{className:"text-lg font-bold text-left hidden sm:block",children:_.opponent})]})]}),c.jsx(gi,{orientation:"vertical",className:"h-16 hidden md:block"}),c.jsxs("div",{className:"hidden md:flex flex-col gap-2 text-right text-sm w-48",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs("span",{children:[_.competition,_.stage&&` - ${_.stage}`]}),c.jsx("img",{src:id(_.competition),alt:_.competition,className:"h-8 w-8 object-contain"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsx(ls,{className:"w-4 h-4"}),c.jsxs("span",{children:[new Date(_.date).toLocaleDateString("he-IL"),", ",new Date(_.date).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})]})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsx(ml,{className:"w-4 h-4"}),c.jsx("span",{children:_.venue})]})]}),c.jsx("div",{className:"pr-4",children:_.ticketLink&&c.jsx(Se,{asChild:!0,className:"bg-team-primary hover:bg-team-secondary",children:c.jsx("a",{href:_.ticketLink,target:"_blank",rel:"noopener noreferrer",children:"קנה כרטיסים"})})})]}),c.jsxs(Ls,{className:"md:hidden flex flex-col gap-4 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex flex-col items-center text-center w-20",children:[c.jsx("img",{src:_n("עירוני טבריה"),alt:"עירוני טבריה",className:"w-12 h-12 object-contain"}),c.jsx("h4",{className:"font-semibold text-sm mt-1",children:"עירוני טבריה"})]}),c.jsx("span",{className:"text-xl font-light text-muted-foreground",children:"VS"}),c.jsxs("div",{className:"flex flex-col items-center text-center w-20",children:[c.jsx("img",{src:_n(_.opponent),alt:_.opponent,className:"w-12 h-12 object-contain"}),c.jsx("h4",{className:"font-semibold text-sm mt-1",children:_.opponent})]})]}),c.jsx(gi,{}),c.jsxs("div",{className:"text-sm text-right space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs("span",{children:[_.competition,_.stage&&` - ${_.stage}`]}),c.jsx("img",{src:id(_.competition),alt:_.competition,className:"h-6 w-6 object-contain"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsxs("span",{children:[new Date(_.date).toLocaleDateString("he-IL"),", ",new Date(_.date).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})]}),c.jsx(ls,{className:"w-4 h-4"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 text-muted-foreground",children:[c.jsx("span",{children:_.venue}),c.jsx(ml,{className:"w-4 h-4"})]})]}),_.ticketLink&&c.jsx(Se,{asChild:!0,className:"bg-team-primary hover:bg-team-secondary w-full mt-2",children:c.jsx("a",{href:_.ticketLink,target:"_blank",rel:"noopener noreferrer",children:"קנה כרטיסים"})})]})]},_.id))})]}),R.length===0&&!s&&c.jsxs("section",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold mb-8 text-right text-team-dark",children:"משחקים קרובים"}),c.jsx("p",{className:"text-center text-muted-foreground",children:"אין משחקים קרובים."})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-3xl font-bold mb-8 text-right text-team-dark",children:"תוצאות אחרונות"}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:s?c.jsx("p",{children:"טוען תוצאות..."}):D.length>0?D.map(_=>{const A=_.venue.includes("גרין")||_.venue.includes("הגליל")||_.venue.includes("טבריה"),j=A?"עירוני טבריה":_.opponent,k=A?_.opponent:"עירוני טבריה",[P,B]=_.score.split("-").map(ee=>ee.trim());return c.jsxs(ar,{className:"hover:shadow-lg transition-shadow relative group",children:[h&&c.jsxs("div",{className:"absolute top-3 left-3 z-20 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:[p("edit_game")&&c.jsx(Se,{variant:"outline",size:"icon",className:"h-8 w-8 bg-white",onClick:()=>w(_),children:c.jsx(Cp,{className:"h-4 w-4"})}),p("delete_game")&&c.jsxs(ql,{children:[c.jsx(Gl,{asChild:!0,children:c.jsx(Se,{variant:"destructive",size:"icon",className:"h-8 w-8",children:c.jsx(Fl,{className:"h-4 w-4"})})}),c.jsxs(Vo,{dir:"rtl",children:[c.jsx(Fo,{children:c.jsx($o,{children:"האם למחוק את המשחק?"})}),c.jsx(Bo,{children:"פעולה זו לא ניתנת לשחזור."}),c.jsxs(Uo,{children:[c.jsx(Ho,{children:"ביטול"}),c.jsx(zo,{onClick:()=>E(_.id),children:"מחק"})]})]})]})]}),c.jsxs(Ls,{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 sm:gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center text-center w-20 order-1",children:[c.jsx("img",{src:_n(j),alt:j,className:"w-10 h-10 sm:w-12 sm:h-12 mb-1 object-contain"}),c.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-center",children:j})]}),c.jsxs("div",{className:"text-3xl sm:text-4xl font-bold text-team-dark px-1 order-2",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"mx-1",children:"-"}),c.jsx("span",{children:B})]}),c.jsxs("div",{className:"flex flex-col items-center text-center w-20 order-3",children:[c.jsx("img",{src:_n(k),alt:k,className:"w-10 h-10 sm:w-12 sm:h-12 mb-1 object-contain"}),c.jsx("h4",{className:"font-semibold text-xs sm:text-sm text-center",children:k})]})]}),c.jsx(gi,{orientation:"vertical",className:"h-20 mx-4"}),c.jsxs("div",{className:"flex flex-col text-right text-xs sm:text-sm space-y-1 text-muted-foreground w-28",children:[c.jsx("p",{className:"font-bold text-team-dark",children:_.competition}),!(_.competition&&_.competition.includes("מחזור"))&&c.jsxs("p",{children:["מחזור ",_.stage]}),c.jsxs("div",{className:"pt-2 flex items-center justify-end gap-1.5",children:[c.jsx("span",{children:new Date(_.date).toLocaleDateString("he-IL",{day:"2-digit",month:"2-digit",year:"numeric"})}),c.jsx(ls,{className:"w-3 h-3"})]}),c.jsx("div",{className:"flex items-center justify-end gap-1.5",children:c.jsx("span",{children:new Date(_.date).toLocaleTimeString("he-IL",{hour:"2-digit",minute:"2-digit"})})}),c.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[c.jsx("span",{className:"truncate",children:_.venue}),c.jsx(ml,{className:"w-3 h-3"})]})]})]}),_.notes&&c.jsxs(c.Fragment,{children:[c.jsx(gi,{className:"my-3"}),c.jsxs("div",{className:"text-sm text-right text-muted-foreground",children:[c.jsx("span",{className:"font-semibold text-team-dark",children:"כובשים: "}),c.jsx("span",{className:"whitespace-pre-line",children:_.notes})]})]})]})]},_.id)}):c.jsx("p",{className:"text-center text-muted-foreground col-span-full",children:"אין תוצאות אחרונות."})})]}),t==="senior"&&c.jsxs("section",{className:"mt-16",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsx("h2",{className:"text-3xl font-bold text-team-dark",children:"פלייאוף תחתון - מחזור 33"})}),c.jsxs(ar,{className:"overflow-hidden",children:[c.jsx("div",{className:"hidden md:block overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[600px]",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"מיקום"}),c.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-700",children:"קבוצה"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"משחקים"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"נצחונות"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"תיקו"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"הפסדים"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"זכות"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"חובה"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"הפרש"}),c.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700",children:"נקודות"})]})}),c.jsx("tbody",{children:S.map(_=>c.jsxs("tr",{className:`border-b hover:bg-gray-50 transition-colors ${_.team==="עירוני טבריה"?"bg-blue-50 border-l-4 border-r-4 border-team-primary":""} ${_.position>=13?"bg-red-50":""}`,children:[c.jsx("td",{className:"px-4 py-3 text-center font-semibold",children:c.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold ${_.position>=13?"bg-red-500 text-white":"bg-gray-200 text-gray-700"}`,children:_.position})}),c.jsx("td",{className:"px-4 py-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:_n(_.team),alt:_.team,className:"w-6 h-6 object-contain"}),c.jsx("span",{className:"font-medium",children:_.team})]})}),c.jsx("td",{className:"px-4 py-3 text-center",children:_.played}),c.jsx("td",{className:"px-4 py-3 text-center text-green-600 font-semibold",children:_.won}),c.jsx("td",{className:"px-4 py-3 text-center text-yellow-600 font-semibold",children:_.drawn}),c.jsx("td",{className:"px-4 py-3 text-center text-red-600 font-semibold",children:_.lost}),c.jsx("td",{className:"px-4 py-3 text-center",children:_.goalsFor}),c.jsx("td",{className:"px-4 py-3 text-center",children:_.goalsAgainst}),c.jsxs("td",{className:`px-4 py-3 text-center font-semibold ${_.goalsFor-_.goalsAgainst>0?"text-green-600":_.goalsFor-_.goalsAgainst<0?"text-red-600":"text-gray-600"}`,children:[_.goalsFor-_.goalsAgainst>0?"+":"",_.goalsFor-_.goalsAgainst]}),c.jsx("td",{className:"px-4 py-3 text-center font-bold text-lg",children:_.points})]},_.team))})]})}),c.jsx("div",{className:"md:hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-1 py-2 text-center font-semibold text-gray-700 text-xs",children:"#"}),c.jsx("th",{className:"px-2 py-2 text-right font-semibold text-gray-700 text-xs",children:"קבוצה"}),c.jsx("th",{className:"px-1 py-2 text-center font-semibold text-gray-700 text-xs",children:"מש'"}),c.jsx("th",{className:"px-1 py-2 text-center font-semibold text-gray-700 text-xs",children:"הפרש"}),c.jsx("th",{className:"px-1 py-2 text-center font-semibold text-gray-700 text-xs",children:"נק'"})]})}),c.jsx("tbody",{children:S.map(_=>{const A=_.goalsFor-_.goalsAgainst;return c.jsxs("tr",{className:`border-b ${_.team==="עירוני טבריה"?"bg-blue-50":""} ${_.position>=13?"bg-red-50":""}`,children:[c.jsx("td",{className:"px-1 py-2 text-center font-semibold",children:c.jsx("span",{className:`inline-flex items-center justify-center w-5 h-5 rounded-full text-xs font-bold ${_.position>=13?"bg-red-500 text-white":"bg-gray-200 text-gray-700"}`,children:_.position})}),c.jsx("td",{className:"px-2 py-2 text-right",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:_n(_.team),alt:_.team,className:"w-5 h-5 object-contain"}),c.jsx("span",{className:"font-medium text-sm",children:_.team})]})}),c.jsx("td",{className:"px-1 py-2 text-center text-sm",children:_.played}),c.jsx("td",{className:`px-1 py-2 text-center font-semibold text-sm ${A>0?"text-green-600":A<0?"text-red-600":"text-gray-600"}`,children:A>0?`+${A}`:A}),c.jsx("td",{className:"px-1 py-2 text-center font-bold",children:_.points})]},_.team)})})]})})]})]})]}),c.jsx("section",{className:"py-10 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[!x&&c.jsxs("div",{className:"hidden md:grid grid-cols-2 gap-x-6 gap-y-8 md:grid-cols-5 items-center",children:[c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:La,alt:"Burger Saloon",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Va,alt:"Dorot Group",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Fa,alt:"Go-Out",className:"h-20 md:h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Ua,alt:"Nof Ginosar",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:$a,alt:"מנהלת הליגות לכדורגל",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})})]}),x&&c.jsx("div",{className:"md:hidden flex justify-center items-center",children:c.jsx("img",{src:za,alt:"Sponsors",className:"w-full max-w-xs object-contain"})})]})}),c.jsx(Qn,{})]})},Q1=({id:t,title:e,description:n,youtubeUrl:r,category:s,date:i,views:o=0,featured:a=!1,showDelete:l=!1,onDelete:d})=>{const h=()=>{d&&d(t)},f=(S=>{const v=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,b=S.match(v);return b&&b[2].length===11?b[2]:null})(r),x=f?`https://img.youtube.com/vi/${f}/maxresdefault.jpg`:"";return c.jsxs(ar,{className:`group relative hover:shadow-lg transition-all duration-300 overflow-hidden ${a?"ring-2 ring-team-secondary":""}`,children:[l&&c.jsxs(ql,{children:[c.jsx(Gl,{asChild:!0,children:c.jsx(Se,{variant:"destructive",size:"icon",className:"absolute top-2 left-2 z-10 h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",title:"מחק סרטון",children:c.jsx(Fl,{className:"h-4 w-4"})})}),c.jsxs(Vo,{dir:"rtl",children:[c.jsxs(Fo,{children:[c.jsx($o,{children:"האם אתה בטוח?"}),c.jsx(Bo,{children:"פעולה זו תמחק את הסרטון לצמיתות. לא ניתן לשחזר את הפעולה."})]}),c.jsxs(Uo,{children:[c.jsx(Ho,{children:"ביטול"}),c.jsx(zo,{onClick:h,className:"bg-destructive hover:bg-destructive/90",children:"מחק"})]})]})]}),c.jsxs(dn,{to:`/video/${t}`,children:[c.jsx(au,{className:"p-0",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:x,alt:e,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"}),c.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:c.jsxs(Se,{size:"lg",className:"bg-white/20 backdrop-blur-sm hover:bg-white/30",children:[c.jsx(vj,{className:"h-6 w-6 mr-2"}),"נגן"]})}),c.jsx(Pc,{variant:"secondary",className:"absolute top-3 right-3",children:s})]})}),c.jsxs(Ls,{className:"p-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-right mb-2 text-team-dark line-clamp-2",children:e}),c.jsx("p",{className:"text-muted-foreground text-right text-sm mb-4 line-clamp-3",children:n})]}),c.jsx(g0,{className:"p-4 pt-0",children:c.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground w-full",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"ml-1",children:o}),c.jsx($v,{className:"h-3 w-3"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"ml-1",children:new Date(i).toLocaleDateString("he-IL")}),c.jsx(ls,{className:"h-3 w-3"})]})]})})]})]})},U8=({isOpen:t,onClose:e,onVideoAdded:n,onVideoUpdated:r,videoToEdit:s})=>{const{toast:i}=Zs(),[o,a]=g.useState(""),[l,d]=g.useState(""),[h,p]=g.useState(""),[f,x]=g.useState("תקצירים"),[S,v]=g.useState(!1),b=!!s;g.useEffect(()=>{b&&s?(a(s.title||""),d(s.description||""),p(s.youtubeUrl||""),x(s.category||"תקצירים")):(a(""),d(""),p(""),x("תקצירים"))},[b,s,t]);const E=R=>{const D=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,O=R.match(D);return O&&O[2].length===11},w=async R=>{if(R.preventDefault(),!o||!l||!h||!f){i({title:"נא למלא את כל שדות החובה",variant:"destructive"});return}if(!E(h)){i({title:"נא להזין כתובת YouTube תקינה",variant:"destructive"});return}v(!0);const D={title:o,description:l,youtubeUrl:h,category:f,date:new Date().toISOString(),views:0,featured:!1,lastUpdated:Ch()};try{if(b){const O=ri(De,"videos",s.id);await CN(O,D),r({...D,id:s.id}),i({title:"הסרטון עודכן בהצלחה"})}else{const O=await i0(ga(De,"videos"),{...D,createdAt:Ch()});n({...D,id:O.id}),i({title:"הסרטון נוסף בהצלחה"})}e()}catch(O){console.error("Error saving video: ",O),i({title:b?"שגיאה בעדכון הסרטון":"שגיאה בהוספת הסרטון",variant:"destructive"})}finally{v(!1)}},T=["תקצירים","ראיונות","אימונים","אירועי מועדון","שערים מיוחדים","מאחורי הקלעים"];return c.jsx(NA,{open:t,onOpenChange:e,children:c.jsxs(v0,{className:"sm:max-w-[500px]",dir:"rtl",children:[c.jsxs(y0,{children:[c.jsx(x0,{className:"text-right",children:b?"ערוך סרטון":"הוסף סרטון חדש"}),c.jsx(_0,{className:"text-right",children:b?"ערוך את פרטי הסרטון":"הוסף סרטון YouTube חדש לטבריה TV"})]}),c.jsxs("form",{onSubmit:w,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"title",className:"text-right block",children:"כותרת"}),c.jsx(Sn,{id:"title",value:o,onChange:R=>a(R.target.value),placeholder:"הכנס כותרת לסרטון...",className:"text-right",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"description",className:"text-right block",children:"תיאור"}),c.jsx(Rc,{id:"description",value:l,onChange:R=>d(R.target.value),placeholder:"הכנס תיאור קצר של הסרטון...",className:"text-right",rows:3,required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"youtubeUrl",className:"text-right block",children:"קישור YouTube"}),c.jsx(Sn,{id:"youtubeUrl",value:h,onChange:R=>p(R.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"text-right",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Qt,{htmlFor:"category",className:"text-right block",children:"קטגוריה"}),c.jsxs(jd,{value:f,onValueChange:x,children:[c.jsx(Kl,{className:"text-right",children:c.jsx(Dd,{placeholder:"בחר קטגוריה"})}),c.jsx(Ql,{children:T.map(R=>c.jsx(Eo,{value:R,children:R},R))})]})]}),c.jsxs(w0,{className:"flex space-x-2 space-x-reverse",children:[c.jsx(Se,{type:"submit",disabled:S,className:"bg-team-primary hover:bg-team-secondary",children:S?"שומר...":b?"עדכן סרטון":"הוסף סרטון"}),c.jsx(Se,{type:"button",variant:"outline",onClick:e,disabled:S,children:"ביטול"})]})]})]})})},Y1=[{id:"demo-1",title:"סיכום המשחק נגד הפועל רעננה",description:"כל השערים וההזדמנויות מהניצחון המרשים 2-1",youtubeUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",category:"תקצירים",date:new Date().toISOString(),views:2340,featured:!0},{id:"demo-2",title:"ראיון עם המאמן לאחר הניצחון",description:"המאמן מוחמד חסן מסכם את המשחק ומדבר על התכניות לעתיד",youtubeUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",category:"ראיונות",date:new Date(Date.now()-864e5).toISOString(),views:1890,featured:!1}],$8=()=>{const{toast:t}=Zs(),{user:e,logout:n,hasPermission:r,isAuthenticated:s}=ou(),[i,o]=g.useState([]),[a,l]=g.useState(!0),[d,h]=g.useState(!1),[p,f]=g.useState(null),x=Ba();g.useEffect(()=>{(async()=>{if(l(!0),!De){console.warn("Firebase not available - using demo data"),o(Y1),l(!1);return}try{const D=ga(De,"videos"),O=Jy(D,n0("date","desc")),C=(await r0(O)).docs.map(_=>({..._.data(),id:_.id}));o(C)}catch(D){console.error("Error fetching videos from Firestore: ",D),t({title:"שגיאה בטעינת הסרטונים",variant:"destructive"}),o(Y1)}finally{l(!1)}})()},[t]);const S=R=>{o(D=>[R,...D])},v=R=>{o(D=>D.map(O=>O.id===R.id?R:O))},b=async R=>{if(!De){t({title:"Firebase לא זמין - לא ניתן למחוק סרטונים",variant:"destructive"});return}try{const D=ri(De,"videos",R);await s0(D),o(O=>O.filter(I=>I.id!==R)),t({title:"הסרטון נמחק בהצלחה"})}catch(D){console.error("Error deleting video: ",D),t({title:"שגיאה במחיקת סרטון",variant:"destructive"})}},E=()=>{n(),t({title:"התנתקת בהצלחה מהמערכת."})},w=()=>{h(!1),f(null)},T=i.filter(R=>R.featured).slice(0,2);return i.slice(0,4),a?c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("div",{className:"text-center py-12",children:"טוען סרטונים..."}),c.jsx(Qn,{})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("section",{className:"bg-gradient-to-l from-team-primary to-team-dark text-white py-16",children:c.jsxs("div",{className:"container mx-auto px-4 text-center",children:[c.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"TV טבריה"}),c.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"כל התכנים, הסיכומים והראיונות של עירוני טבריה במקום אחד"})]})}),c.jsxs("div",{className:"container mx-auto px-4 py-12",children:[c.jsx("section",{className:"mb-8",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[s&&r("add_video")&&De&&c.jsxs(Se,{onClick:()=>h(!0),className:"bg-team-primary hover:bg-team-secondary",children:[c.jsx(Bv,{className:"h-4 w-4 ml-2"}),"הוסף סרטון"]}),s&&c.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:["שלום, ",e==null?void 0:e.name]}),c.jsxs(Se,{variant:"outline",size:"sm",onClick:E,children:[c.jsx(oh,{className:"h-4 w-4 ml-1"}),"התנתק"]})]})]})})}),!De&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-right mb-8",children:c.jsxs("p",{className:"text-yellow-800",children:[c.jsx("strong",{children:"מצב הדגמה:"})," Firebase לא מוגדר. מציג נתוני דגמה בלבד."]})}),T.length>0&&c.jsxs("section",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold mb-8 text-right text-team-dark",children:"סרטונים מובלטים"}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:T.map(R=>c.jsx(Q1,{...R,showDelete:s&&r("delete_video"),onDelete:b},R.id))})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-3xl font-bold mb-8 text-right text-team-dark",children:"סרטונים אחרונים"}),i.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(R=>c.jsx(Q1,{...R,showDelete:s&&r("delete_video"),onDelete:b},R.id))}):c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"אין סרטונים להצגה"})})]})]}),d&&c.jsx(U8,{isOpen:d,onClose:w,onVideoAdded:S,onVideoUpdated:v,videoToEdit:p}),c.jsx("section",{className:"py-10 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[!x&&c.jsxs("div",{className:"hidden md:grid grid-cols-2 gap-x-6 gap-y-8 md:grid-cols-5 items-center",children:[c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:La,alt:"Burger Saloon",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Va,alt:"Dorot Group",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Fa,alt:"Go-Out",className:"h-20 md:h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Ua,alt:"Nof Ginosar",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:$a,alt:"מנהלת הליגות לכדורגל",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})})]}),x&&c.jsx("div",{className:"md:hidden flex justify-center items-center",children:c.jsx("img",{src:za,alt:"Sponsors",className:"w-full max-w-xs object-contain"})})]})}),c.jsx(Qn,{})]})},B8=()=>{const t=Ba();return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("section",{className:"flex items-center justify-center min-h-[60vh]",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-6xl font-bold text-team-dark mb-4",children:"Coming Soon"}),c.jsx("p",{className:"text-xl text-muted-foreground",children:"מחלקת הנוער - בקרוב"})]})}),c.jsx("section",{className:"py-10 bg-white",children:c.jsxs("div",{className:"container mx-auto px-4",children:[!t&&c.jsxs("div",{className:"hidden md:grid grid-cols-2 gap-x-6 gap-y-8 md:grid-cols-5 items-center",children:[c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:La,alt:"Burger Saloon",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Va,alt:"Dorot Group",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Fa,alt:"Go-Out",className:"h-20 md:h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:Ua,alt:"Nof Ginosar",className:"h-20 md:h-28 object-contain grayscale hover:grayscale-0 transition duration-300"})}),c.jsx("div",{className:"flex justify-center items-center py-2",children:c.jsx("img",{src:$a,alt:"מנהלת הליגות לכדורגל",className:"h-20 object-contain grayscale hover:grayscale-0 transition duration-300"})})]}),t&&c.jsx("div",{className:"md:hidden flex justify-center items-center",children:c.jsx("img",{src:za,alt:"Sponsors",className:"w-full max-w-xs object-contain"})})]})}),c.jsx(Qn,{})]})},z8=()=>{const{login:t}=ou(),e=YS(),{toast:n}=Zs(),[r,s]=g.useState(""),[i,o]=g.useState(""),[a,l]=g.useState(!1),d=async h=>{h.preventDefault(),l(!0),await t(r,i)?(n({title:"התחברות מוצלחת!",description:"ברוך שובך למערכת הניהול."}),e("/")):(n({title:"שגיאה בהתחברות",description:"האימייל או הסיסמה שהזנת אינם נכונים.",variant:"destructive"}),l(!1))};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 p-4 -mt-20",children:c.jsxs(ar,{className:"w-full max-w-md",children:[c.jsxs(au,{className:"text-center",children:[c.jsx(m0,{className:"text-2xl",children:"התחברות למערכת הניהול"}),c.jsx(aA,{children:"יש להזין אימייל וסיסמה כדי להמשיך"})]}),c.jsxs(Ls,{children:[c.jsxs("form",{onSubmit:d,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-right block",htmlFor:"email",children:"אימייל"}),c.jsxs("div",{className:"relative",children:[c.jsx(Jm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx(Sn,{id:"email",type:"email",value:r,onChange:h=>s(h.target.value),placeholder:"הכנס כתובת אימייל",className:"text-right pl-10",required:!0})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium text-right block",htmlFor:"password",children:"סיסמה"}),c.jsxs("div",{className:"relative",children:[c.jsx(fj,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx(Sn,{id:"password",type:"password",value:i,onChange:h=>o(h.target.value),placeholder:"הכנס סיסמה",className:"text-right pl-10",required:!0})]})]}),c.jsx(Se,{type:"submit",className:"w-full bg-team-primary hover:bg-team-secondary",disabled:a,children:a?"מתחבר...":"התחבר"})]}),c.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md text-right",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"פרטי התחברות לדוגמה:"}),c.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[c.jsx("p",{children:"מנהל: `admin@tiberias.com` / `admin123`"}),c.jsx("p",{children:"עורך: `editor@tiberias.com` / `editor123`"})]})]})]})]})})]})},H8={"demo-1":{title:"ברוכים הבאים לאתר עירוני טבריה",content:`
      <p>ברוכים הבאים לאתר הרשמי של מועדון הכדורגל עירוני טבריה!</p>
      <p>המועדון שלנו הוא אחד המועדונים הוותיקים והחשובים בישראל, עם היסטוריה עשירה ומסורת ארוכת שנים.</p>
      <p>באתר זה תוכלו למצוא:</p>
      <ul>
        <li>חדשות ועדכונים על המועדון</li>
        <li>מידע על השחקנים והצוות</li>
        <li>לוח משחקים ותוצאות</li>
        <li>תמונות וסרטונים</li>
        <li>ועוד הרבה יותר...</li>
      </ul>
      <p>אנו מקווים שתהנו מהאתר ותמשיכו לתמוך במועדון!</p>
    `,image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&h=400&fit=crop",date:new Date().toISOString(),category:"כללי"},"demo-2":{title:"משחק הבית הבא",content:`
      <p>בשבת הקרובה יארח המועדון את הקבוצה הבאה באצטדיון הבית.</p>
      <p>המשחק צפוי להיות מרגש במיוחד עם תמיכה גדולה מהקהל הנאמן שלנו.</p>
      <p>כל האוהדים מוזמנים להגיע ולתמוך בקבוצה!</p>
    `,image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&h=400&fit=crop",date:new Date(Date.now()-864e5).toISOString(),category:"משחקים"}},W8=()=>{const{id:t}=XS(),[e,n]=g.useState(null),[r,s]=g.useState(!0),[i,o]=g.useState(null);return g.useEffect(()=>{(async()=>{if(!t){o("Article ID is missing."),s(!1);return}if(!De){console.warn("Firebase not available - checking demo articles");const l=H8[t];l?n(l):o("הכתבה לא נמצאה."),s(!1);return}try{const l=ri(De,"news",t),d=await SN(l);d.exists()?n(d.data()):o("הכתבה לא נמצאה.")}catch(l){o("אירעה שגיאה בטעינת הכתבה."),console.error(l)}finally{s(!1)}})()},[t]),r?c.jsx("div",{className:"flex justify-center items-center h-screen",children:"טוען כתבה..."}):i?c.jsxs("div",{className:"text-center py-10",children:[c.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"שגיאה"}),c.jsx("p",{children:i}),c.jsx(dn,{to:"/",className:"text-blue-500 hover:underline mt-4 inline-block",children:"חזור לעמוד הבית"})]}):e?c.jsxs(c.Fragment,{children:[c.jsx(Rn,{}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[!De&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-right mb-6",children:c.jsxs("p",{className:"text-yellow-800",children:[c.jsx("strong",{children:"מצב הדגמה:"})," Firebase לא מוגדר. מציג נתוני דגמה בלבד."]})}),c.jsxs("article",{children:[c.jsx("div",{className:"mb-4",children:c.jsxs(dn,{to:"/",className:"text-sm text-blue-600 hover:underline flex items-center",children:[c.jsx(QT,{className:"h-4 w-4 ml-1"}),"חזרה לכל החדשות"]})}),c.jsx("h1",{className:"text-4xl font-extrabold text-right mb-3",children:e.title}),c.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse text-muted-foreground mb-4",children:[c.jsx(Pc,{children:e.category}),c.jsx("span",{children:new Date(e.date).toLocaleDateString("he-IL")})]}),c.jsx("img",{src:e.image,alt:e.title,className:"w-full rounded-lg mb-8"}),c.jsx("div",{className:"prose prose-lg max-w-none text-right",dangerouslySetInnerHTML:{__html:e.content.replace(/\\n/g,"<br />")}})]})]}),c.jsx(Qn,{})]}):c.jsx("div",{className:"flex justify-center items-center h-screen",children:"הכתבה המבוקשת אינה קיימת."})},q8={"demo-1":{title:"סיכום המשחק נגד הפועל רעננה",description:"כל השערים וההזדמנויות מהניצחון המרשים 2-1. המשחק התקיים באצטדיון הבית שלנו עם תמיכה גדולה מהקהל הנאמן.",youtubeUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",category:"תקצירים",date:new Date().toISOString(),views:2340},"demo-2":{title:"ראיון עם המאמן לאחר הניצחון",description:"המאמן מוחמד חסן מסכם את המשחק ומדבר על התכניות לעתיד. ראיון מעמיק על האסטרטגיה והמטרות של הקבוצה.",youtubeUrl:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",category:"ראיונות",date:new Date(Date.now()-864e5).toISOString(),views:1890}},G8=()=>{const{id:t}=XS(),[e,n]=g.useState(null),[r,s]=g.useState(!0),[i,o]=g.useState(null);g.useEffect(()=>{(async()=>{if(!t){o("Video ID is missing."),s(!1);return}if(!De){console.warn("Firebase not available - checking demo videos");const p=q8[t];p?n(p):o("הסרטון לא נמצא."),s(!1);return}try{const p=ri(De,"videos",t),f=await SN(p);f.exists()?n(f.data()):o("הסרטון לא נמצא.")}catch(p){o("אירעה שגיאה בטעינת הסרטון."),console.error(p)}finally{s(!1)}})()},[t]);const a=h=>{const p=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,f=h.match(p);return f&&f[2].length===11?f[2]:null};if(r)return c.jsx("div",{className:"flex justify-center items-center h-screen",children:"טוען סרטון..."});if(i)return c.jsxs("div",{className:"text-center py-10",children:[c.jsx("h2",{className:"text-2xl font-bold text-red-600",children:"שגיאה"}),c.jsx("p",{children:i}),c.jsx(dn,{to:"/tv",className:"text-blue-500 hover:underline mt-4 inline-block",children:"חזור לטבריה TV"})]});if(!e)return c.jsx("div",{className:"flex justify-center items-center h-screen",children:"הסרטון המבוקש אינו קיים."});const l=a(e.youtubeUrl),d=l?`https://www.youtube.com/embed/${l}`:"";return c.jsxs(c.Fragment,{children:[c.jsx(Rn,{}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[!De&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-right mb-6",children:c.jsxs("p",{className:"text-yellow-800",children:[c.jsx("strong",{children:"מצב הדגמה:"})," Firebase לא מוגדר. מציג נתוני דגמה בלבד."]})}),c.jsxs("article",{children:[c.jsx("div",{className:"mb-4",children:c.jsxs(dn,{to:"/tv",className:"text-sm text-blue-600 hover:underline flex items-center",children:[c.jsx(QT,{className:"h-4 w-4 ml-1"}),"חזרה לטבריה TV"]})}),c.jsx("h1",{className:"text-4xl font-extrabold text-right mb-3",children:e.title}),c.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse text-muted-foreground mb-4",children:[c.jsx(Pc,{children:e.category}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"ml-1",children:e.views||0}),c.jsx($v,{className:"h-4 w-4"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"ml-1",children:new Date(e.date).toLocaleDateString("he-IL")}),c.jsx(ls,{className:"h-4 w-4"})]})]}),d&&c.jsx("div",{className:"relative w-full h-0 pb-[56.25%] mb-8",children:c.jsx("iframe",{src:d,title:e.title,className:"absolute top-0 left-0 w-full h-full rounded-lg",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),c.jsx("div",{className:"prose prose-lg max-w-none text-right",children:c.jsx("p",{className:"text-lg leading-relaxed",children:e.description})})]})]}),c.jsx(Qn,{})]})},K8=()=>{const t=Ia();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Q8=()=>c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("section",{className:"py-16",children:c.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-team-dark",children:"תנאי שימוש"}),c.jsxs("div",{className:"space-y-6 text-right",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"1. קבלת התנאים"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"השימוש באתר זה ובשירותים הניתנים דרכו כפוף לתנאי שימוש אלה. הגישה לאתר או השימוש בו מהווה הסכמה מצדכם לתנאים אלה."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"2. שימוש מותר"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"מותר לכם להשתמש באתר למטרות חוקיות בלבד, בהתאם לתנאי שימוש אלה."}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 mr-4",children:[c.jsx("li",{children:"צפייה במידע על המועדון והשחקנים"}),c.jsx("li",{children:"התעדכנות בחדשות ועדכונים"}),c.jsx("li",{children:"צפייה בתמונות וסרטונים"}),c.jsx("li",{children:"יצירת קשר עם המועדון"})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"3. שימוש אסור"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"אסור להשתמש באתר למטרות הבאות:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 mr-4",children:[c.jsx("li",{children:"שימוש בלתי מורשה או הפרת זכויות יוצרים"}),c.jsx("li",{children:"הפצת תוכן פוגעני או בלתי חוקי"}),c.jsx("li",{children:"ניסיון לפגוע באבטחה או יציבות האתר"}),c.jsx("li",{children:"שימוש בתוכנה זדונית או ניסיון לחדור למערכות"}),c.jsx("li",{children:"שימוש מסחרי ללא אישור מפורש"})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"4. תוכן האתר"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"כל התוכן באתר, כולל טקסטים, תמונות, סרטונים ולוגואים, מוגן בזכויות יוצרים ומהווה קניין של עירוני טבריה או שותפיה. אסור להעתיק, להפיץ או להשתמש בתוכן ללא אישור מפורש."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"5. אחריות"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"עירוני טבריה אינה אחראית לכל נזק ישיר או עקיף שייגרם כתוצאה מהשימוש באתר או מהתוכן המוצג בו. השימוש באתר הינו על אחריותכם הבלעדית."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"6. שינויים בתנאים"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"עירוני טבריה שומרת לעצמה את הזכות לשנות את תנאי השימוש בכל עת. שינויים אלה ייכנסו לתוקף עם פרסומם באתר."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"7. דין שולט"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"תנאי שימוש אלה כפופים לדין הישראלי. כל מחלוקת תיפתר בפני בתי המשפט המוסמכים בישראל."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"8. יצירת קשר"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"לשאלות או הבהרות לגבי תנאי שימוש אלה, ניתן ליצור קשר עם עירוני טבריה בכתובת: office@tiberias-fc.co.il"})]}),c.jsx("div",{className:"border-t pt-6 mt-8",children:c.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["תאריך עדכון אחרון: ",new Date().toLocaleDateString("he-IL")]})})]})]})})}),c.jsx(Qn,{})]}),Y8=()=>c.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white",children:[c.jsx(Rn,{}),c.jsx("section",{className:"py-16",children:c.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-8 text-team-dark",children:"מדיניות פרטיות"}),c.jsxs("div",{className:"space-y-6 text-right",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"1. מבוא"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"עירוני טבריה מחויבת להגנה על פרטיותכם. מדיניות פרטיות זו מסבירה כיצד אנו אוספים, משתמשים ומגנים על המידע האישי שלכם בעת השימוש באתר שלנו."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"2. מידע שאנו אוספים"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"אנו עשויים לאסוף את סוגי המידע הבאים:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 mr-4",children:[c.jsx("li",{children:'מידע אישי (שם, כתובת דוא"ל, מספר טלפון) בעת יצירת קשר'}),c.jsx("li",{children:"מידע טכני (כתובת IP, סוג דפדפן, מערכת הפעלה)"}),c.jsx("li",{children:"מידע על שימוש באתר (דפים שנצפו, זמן שהייה)"}),c.jsx("li",{children:"קובצי Cookie וטכנולוגיות דומות"})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"3. כיצד אנו משתמשים במידע"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"אנו משתמשים במידע שנאסף למטרות הבאות:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 mr-4",children:[c.jsx("li",{children:"לספק ולשפר את השירותים שלנו"}),c.jsx("li",{children:"להגיב לבקשות ולשאלות שלכם"}),c.jsx("li",{children:"לשלוח עדכונים וחדשות על המועדון"}),c.jsx("li",{children:"לשפר את חוויית המשתמש באתר"}),c.jsx("li",{children:"לאבטח את האתר ולמנוע שימוש לרעה"})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"4. שיתוף מידע"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"אנו לא מוכרים, משכירים או חולקים את המידע האישי שלכם עם צדדים שלישיים, אלא אם כן נדרש על פי חוק או עם הסכמתכם המפורשת. אנו עשויים לשתף מידע עם ספקי שירות מהימנים המסייעים לנו להפעיל את האתר."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"5. אבטחת מידע"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"אנו נוקטים באמצעי אבטחה מתאימים להגנה על המידע האישי שלכם מפני גישה בלתי מורשית, שימוש לרעה או חשיפה. עם זאת, אין אבטחה מושלמת באינטרנט."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"6. קובצי Cookie"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"האתר שלנו משתמש בקובצי Cookie כדי לשפר את חוויית המשתמש. קובצי Cookie אלה עוזרים לנו לזכור העדפות ולנתח תנועה באתר. ניתן להשבית קובצי Cookie בהגדרות הדפדפן שלכם."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"7. קישורים לאתרים חיצוניים"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"האתר שלנו עשוי להכיל קישורים לאתרים חיצוניים. אנו איננו אחראים למדיניות הפרטיות או לתוכן של אתרים אלה. אנו ממליצים לקרוא את מדיניות הפרטיות של כל אתר שבו אתם מבקרים."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"8. זכויותיכם"}),c.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"יש לכם הזכות:"}),c.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-1 mr-4",children:[c.jsx("li",{children:"לגשת למידע האישי שיש לנו עליכם"}),c.jsx("li",{children:"לתקן מידע לא מדויק"}),c.jsx("li",{children:"למחוק את המידע האישי שלכם"}),c.jsx("li",{children:"להתנגד לעיבוד המידע שלכם"}),c.jsx("li",{children:"לבקש העברה של המידע שלכם"})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"9. שינויים במדיניות"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"אנו עשויים לעדכן מדיניות פרטיות זו מעת לעת. שינויים משמעותיים יפורסמו באתר עם תאריך העדכון. המשך השימוש באתר לאחר שינויים אלה מהווה הסכמה למדיניות המעודכנת."})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold mb-3 text-team-dark",children:"10. יצירת קשר"}),c.jsx("p",{className:"text-gray-700 leading-relaxed",children:"לשאלות, בקשות או תלונות לגבי מדיניות פרטיות זו, ניתן ליצור קשר עם עירוני טבריה בכתובת: office@tiberias-fc.co.il"})]}),c.jsx("div",{className:"border-t pt-6 mt-8",children:c.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["תאריך עדכון אחרון: ",new Date().toLocaleDateString("he-IL")]})})]})]})})}),c.jsx(Qn,{})]}),X8=new S4,J8=()=>c.jsx(C4,{client:X8,children:c.jsxs(n4,{children:[c.jsx(Zj,{}),c.jsx(ND,{}),c.jsx(EM,{children:c.jsxs(mM,{children:[c.jsx(on,{path:"/",element:c.jsx(u$,{})}),c.jsx(on,{path:"/club",element:c.jsx(h$,{})}),c.jsx(on,{path:"/team",element:c.jsx(R$,{})}),c.jsx(on,{path:"/games",element:c.jsx(F8,{})}),c.jsx(on,{path:"/tv",element:c.jsx($8,{})}),c.jsx(on,{path:"/video/:id",element:c.jsx(G8,{})}),c.jsx(on,{path:"/youth",element:c.jsx(B8,{})}),c.jsx(on,{path:"/login",element:c.jsx(z8,{})}),c.jsx(on,{path:"/article/:id",element:c.jsx(W8,{})}),c.jsx(on,{path:"/terms",element:c.jsx(Q8,{})}),c.jsx(on,{path:"/privacy",element:c.jsx(Y8,{})}),c.jsx(on,{path:"*",element:c.jsx(K8,{})})]})})]})});xT(document.getElementById("root")).render(c.jsx(J8,{}));
